{"version":3,"file":"static/js/main.26b2dd6b.js","mappings":"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","sources":["../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react/index.js","images|sync|/.(png%7Cjpe?g%7Csvg)$","../node_modules/react/cjs/react.production.js","images/game/maps|sync|/.(png%7Cjpe?g%7Cwebp%7Csvg)$","../node_modules/react-dom/client.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/react-router/dist/development/chunk-ZYFC6VSF.mjs","handlers/protectedRoutes.js","handlers/sessionID.js","handlers/getMapImage.js","data/gameContext.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/@socket.io/component-emitter/lib/esm/index.js","../node_modules/engine.io-client/build/esm/globals.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js","socket.io/context.js","handlers/getImage.js","pages/login.jsx","pages/startScreen.jsx","pages/homePage.jsx","pages/signUp.jsx","pages/game/michelangeloEngine.jsx","pages/game/Map Layers/0Background.jsx","pages/game/Map Layers/4Grid.jsx","pages/test.jsx","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/check.ts","pageComponents/tabs.jsx","../node_modules/lucide-react/src/icons/backpack.ts","../node_modules/lucide-react/src/icons/scroll-text.ts","../node_modules/lucide-react/src/icons/sparkles.ts","../node_modules/lucide-react/src/icons/feather.ts","../node_modules/lucide-react/src/icons/map.ts","../node_modules/lucide-react/src/icons/notebook-pen.ts","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/settings-2.ts","../node_modules/lucide-react/src/icons/wrench.ts","pages/campaign/socketEmit.js","pageComponents/gamesidepanel/admin.jsx","pageComponents/gamesidepanel/mapeditor.jsx","pageComponents/game_sidepanel.jsx","pages/test2.jsx","../node_modules/lucide-react/src/icons/house.ts","../node_modules/lucide-react/src/icons/log-in.ts","../node_modules/lucide-react/src/icons/github.ts","../node_modules/lucide-react/src/icons/linkedin.ts","../node_modules/lucide-react/src/icons/log-out.ts","pages/setting.jsx","../node_modules/lucide-react/src/icons/book.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/scroll.ts","../node_modules/lucide-react/src/icons/sword.ts","../node_modules/lucide-react/src/icons/skull.ts","../node_modules/lucide-react/src/icons/panels-top-left.ts","pageComponents/header_menu.jsx","../node_modules/lucide-react/src/icons/inbox.ts","../node_modules/lucide-react/src/icons/refresh-ccw.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/star.ts","../node_modules/lucide-react/src/icons/paperclip.ts","pageComponents/mail_card.jsx","pageComponents/header_mail.jsx","../node_modules/lucide-react/src/icons/shield-check.ts","../node_modules/lucide-react/src/icons/settings.ts","pageComponents/header_pfp.jsx","../node_modules/lucide-react/src/icons/x.ts","../node_modules/lucide-react/src/icons/menu.ts","../node_modules/lucide-react/src/icons/mail.ts","../node_modules/lucide-react/src/icons/circle-user-round.ts","pageComponents/header.jsx","../node_modules/lucide-react/src/icons/circle-question-mark.ts","pageComponents/footer.jsx","pageComponents/bodySkeleton.jsx","pages/lore/loreMenu.jsx","pages/game/Map Layers/mapLayerShared.js","pages/game/Map Layers/1Map.jsx","pages/game/Map Layers/2Enviornment.jsx","pages/game/Map Layers/7lighting.jsx","pages/game/Map Layers/layerRegistry.js","pages/game/Map Layers/3Shadows.jsx","pages/game/Map Layers/8Effects.jsx","pages/game/game.jsx","pages/campaign/lobbyLayout.jsx","../node_modules/lucide-react/src/icons/lock.ts","../node_modules/lucide-react/src/icons/globe.ts","../node_modules/lucide-react/src/icons/play.ts","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/upload.ts","../node_modules/lucide-react/src/icons/user-x.ts","../node_modules/lucide-react/src/icons/eye.ts","pageComponents/indexCard.jsx","pages/campaign/campaignMenu.jsx","pages/campaign/joinCampaign.jsx","pages/campaign/createCampaign.jsx","../node_modules/lucide-react/src/icons/pen.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/heart.ts","../node_modules/lucide-react/src/icons/zap.ts","../node_modules/lucide-react/src/icons/droplet.ts","pageComponents/characterCard.jsx","pages/characters/characterMenu.jsx","pageComponents/skeleton.jsx","data/characterDefaults.js","data/gameDataContext.jsx","../node_modules/lucide-react/src/icons/arrow-big-left-dash.ts","../node_modules/lucide-react/src/icons/arrow-big-right-dash.ts","data/genderOptions.js","../node_modules/lucide-react/src/icons/circle-user.ts","../node_modules/lucide-react/src/icons/shuffle.ts","../node_modules/lucide-react/src/icons/chevron-up.ts","../node_modules/lucide-react/src/icons/chevron-down.ts","pageComponents/card.jsx","pages/characters/characterCreationPages/Customization.jsx","pages/characters/utils/abilityScoreModifiers.js","pages/characters/characterCreationPages/Race.jsx","data/classfeatures.js","pages/characters/utils/inventory.js","pages/characters/characterCreationPages/Class.jsx","pages/characters/characterCreationPages/Background.jsx","pages/characters/characterCreationPages/AbilityScores.jsx","pages/characters/characterCreationPages/Summary.jsx","pages/characters/characterCreation.jsx","pages/characters/characterViewerPages/equipment.jsx","pages/characters/characterViewerPages/inventory.jsx","pages/characters/characterViewerPages/effects.jsx","pages/characters/characterViewerPages/actions.jsx","pages/characters/characterViewerPages/level.jsx","pages/characters/characterViewerPages/storyBox.jsx","pages/characters/characterViewerPages/appearance.jsx","pages/characters/characterViewerPages/attributes.jsx","pages/characters/characterViewerPages/vitals.jsx","pages/characters/characterViewer.jsx","App.js","reportWebVitals.js","index.js"],"sourcesContent":["/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 256,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194048;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$5 = 31 - clz32(remainingLanes),\n      lane = 1 << index$5;\n    entanglements[index$5] = 0;\n    expirationTimes[index$5] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$5];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$5] = null, index$5 = 0;\n        index$5 < hiddenUpdatesForLane.length;\n        index$5++\n      ) {\n        var update = hiddenUpdatesForLane[index$5];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194090);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$6 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$6;\n    (lane & entangledLanes) | (root[index$6] & entangledLanes) &&\n      (root[index$6] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$8 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$8 && \"aria-\" !== prefix$8) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$9) {\n                control = x$9;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$10) {\n              control = x$10;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$282;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_417 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_417) {\n      var element$jscomp$inline_418 = document.createElement(\"div\");\n      element$jscomp$inline_418.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_417 =\n        \"function\" === typeof element$jscomp$inline_418.oninput;\n    }\n    JSCompiler_inline_result$jscomp$282 = isSupported$jscomp$inline_417;\n  } else JSCompiler_inline_result$jscomp$282 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$282 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (tag = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === tag) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            tag--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              tag++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter$1 = 0,\n  thenableState$1 = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter$1 = 0;\n  thenableState$1 = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState$1 = null);\n    thenableIndexCounter$1 = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter$1 = localIdCounter = 0;\n  thenableState$1 = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  thenable = trackUsedThenable(thenableState$1, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$32 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$32 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$32 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$32 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  var create = subscribeToStore.bind(null, fiber, hook, subscribe);\n  updateEffectImpl(2048, 8, create, [subscribe]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 124) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$38) {\n      onActionError(actionQueue, node, error$38);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, createDeps) {\n  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((createDeps = create.next),\n      (create.next = tag),\n      (tag.next = createDeps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction createEffectInstance() {\n  return { destroy: void 0, resource: void 0 };\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {\n  var hook = mountWorkInProgressHook();\n  createDeps = void 0 === createDeps ? null : createDeps;\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    createEffectInstance(),\n    create,\n    createDeps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, createDeps) {\n  mountEffectImpl(8390656, 8, create, createDeps);\n}\nfunction updateEffect(create, createDeps) {\n  updateEffectImpl(2048, 8, create, createDeps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$41 = enqueueUpdate(provider, fiber, lane);\n        null !== root$41 &&\n          (scheduleUpdateOnFiber(root$41, provider, lane),\n          entangleTransitions(root$41, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n    readContext: readContext,\n    use: use,\n    useCallback: throwInvalidHookError,\n    useContext: throwInvalidHookError,\n    useEffect: throwInvalidHookError,\n    useImperativeHandle: throwInvalidHookError,\n    useLayoutEffect: throwInvalidHookError,\n    useInsertionEffect: throwInvalidHookError,\n    useMemo: throwInvalidHookError,\n    useReducer: throwInvalidHookError,\n    useRef: throwInvalidHookError,\n    useState: throwInvalidHookError,\n    useDebugValue: throwInvalidHookError,\n    useDeferredValue: throwInvalidHookError,\n    useTransition: throwInvalidHookError,\n    useSyncExternalStore: throwInvalidHookError,\n    useId: throwInvalidHookError,\n    useHostTransitionStatus: throwInvalidHookError,\n    useFormState: throwInvalidHookError,\n    useActionState: throwInvalidHookError,\n    useOptimistic: throwInvalidHookError,\n    useMemoCache: throwInvalidHookError,\n    useCacheRefresh: throwInvalidHookError\n  },\n  HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 124) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        createEffectInstance(),\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"\\u00ab\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"\\u00bb\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"\\u00ab\" +\n            identifierPrefix +\n            \"r\" +\n            JSCompiler_inline_result.toString(32) +\n            \"\\u00bb\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  HooksDispatcherOnRerender = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: rerenderReducer,\n    useRef: updateRef,\n    useState: function () {\n      return rerenderReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return null === currentHook\n        ? mountDeferredValueImpl(hook, value, initialValue)\n        : updateDeferredValueImpl(\n            hook,\n            currentHook.memoizedState,\n            value,\n            initialValue\n          );\n    },\n    useTransition: function () {\n      var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: rerenderActionState,\n    useActionState: rerenderActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      if (null !== currentHook)\n        return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n      hook.baseState = passthrough;\n      return [passthrough, hook.queue.dispatch];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  thenableState = null,\n  thenableIndexCounter = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  return trackUsedThenable(thenableState, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          \"$?\" === state.data ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (prevState = 0; null !== nextChildren; )\n          (prevState =\n            prevState | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = prevState & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912,\n                hydrationErrors: null\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          isSuspenseInstanceFallback(nextInstance)\n            ? (workInProgress.lanes = 32)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextInstance))\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = renderLanes & -renderLanes),\n        (nextProps =\n          0 !== (nextProps & 42)\n            ? 1\n            : getBumpedLaneForHydrationByLane(nextProps)),\n        (nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps),\n        0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n      )\n        throw (\n          ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 65011712),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  offscreenProps.stateNode = {\n    _visibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null\n  };\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        lazyComponent = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        init = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        lazyComponent = nextState.cache;\n        pushProvider(workInProgress, CacheContext, lazyComponent);\n        lazyComponent !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        lazyComponent = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: lazyComponent,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else if (lazyComponent !== init) {\n            init = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(init);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (lazyComponent === init) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(\n            current,\n            workInProgress,\n            lazyComponent,\n            renderLanes\n          );\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (init = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = init),\n              (nextHydratableInstance = getNextHydratable(\n                lazyComponent.firstChild\n              )))\n            : (nextHydratableInstance = init)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = prevState.children;\n      shouldSetTextContent(init, prevState)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        (renderLanes = workInProgress.mode),\n        (lazyComponent = {\n          mode: lazyComponent.mode,\n          children: lazyComponent.children\n        }),\n        null === current\n          ? ((renderLanes = mountWorkInProgressOffscreenFiber(\n              lazyComponent,\n              renderLanes\n            )),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes))\n          : ((renderLanes = createWorkInProgress(current.child, lazyComponent)),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes)),\n        workInProgress\n      );\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (prevState = createCache()),\n              (init.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && (init.pooledCacheLanes |= renderLanes),\n              (init = prevState)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = prevState.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194048) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$113 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$113 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$113\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$113.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags & 65011712),\n        (subtreeFlags |= child$114.flags & 65011712),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  else\n    for (child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags),\n        (subtreeFlags |= child$114.flags),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 31:\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$127 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$127 = newProps.memoizedState.cachePool.pool);\n        cache$127 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$127 = type.rendering;\n      if (null === cache$127)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$127 = findFirstSuspended(current);\n              if (null !== cache$127) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$127.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$127)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$127.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$127.sibling = workInProgress.child),\n            (workInProgress.child = cache$127))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$127)\n              : (workInProgress.child = cache$127),\n            (type.last = cache$127));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$143) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$143);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1024) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$142) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$142\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearSuspenseBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$144 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$144, \"\"), (hostParentFiber.flags &= -33));\n          var before$145 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$145, parent$144);\n          break;\n        case 3:\n        case 4:\n          var parent$146 = hostParentFiber.stateNode.containerInfo,\n            before$147 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$147,\n            parent$146\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 124) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              2,\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  )\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (suspendedCommitReason = waitForCommitToBeReady()),\n      null !== suspendedCommitReason)\n    ) {\n      root.cancelPendingCommit = suspendedCommitReason(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$4 = 31 - clz32(lanes),\n      lane = 1 << index$4;\n    didAttemptEntireTree[index$4] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState = null),\n        (thenableIndexCounter = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$2 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$2;\n      lanes |= root[index$2];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$169) {\n      handleThrow(root, thrownValue$169);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState = null;\n  thenableIndexCounter = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects(!0);\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 4194090) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects(wasDelayedCommit) {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects(wasDelayedCommit);\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$174 = firstScheduledRoot; null !== root$174; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$174.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$174.suspendedLanes,\n                pingedLanes = root$174.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$174,\n                root$174 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$174.cancelPendingCommit ||\n                  -1 !== root$174.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$174, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n        root$174 = root$174.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$3 = 31 - clz32(lanes),\n      lane = 1 << index$3,\n      expirationTime = expirationTimes[index$3];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$3] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects(!0) && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1528 = 0;\n  i$jscomp$inline_1528 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1528++\n) {\n  var eventName$jscomp$inline_1529 =\n      simpleEventPluginEvents[i$jscomp$inline_1528],\n    domEventName$jscomp$inline_1530 =\n      eventName$jscomp$inline_1529.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1531 =\n      eventName$jscomp$inline_1529[0].toUpperCase() +\n      eventName$jscomp$inline_1529.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1530,\n    \"on\" + capitalizedEvent$jscomp$inline_1531\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$188 = props[hasSrc];\n          if (null != propValue$188)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$188;\n                break;\n              case \"type\":\n                propValue = propValue$188;\n                break;\n              case \"checked\":\n                checked = propValue$188;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$188;\n                break;\n              case \"value\":\n                propKey = propValue$188;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$188;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$188)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$188, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$188 in props)\n          props.hasOwnProperty(propValue$188) &&\n            ((hasSrc = props[propValue$188]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$188,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$205 in nextProps) {\n        var propKey = nextProps[propKey$205];\n        lastProp = lastProps[propKey$205];\n        if (\n          nextProps.hasOwnProperty(propKey$205) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$205) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$205,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$205 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$205 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$205\n        ? updateOptions(domElement, !!lastProps, propKey$205, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$205 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$205 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$205, propKey);\n      return;\n    case \"option\":\n      for (var propKey$221 in lastProps)\n        if (\n          ((propKey$205 = lastProps[propKey$221]),\n          lastProps.hasOwnProperty(propKey$221) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$221))\n        )\n          switch (propKey$221) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$221,\n                null,\n                nextProps,\n                propKey$205\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$205 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$205 &&\n                \"function\" !== typeof propKey$205 &&\n                \"symbol\" !== typeof propKey$205;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$226 in lastProps)\n        (propKey$205 = lastProps[propKey$226]),\n          lastProps.hasOwnProperty(propKey$226) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$226) &&\n            setProp(domElement, tag, propKey$226, null, nextProps, propKey$205);\n      for (checked in nextProps)\n        if (\n          ((propKey$205 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$205)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$231 in lastProps)\n          (propKey$205 = lastProps[propKey$231]),\n            lastProps.hasOwnProperty(propKey$231) &&\n              void 0 !== propKey$205 &&\n              !nextProps.hasOwnProperty(propKey$231) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$231,\n                void 0,\n                nextProps,\n                propKey$205\n              );\n        for (defaultChecked in nextProps)\n          (propKey$205 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$205 === propKey ||\n              (void 0 === propKey$205 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$236 in lastProps)\n    (propKey$205 = lastProps[propKey$236]),\n      lastProps.hasOwnProperty(propKey$236) &&\n        null != propKey$205 &&\n        !nextProps.hasOwnProperty(propKey$236) &&\n        setProp(domElement, tag, propKey$236, null, nextProps, propKey$205);\n  for (lastProp in nextProps)\n    (propKey$205 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$205 === propKey ||\n        (null == propKey$205 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$205, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    possiblePreambleContribution = 0,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (\n          0 < possiblePreambleContribution &&\n          8 > possiblePreambleContribution\n        ) {\n          node = possiblePreambleContribution;\n          var ownerDocument = parentInstance.ownerDocument;\n          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);\n          node & 2 && releaseSingletonInstance(ownerDocument.body);\n          if (node & 4)\n            for (\n              node = ownerDocument.head,\n                releaseSingletonInstance(node),\n                ownerDocument = node.firstChild;\n              ownerDocument;\n\n            ) {\n              var nextNode$jscomp$0 = ownerDocument.nextSibling,\n                nodeName = ownerDocument.nodeName;\n              ownerDocument[internalHoistableMarker] ||\n                \"SCRIPT\" === nodeName ||\n                \"STYLE\" === nodeName ||\n                (\"LINK\" === nodeName &&\n                  \"stylesheet\" === ownerDocument.rel.toLowerCase()) ||\n                node.removeChild(ownerDocument);\n              ownerDocument = nextNode$jscomp$0;\n            }\n        }\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else\n        \"$\" === node || \"$?\" === node || \"$!\" === node\n          ? depth++\n          : (possiblePreambleContribution = node.charCodeAt(0) - 48);\n    else possiblePreambleContribution = 0;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"complete\" === instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$?\" !== instance.data || \"complete\" === ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$244 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$245 = styles$244.get(type);\n        resource$245 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$245 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$244.set(type, resource$245),\n          (styles$244 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$244._p &&\n            ((resource$245.instance = styles$244),\n            (resource$245.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$244 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$245.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$245;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$250 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$250)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$250),\n            markNodeAsHoistable(instance$250),\n            instance$250\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$250 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$250);\n        var linkInstance = instance$250;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$250, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$250, props.precedence, hoistableRoot);\n        return (resource.instance = instance$250);\n      case \"script\":\n        instance$250 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$250)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$250)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane();\n              lane = getBumpedLaneForHydrationByLane(lane);\n              var root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1785 = React.version;\nif (\n  \"19.1.1\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1785\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1785,\n      \"19.1.1\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2256 = {\n  bundleType: 0,\n  version: \"19.1.1\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.1.1\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2257 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2257.isDisabled &&\n    hook$jscomp$inline_2257.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2257.inject(\n        internals$jscomp$inline_2256\n      )),\n        (injectedHook = hook$jscomp$inline_2257);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.1.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","var map = {\n\t\"./game/background/calm1.png\": 701,\n\t\"./game/background/calm2.png\": 870,\n\t\"./game/background/calm3.png\": 367,\n\t\"./game/background/calm4.png\": 224,\n\t\"./game/background/cloud1.png\": 215,\n\t\"./game/background/cloud2.png\": 804,\n\t\"./game/background/cloud3.png\": 253,\n\t\"./game/background/cloud4.png\": 746,\n\t\"./game/background/night1.png\": 568,\n\t\"./game/background/night2.png\": 427,\n\t\"./game/background/night3.png\": 322,\n\t\"./game/background/night4.png\": 445,\n\t\"./game/background/phone.png\": 115,\n\t\"./game/background/storm1.png\": 775,\n\t\"./game/background/sunset1.png\": 936,\n\t\"./game/background/sunset2.png\": 795,\n\t\"./game/background/sunset3.png\": 570,\n\t\"./game/background/sunset4.png\": 517,\n\t\"./website/header/header_email.png\": 973,\n\t\"./website/header/header_menu.png\": 240,\n\t\"./website/header/header_pfp.png\": 79,\n\t\"./website/header/header_setting.png\": 357,\n\t\"./website/homePage/homepage_background.jpg\": 255,\n\t\"./website/loginPage/loginPage_background.jpg\": 941,\n\t\"./website/placeholder/empty_pfp.jpg\": 807,\n\t\"./website/startPage/h.jpg\": 21,\n\t\"./website/startPage/startPage_background.jpg\": 121\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 133;","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null, V: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, createDeps, update) {\n  var dispatcher = ReactSharedInternals.H;\n  if (\"function\" === typeof update)\n    throw Error(\n      \"useEffect CRUD overload is not enabled in this build of React.\"\n    );\n  return dispatcher.useEffect(create, createDeps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.1.1\";\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 385;\nmodule.exports = webpackEmptyContext;","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.1.1\";\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"a3c1d153\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"client:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/DnM/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkclient\"] = self[\"webpackChunkclient\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","/**\n * react-router v7.8.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    return createBrowserURLImpl(to);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\nfunction createBrowserURLImpl(to, isAbsolute = false) {\n  let base = \"http://localhost\";\n  if (typeof window !== \"undefined\") {\n    base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n  }\n  invariant(base, \"No window.location.(origin|href) available to create URL\");\n  let href = typeof to === \"string\" ? to : createPath(to);\n  href = href.replace(/ $/, \"%20\");\n  if (!isAbsolute && href.startsWith(\"//\")) {\n    href = base + href;\n  }\n  return new URL(href, base);\n}\n\n// lib/router/utils.ts\nfunction unstable_createContext(defaultValue) {\n  return { defaultValue };\n}\nvar _map;\nvar unstable_RouterContextProvider = class {\n  /**\n   * Create a new `unstable_RouterContextProvider` instance\n   * @param init An optional initial context map to populate the provider with\n   */\n  constructor(init) {\n    __privateAdd(this, _map, /* @__PURE__ */ new Map());\n    if (init) {\n      for (let [context, value] of init) {\n        this.set(context, value);\n      }\n    }\n  }\n  /**\n   * Access a value from the context. If no value has been set for the context,\n   * it will return the context's `defaultValue` if provided, or throw an error\n   * if no `defaultValue` was set.\n   * @param context The context to get the value for\n   * @returns The value for the context, or the context's `defaultValue` if no\n   * value was set\n   */\n  get(context) {\n    if (__privateGet(this, _map).has(context)) {\n      return __privateGet(this, _map).get(context);\n    }\n    if (context.defaultValue !== void 0) {\n      return context.defaultValue;\n    }\n    throw new Error(\"No value found for context\");\n  }\n  /**\n   * Set a value for the context. If the context already has a value set, this\n   * will overwrite it.\n   *\n   * @param context The context to set the value for\n   * @param value The value to set for the context\n   * @returns {void}\n   */\n  set(context, value) {\n    __privateGet(this, _map).set(context, value);\n  }\n};\n_map = new WeakMap();\nvar unsupportedLazyRouteObjectKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteObjectKey(key) {\n  return unsupportedLazyRouteObjectKeys.has(\n    key\n  );\n}\nvar unsupportedLazyRouteFunctionKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"unstable_middleware\",\n  \"children\"\n]);\nfunction isUnsupportedLazyRouteFunctionKey(key) {\n  return unsupportedLazyRouteFunctionKeys.has(\n    key\n  );\n}\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}, allowInPlaceMutations = false) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      allowInPlaceMutations || !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id,\n        children: void 0\n      };\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest,\n          allowInPlaceMutations\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    loaderData: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\") {\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify2 = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify2(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return stringify2(param);\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  );\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction prependBasename({\n  basename,\n  pathname\n}) {\n  return pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n}\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX.test(url);\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser2 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let hydrationRouteProperties2 = init.hydrationRouteProperties || [];\n  let mapRouteProperties2 = init.mapRouteProperties || defaultMapRouteProperties;\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;\n  let future = {\n    unstable_middleware: false,\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  let initialized;\n  if (initialMatches == null && !init.patchRoutesOnNavigation) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialized = true;\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  } else {\n    if (initialMatches && !init.hydrationData) {\n      let fogOfWar = checkFogOfWar(\n        initialMatches,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active) {\n        initialMatches = null;\n      }\n    }\n    if (!initialMatches) {\n      initialized = false;\n      initialMatches = [];\n      let fogOfWar = checkFogOfWar(\n        null,\n        dataRoutes,\n        init.history.location.pathname\n      );\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatchesIsFOW = true;\n        initialMatches = fogOfWar.matches;\n      }\n    } else if (initialMatches.some((m) => m.route.lazy)) {\n      initialized = false;\n    } else if (!initialMatches.some((m) => m.route.loader)) {\n      initialized = true;\n    } else {\n      let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n      let errors = init.hydrationData ? init.hydrationData.errors : null;\n      if (errors) {\n        let idx = initialMatches.findIndex(\n          (m) => errors[m.route.id] !== void 0\n        );\n        initialized = initialMatches.slice(0, idx + 1).every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      } else {\n        initialized = initialMatches.every(\n          (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n        );\n      }\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser2) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    if (newState.matches) {\n      newState.matches = newState.matches.map((m) => {\n        let route = manifest[m.route.id];\n        let matchRoute = m.route;\n        if (matchRoute.element !== route.element || matchRoute.errorElement !== route.errorElement || matchRoute.hydrateFallbackElement !== route.hydrateFallbackElement) {\n          return {\n            ...m,\n            route\n          };\n        }\n        return m;\n      });\n    }\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let restoreScrollPosition = isUninterruptedRevalidation ? false : getSavedScrollPosition(location, newState.matches || state.matches);\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition,\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let scopedContext = init.unstable_getContext ? await init.unstable_getContext() : new unstable_RouterContextProvider();\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        opts && opts.initialHydration === true,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, scopedContext, isFogOfWar, initialHydration, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        initialHydration ? [] : hydrationRouteProperties2,\n        scopedContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        scopedContext,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (!result) {\n        for (let match of matches) {\n          if (results[match.route.id]) {\n            result = results[match.route.id];\n            break;\n          }\n        }\n      }\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [\n          boundaryMatch.route.id,\n          result,\n          actionMatch.route.id\n        ]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      request,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration ? [] : hydrationRouteProperties2,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      pendingActionResult\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (!init.dataStrategy && !dsMatches.some((m) => m.shouldLoad) && !dsMatches.some((m) => m.route.unstable_middleware) && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      request,\n      scopedContext\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let scopedContext = init.unstable_getContext ? await init.unstable_getContext() : new unstable_RouterContextProvider();\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        new URL(fetchRequest.url).pathname,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n      }\n    }\n    let match = getTargetMatch(requestMatches, path);\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId\n      });\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let fetchMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      requestMatches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let actionResults = await callDataStrategy(\n      fetchRequest,\n      fetchMatches,\n      scopedContext,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let { dsMatches, revalidatingFetchers } = getMatchesToLoad(\n      revalidationRequest,\n      scopedContext,\n      mapRouteProperties2,\n      manifest,\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      hydrationRouteProperties2,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      init.patchRoutesOnNavigation != null,\n      [match.route.id, actionResult]\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      dsMatches,\n      revalidatingFetchers,\n      revalidationRequest,\n      scopedContext\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        new URL(fetchRequest.url).pathname,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let match = getTargetMatch(matches, path);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let dsMatches = getTargetedDataStrategyMatches(\n      mapRouteProperties2,\n      manifest,\n      fetchRequest,\n      matches,\n      match,\n      hydrationRouteProperties2,\n      scopedContext\n    );\n    let results = await callDataStrategy(\n      fetchRequest,\n      dsMatches,\n      scopedContext,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser2) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (isAbsoluteUrl(location)) {\n        const url = createBrowserURLImpl(location, true);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(request, matches, scopedContext, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        request,\n        matches,\n        fetcherKey,\n        scopedContext,\n        false\n      );\n    } catch (e) {\n      matches.filter((m) => m.shouldLoad).forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    if (request.signal.aborted) {\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(matches, fetchersToLoad, request, scopedContext) {\n    let loaderResultsPromise = callDataStrategy(\n      request,\n      matches,\n      scopedContext,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.request && f.controller) {\n          let results = await callDataStrategy(\n            f.request,\n            f.matches,\n            scopedContext,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (init.patchRoutesOnNavigation) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!init.patchRoutesOnNavigation) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await init.patchRoutesOnNavigation({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2,\n              false\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return { type: \"success\", matches: newMatches };\n      }\n      let newPartialMatches = matchRoutesImpl(\n        routesToUse,\n        pathname,\n        basename,\n        true\n      );\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every(\n        (m, i) => m.route.id === newPartialMatches[i].route.id\n      )) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children, unstable_allowElementMutations = false) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2,\n      unstable_allowElementMutations\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n    _internalSetStateDoNotUseOrYouWillBreakYourApp(newState) {\n      updateState(newState);\n    }\n  };\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties2 = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    filterMatchesToLoad,\n    skipLoaderErrorBubbling,\n    skipRevalidation,\n    dataStrategy,\n    unstable_generateMiddlewareResponse: generateMiddlewareResponse\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return generateMiddlewareResponse ? generateMiddlewareResponse(() => Promise.resolve(staticContext)) : staticContext;\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return generateMiddlewareResponse ? generateMiddlewareResponse(() => Promise.resolve(staticContext)) : staticContext;\n    }\n    if (generateMiddlewareResponse) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`\"\n      );\n      try {\n        await loadLazyMiddlewareForMatches(\n          matches,\n          manifest,\n          mapRouteProperties2\n        );\n        let renderedStaticContext;\n        let response = await runServerMiddlewarePipeline(\n          {\n            request,\n            matches,\n            params: matches[0].params,\n            // If we're calling middleware then it must be enabled so we can cast\n            // this to the proper type knowing it's not an `AppLoadContext`\n            context: requestContext\n          },\n          async () => {\n            let res = await generateMiddlewareResponse(\n              async (revalidationRequest) => {\n                let result2 = await queryImpl(\n                  revalidationRequest,\n                  location,\n                  matches,\n                  requestContext,\n                  dataStrategy || null,\n                  skipLoaderErrorBubbling === true,\n                  null,\n                  filterMatchesToLoad || null,\n                  skipRevalidation === true\n                );\n                if (isResponse(result2)) {\n                  return result2;\n                }\n                renderedStaticContext = { location, basename, ...result2 };\n                return renderedStaticContext;\n              }\n            );\n            return res;\n          },\n          async (error, routeId) => {\n            if (isResponse(error)) {\n              return error;\n            }\n            if (renderedStaticContext) {\n              if (routeId in renderedStaticContext.loaderData) {\n                renderedStaticContext.loaderData[routeId] = void 0;\n              }\n              let staticContext = getStaticContextFromError(\n                dataRoutes,\n                renderedStaticContext,\n                error,\n                skipLoaderErrorBubbling ? routeId : findNearestBoundary(matches, routeId).route.id\n              );\n              return generateMiddlewareResponse(\n                () => Promise.resolve(staticContext)\n              );\n            } else {\n              let boundaryRouteId = skipLoaderErrorBubbling ? routeId : findNearestBoundary(\n                matches,\n                matches.find(\n                  (m) => m.route.id === routeId || m.route.loader\n                )?.route.id || routeId\n              ).route.id;\n              let staticContext = {\n                matches,\n                location,\n                basename,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                  [boundaryRouteId]: error\n                },\n                statusCode: isRouteErrorResponse(error) ? error.status : 500,\n                actionHeaders: {},\n                loaderHeaders: {}\n              };\n              return generateMiddlewareResponse(\n                () => Promise.resolve(staticContext)\n              );\n            }\n          }\n        );\n        invariant(isResponse(response), \"Expected a response in query()\");\n        return response;\n      } catch (e) {\n        if (isResponse(e)) {\n          return e;\n        }\n        throw e;\n      }\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null,\n      filterMatchesToLoad || null,\n      skipRevalidation === true\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy,\n    unstable_generateMiddlewareResponse: generateMiddlewareResponse\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    if (generateMiddlewareResponse) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`\"\n      );\n      await loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2);\n      let response = await runServerMiddlewarePipeline(\n        {\n          request,\n          matches,\n          params: matches[0].params,\n          // If we're calling middleware then it must be enabled so we can cast\n          // this to the proper type knowing it's not an `AppLoadContext`\n          context: requestContext\n        },\n        async () => {\n          let res = await generateMiddlewareResponse(\n            async (innerRequest) => {\n              let result2 = await queryImpl(\n                innerRequest,\n                location,\n                matches,\n                requestContext,\n                dataStrategy || null,\n                false,\n                match,\n                null,\n                false\n              );\n              let processed = handleQueryResult(result2);\n              return isResponse(processed) ? processed : typeof processed === \"string\" ? new Response(processed) : Response.json(processed);\n            }\n          );\n          return res;\n        },\n        (error) => {\n          if (isRouteErrorResponse(error)) {\n            return Promise.resolve(errorResponseToResponse(error));\n          }\n          if (isResponse(error)) {\n            return Promise.resolve(error);\n          }\n          throw error;\n        }\n      );\n      return response;\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match,\n      null,\n      false\n    );\n    return handleQueryResult(result);\n    function handleQueryResult(result2) {\n      if (isResponse(result2)) {\n        return result2;\n      }\n      let error = result2.errors ? Object.values(result2.errors)[0] : void 0;\n      if (error !== void 0) {\n        throw error;\n      }\n      if (result2.actionData) {\n        return Object.values(result2.actionData)[0];\n      }\n      if (result2.loaderData) {\n        return Object.values(result2.loaderData)[0];\n      }\n      return void 0;\n    }\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null,\n          filterMatchesToLoad,\n          skipRevalidation\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch,\n        filterMatchesToLoad\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        actionMatch,\n        [],\n        requestContext\n      );\n      let results = await callDataStrategy(\n        request,\n        dsMatches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    if (skipRevalidation) {\n      if (isErrorResult(result)) {\n        let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n        return {\n          statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n          actionData: null,\n          actionHeaders: {\n            ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n          },\n          matches,\n          loaderData: {},\n          errors: {\n            [boundaryMatch.route.id]: result.error\n          },\n          loaderHeaders: {}\n        };\n      } else {\n        return {\n          actionData: {\n            [actionMatch.route.id]: result.data\n          },\n          actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {},\n          matches,\n          loaderData: {},\n          errors: null,\n          statusCode: result.statusCode || 200,\n          loaderHeaders: {}\n        };\n      }\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let handlerContext2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        filterMatchesToLoad,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...handlerContext2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let handlerContext = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null,\n      filterMatchesToLoad\n    );\n    return {\n      ...handlerContext,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let dsMatches;\n    if (routeMatch) {\n      dsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        request,\n        matches,\n        routeMatch,\n        [],\n        requestContext\n      );\n    } else {\n      let maxIdx = pendingActionResult && isErrorResult(pendingActionResult[1]) ? (\n        // Up to but not including the boundary\n        matches.findIndex((m) => m.route.id === pendingActionResult[0]) - 1\n      ) : void 0;\n      dsMatches = matches.map((match, index) => {\n        if (maxIdx != null && index > maxIdx) {\n          return getDataStrategyMatch(\n            mapRouteProperties2,\n            manifest,\n            request,\n            match,\n            [],\n            requestContext,\n            false\n          );\n        }\n        return getDataStrategyMatch(\n          mapRouteProperties2,\n          manifest,\n          request,\n          match,\n          [],\n          requestContext,\n          (match.route.loader || match.route.lazy) != null && (!filterMatchesToLoad || filterMatchesToLoad(match))\n        );\n      });\n    }\n    if (!dataStrategy && !dsMatches.some((m) => m.shouldLoad)) {\n      return {\n        matches,\n        loaderData: {},\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      request,\n      dsMatches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let handlerContext = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    return {\n      ...handlerContext,\n      matches\n    };\n  }\n  async function callDataStrategy(request, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      request,\n      matches,\n      null,\n      requestContext,\n      true\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isResponse(result.result) && isRouteRequest) {\n          throw result;\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, handlerContext, error, boundaryId) {\n  let errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;\n  return {\n    ...handlerContext,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [errorBoundaryId]: error\n    }\n  };\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = prependBasename({ basename, pathname: path.pathname });\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getMatchesToLoad(request, scopedContext, mapRouteProperties2, manifest, history, state, matches, submission, location, lazyRoutePropertiesToSkip, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, hasPatchRoutesOnNavigation, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let maxIdx;\n  if (initialHydration && state.errors) {\n    let boundaryId = Object.keys(state.errors)[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    let boundaryId = pendingActionResult[0];\n    maxIdx = matches.findIndex((m) => m.route.id === boundaryId) - 1;\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let baseShouldRevalidateArgs = {\n    currentUrl,\n    currentParams: state.matches[0]?.params || {},\n    nextUrl,\n    nextParams: matches[0].params,\n    ...submission,\n    actionResult,\n    actionStatus\n  };\n  let dsMatches = matches.map((match, index) => {\n    let { route } = match;\n    let forceShouldLoad = null;\n    if (maxIdx != null && index > maxIdx) {\n      forceShouldLoad = false;\n    } else if (route.lazy) {\n      forceShouldLoad = true;\n    } else if (route.loader == null) {\n      forceShouldLoad = false;\n    } else if (initialHydration) {\n      forceShouldLoad = shouldLoadRouteOnHydration(\n        route,\n        state.loaderData,\n        state.errors\n      );\n    } else if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      forceShouldLoad = true;\n    }\n    if (forceShouldLoad !== null) {\n      return getDataStrategyMatch(\n        mapRouteProperties2,\n        manifest,\n        request,\n        match,\n        lazyRoutePropertiesToSkip,\n        scopedContext,\n        forceShouldLoad\n      );\n    }\n    let defaultShouldRevalidate = shouldSkipRevalidation ? false : (\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(state.matches[index], match)\n    );\n    let shouldRevalidateArgs = {\n      ...baseShouldRevalidateArgs,\n      defaultShouldRevalidate\n    };\n    let shouldLoad = shouldRevalidateLoader(match, shouldRevalidateArgs);\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      shouldLoad,\n      shouldRevalidateArgs\n    );\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let isMidInitialLoad = fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0;\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      if (hasPatchRoutesOnNavigation && isMidInitialLoad) {\n        return;\n      }\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        request: null,\n        controller: null\n      });\n      return;\n    }\n    if (fetchRedirectIds.has(key)) {\n      return;\n    }\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let fetchController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      history,\n      f.path,\n      fetchController.signal\n    );\n    let fetcherDsMatches = null;\n    if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      fetcherDsMatches = getTargetedDataStrategyMatches(\n        mapRouteProperties2,\n        manifest,\n        fetchRequest,\n        fetcherMatches,\n        fetcherMatch,\n        lazyRoutePropertiesToSkip,\n        scopedContext\n      );\n    } else if (isMidInitialLoad) {\n      if (isRevalidationRequired) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext\n        );\n      }\n    } else {\n      let shouldRevalidateArgs = {\n        ...baseShouldRevalidateArgs,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      };\n      if (shouldRevalidateLoader(fetcherMatch, shouldRevalidateArgs)) {\n        fetcherDsMatches = getTargetedDataStrategyMatches(\n          mapRouteProperties2,\n          manifest,\n          fetchRequest,\n          fetcherMatches,\n          fetcherMatch,\n          lazyRoutePropertiesToSkip,\n          scopedContext,\n          shouldRevalidateArgs\n        );\n      }\n    }\n    if (fetcherDsMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherDsMatches,\n        match: fetcherMatch,\n        request: fetchRequest,\n        controller: fetchController\n      });\n    }\n  });\n  return { dsMatches, revalidatingFetchers };\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && route.id in loaderData;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2, allowElementMutations) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = [];\n  let existingChildren = [];\n  children.forEach((newRoute) => {\n    let existingRoute = childrenToPatch.find(\n      (existingRoute2) => isSameRoute(newRoute, existingRoute2)\n    );\n    if (existingRoute) {\n      existingChildren.push({ existingRoute, newRoute });\n    } else {\n      uniqueChildren.push(newRoute);\n    }\n  });\n  if (uniqueChildren.length > 0) {\n    let newRoutes = convertRoutesToDataRoutes(\n      uniqueChildren,\n      mapRouteProperties2,\n      [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n      manifest\n    );\n    childrenToPatch.push(...newRoutes);\n  }\n  if (allowElementMutations && existingChildren.length > 0) {\n    for (let i = 0; i < existingChildren.length; i++) {\n      let { existingRoute, newRoute } = existingChildren[i];\n      let existingRouteTyped = existingRoute;\n      let [newRouteTyped] = convertRoutesToDataRoutes(\n        [newRoute],\n        mapRouteProperties2,\n        [],\n        // Doesn't matter for mutated routes since they already have an id\n        {},\n        // Don't touch the manifest here since we're updating in place\n        true\n      );\n      Object.assign(existingRouteTyped, {\n        element: newRouteTyped.element ? newRouteTyped.element : existingRouteTyped.element,\n        errorElement: newRouteTyped.errorElement ? newRouteTyped.errorElement : existingRouteTyped.errorElement,\n        hydrateFallbackElement: newRouteTyped.hydrateFallbackElement ? newRouteTyped.hydrateFallbackElement : existingRouteTyped.hydrateFallbackElement\n      });\n    }\n  }\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nvar lazyRoutePropertyCache = /* @__PURE__ */ new WeakMap();\nvar loadLazyRouteProperty = ({\n  key,\n  route,\n  manifest,\n  mapRouteProperties: mapRouteProperties2\n}) => {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!routeToUpdate.lazy || typeof routeToUpdate.lazy !== \"object\") {\n    return;\n  }\n  let lazyFn = routeToUpdate.lazy[key];\n  if (!lazyFn) {\n    return;\n  }\n  let cache = lazyRoutePropertyCache.get(routeToUpdate);\n  if (!cache) {\n    cache = {};\n    lazyRoutePropertyCache.set(routeToUpdate, cache);\n  }\n  let cachedPromise = cache[key];\n  if (cachedPromise) {\n    return cachedPromise;\n  }\n  let propertyPromise = (async () => {\n    let isUnsupported = isUnsupportedLazyRouteObjectKey(key);\n    let staticRouteValue = routeToUpdate[key];\n    let isStaticallyDefined = staticRouteValue !== void 0 && key !== \"hasErrorBoundary\";\n    if (isUnsupported) {\n      warning(\n        !isUnsupported,\n        \"Route property \" + key + \" is not a supported lazy route property. This property will be ignored.\"\n      );\n      cache[key] = Promise.resolve();\n    } else if (isStaticallyDefined) {\n      warning(\n        false,\n        `Route \"${routeToUpdate.id}\" has a static property \"${key}\" defined. The lazy property will be ignored.`\n      );\n    } else {\n      let value = await lazyFn();\n      if (value != null) {\n        Object.assign(routeToUpdate, { [key]: value });\n        Object.assign(routeToUpdate, mapRouteProperties2(routeToUpdate));\n      }\n    }\n    if (typeof routeToUpdate.lazy === \"object\") {\n      routeToUpdate.lazy[key] = void 0;\n      if (Object.values(routeToUpdate.lazy).every((value) => value === void 0)) {\n        routeToUpdate.lazy = void 0;\n      }\n    }\n  })();\n  cache[key] = propertyPromise;\n  return propertyPromise;\n};\nvar lazyRouteFunctionCache = /* @__PURE__ */ new WeakMap();\nfunction loadLazyRoute(route, type, manifest, mapRouteProperties2, lazyRoutePropertiesToSkip) {\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  if (!route.lazy) {\n    return {\n      lazyRoutePromise: void 0,\n      lazyHandlerPromise: void 0\n    };\n  }\n  if (typeof route.lazy === \"function\") {\n    let cachedPromise = lazyRouteFunctionCache.get(routeToUpdate);\n    if (cachedPromise) {\n      return {\n        lazyRoutePromise: cachedPromise,\n        lazyHandlerPromise: cachedPromise\n      };\n    }\n    let lazyRoutePromise2 = (async () => {\n      invariant(\n        typeof route.lazy === \"function\",\n        \"No lazy route function found\"\n      );\n      let lazyRoute = await route.lazy();\n      let routeUpdates = {};\n      for (let lazyRouteProperty in lazyRoute) {\n        let lazyValue = lazyRoute[lazyRouteProperty];\n        if (lazyValue === void 0) {\n          continue;\n        }\n        let isUnsupported = isUnsupportedLazyRouteFunctionKey(lazyRouteProperty);\n        let staticRouteValue = routeToUpdate[lazyRouteProperty];\n        let isStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n        // on the route updates\n        lazyRouteProperty !== \"hasErrorBoundary\";\n        if (isUnsupported) {\n          warning(\n            !isUnsupported,\n            \"Route property \" + lazyRouteProperty + \" is not a supported property to be returned from a lazy route function. This property will be ignored.\"\n          );\n        } else if (isStaticallyDefined) {\n          warning(\n            !isStaticallyDefined,\n            `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n          );\n        } else {\n          routeUpdates[lazyRouteProperty] = lazyValue;\n        }\n      }\n      Object.assign(routeToUpdate, routeUpdates);\n      Object.assign(routeToUpdate, {\n        // To keep things framework agnostic, we use the provided `mapRouteProperties`\n        // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n        // since the logic will differ between frameworks.\n        ...mapRouteProperties2(routeToUpdate),\n        lazy: void 0\n      });\n    })();\n    lazyRouteFunctionCache.set(routeToUpdate, lazyRoutePromise2);\n    lazyRoutePromise2.catch(() => {\n    });\n    return {\n      lazyRoutePromise: lazyRoutePromise2,\n      lazyHandlerPromise: lazyRoutePromise2\n    };\n  }\n  let lazyKeys = Object.keys(route.lazy);\n  let lazyPropertyPromises = [];\n  let lazyHandlerPromise = void 0;\n  for (let key of lazyKeys) {\n    if (lazyRoutePropertiesToSkip && lazyRoutePropertiesToSkip.includes(key)) {\n      continue;\n    }\n    let promise = loadLazyRouteProperty({\n      key,\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n    if (promise) {\n      lazyPropertyPromises.push(promise);\n      if (key === type) {\n        lazyHandlerPromise = promise;\n      }\n    }\n  }\n  let lazyRoutePromise = lazyPropertyPromises.length > 0 ? Promise.all(lazyPropertyPromises).then(() => {\n  }) : void 0;\n  lazyRoutePromise?.catch(() => {\n  });\n  lazyHandlerPromise?.catch(() => {\n  });\n  return {\n    lazyRoutePromise,\n    lazyHandlerPromise\n  };\n}\nfunction isNonNullable(value) {\n  return value !== void 0;\n}\nfunction loadLazyMiddlewareForMatches(matches, manifest, mapRouteProperties2) {\n  let promises = matches.map(({ route }) => {\n    if (typeof route.lazy !== \"object\" || !route.lazy.unstable_middleware) {\n      return void 0;\n    }\n    return loadLazyRouteProperty({\n      key: \"unstable_middleware\",\n      route,\n      manifest,\n      mapRouteProperties: mapRouteProperties2\n    });\n  }).filter(isNonNullable);\n  return promises.length > 0 ? Promise.all(promises) : void 0;\n}\nasync function defaultDataStrategy(args) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);\n  let keyedResults = {};\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  results.forEach((result, i) => {\n    keyedResults[matchesToLoad[i].route.id] = result;\n  });\n  return keyedResults;\n}\nasync function defaultDataStrategyWithMiddleware(args) {\n  if (!args.matches.some((m) => m.route.unstable_middleware)) {\n    return defaultDataStrategy(args);\n  }\n  let didCallHandler = false;\n  return runClientMiddlewarePipeline(\n    args,\n    () => {\n      didCallHandler = true;\n      return defaultDataStrategy(args);\n    },\n    (error, routeId) => clientMiddlewareErrorHandler(\n      error,\n      routeId,\n      args.matches,\n      didCallHandler\n    )\n  );\n}\nfunction clientMiddlewareErrorHandler(error, routeId, matches, didCallHandler) {\n  if (didCallHandler) {\n    return {\n      [routeId]: { type: \"error\", result: error }\n    };\n  } else {\n    let boundaryRouteId = findNearestBoundary(\n      matches,\n      matches.find((m) => m.route.id === routeId || m.route.loader)?.route.id || routeId\n    ).route.id;\n    return {\n      [boundaryRouteId]: { type: \"error\", result: error }\n    };\n  }\n}\nasync function runServerMiddlewarePipeline(args, handler, errorHandler) {\n  let { matches, request, params, context } = args;\n  let tuples = matches.flatMap(\n    (m) => m.route.unstable_middleware ? m.route.unstable_middleware.map((fn) => [m.route.id, fn]) : []\n  );\n  let result = await callServerRouteMiddleware(\n    { request, params, context },\n    tuples,\n    handler,\n    errorHandler\n  );\n  if (isResponse(result)) {\n    return result;\n  }\n  invariant(false, `Expected a Response to be returned from route middleware`);\n}\nasync function callServerRouteMiddleware(args, middlewares, handler, errorHandler, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    if (request.signal.reason) {\n      throw request.signal.reason;\n    }\n    throw new Error(\n      `Request aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n    );\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    let result = await handler();\n    return result;\n  }\n  let [routeId, middleware] = tuple;\n  let nextCalled = false;\n  let nextResult = void 0;\n  let next = async () => {\n    if (nextCalled) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    nextCalled = true;\n    try {\n      let result = await callServerRouteMiddleware(\n        args,\n        middlewares,\n        handler,\n        errorHandler,\n        idx + 1\n      );\n      if (isDataWithResponseInit(result)) {\n        result = dataWithResponseInitToResponse(result);\n      }\n      nextResult = result;\n      return nextResult;\n    } catch (e) {\n      nextResult = await errorHandler(\n        // Convert thrown data() values to ErrorResponses\n        isDataWithResponseInit(e) ? dataWithResponseInitToErrorResponse(e) : e,\n        routeId\n      );\n      return nextResult;\n    }\n  };\n  try {\n    let result = await middleware(\n      {\n        request: args.request,\n        params: args.params,\n        context: args.context\n      },\n      next\n    );\n    if (isDataWithResponseInit(result)) {\n      result = dataWithResponseInitToResponse(result);\n    }\n    if (nextCalled) {\n      return typeof result === \"undefined\" ? nextResult : result;\n    } else if (isResponse(result)) {\n      return result;\n    } else {\n      nextResult = await next();\n      return nextResult;\n    }\n  } catch (e) {\n    let response = await errorHandler(\n      // Convert thrown data() values to ErrorResponses\n      isDataWithResponseInit(e) ? dataWithResponseInitToErrorResponse(e) : e,\n      routeId\n    );\n    return response;\n  }\n}\nasync function runClientMiddlewarePipeline(args, handler, errorHandler) {\n  let { matches, request, params, context } = args;\n  let tuples = matches.flatMap(\n    (m) => m.route.unstable_middleware ? m.route.unstable_middleware.map((fn) => [m.route.id, fn]) : []\n  );\n  let handlerResult = {};\n  await callClientRouteMiddleware(\n    { request, params, context },\n    tuples,\n    handler,\n    errorHandler,\n    handlerResult\n  );\n  return handlerResult;\n}\nasync function callClientRouteMiddleware(args, middlewares, handler, errorHandler, handlerResult = {}, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    if (request.signal.reason) {\n      throw request.signal.reason;\n    }\n    throw new Error(\n      `Request aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n    );\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    let result = await handler();\n    Object.assign(handlerResult, result);\n    return;\n  }\n  let [routeId, middleware] = tuple;\n  let nextCalled = false;\n  let next = async () => {\n    if (nextCalled) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    nextCalled = true;\n    try {\n      let result = await callClientRouteMiddleware(\n        args,\n        middlewares,\n        handler,\n        errorHandler,\n        handlerResult,\n        idx + 1\n      );\n      Object.assign(handlerResult, result);\n    } catch (e) {\n      let result = await errorHandler(e, routeId);\n      Object.assign(handlerResult, result);\n    }\n  };\n  try {\n    let result = await middleware(\n      {\n        request: args.request,\n        params: args.params,\n        context: args.context\n      },\n      next\n    );\n    if (typeof result !== \"undefined\") {\n      console.warn(\n        \"client middlewares are not intended to return values, the value will be ignored\",\n        result\n      );\n    }\n    if (!nextCalled) {\n      await next();\n    }\n  } catch (error) {\n    let result = await errorHandler(error, routeId);\n    Object.assign(handlerResult, result);\n  }\n}\nfunction getDataStrategyMatchLazyPromises(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip) {\n  let lazyMiddlewarePromise = loadLazyRouteProperty({\n    key: \"unstable_middleware\",\n    route: match.route,\n    manifest,\n    mapRouteProperties: mapRouteProperties2\n  });\n  let lazyRoutePromises = loadLazyRoute(\n    match.route,\n    isMutationMethod(request.method) ? \"action\" : \"loader\",\n    manifest,\n    mapRouteProperties2,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    middleware: lazyMiddlewarePromise,\n    route: lazyRoutePromises.lazyRoutePromise,\n    handler: lazyRoutePromises.lazyHandlerPromise\n  };\n}\nfunction getDataStrategyMatch(mapRouteProperties2, manifest, request, match, lazyRoutePropertiesToSkip, scopedContext, shouldLoad, unstable_shouldRevalidateArgs = null) {\n  let isUsingNewApi = false;\n  let _lazyPromises = getDataStrategyMatchLazyPromises(\n    mapRouteProperties2,\n    manifest,\n    request,\n    match,\n    lazyRoutePropertiesToSkip\n  );\n  return {\n    ...match,\n    _lazyPromises,\n    shouldLoad,\n    unstable_shouldRevalidateArgs,\n    unstable_shouldCallHandler(defaultShouldRevalidate) {\n      isUsingNewApi = true;\n      if (!unstable_shouldRevalidateArgs) {\n        return shouldLoad;\n      }\n      if (typeof defaultShouldRevalidate === \"boolean\") {\n        return shouldRevalidateLoader(match, {\n          ...unstable_shouldRevalidateArgs,\n          defaultShouldRevalidate\n        });\n      }\n      return shouldRevalidateLoader(match, unstable_shouldRevalidateArgs);\n    },\n    resolve(handlerOverride) {\n      if (isUsingNewApi || shouldLoad || handlerOverride && !isMutationMethod(request.method) && (match.route.lazy || match.route.loader)) {\n        return callLoaderOrAction({\n          request,\n          match,\n          lazyHandlerPromise: _lazyPromises?.handler,\n          lazyRoutePromise: _lazyPromises?.route,\n          handlerOverride,\n          scopedContext\n        });\n      }\n      return Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    }\n  };\n}\nfunction getTargetedDataStrategyMatches(mapRouteProperties2, manifest, request, matches, targetMatch, lazyRoutePropertiesToSkip, scopedContext, shouldRevalidateArgs = null) {\n  return matches.map((match) => {\n    if (match.route.id !== targetMatch.route.id) {\n      return {\n        ...match,\n        shouldLoad: false,\n        unstable_shouldRevalidateArgs: shouldRevalidateArgs,\n        unstable_shouldCallHandler: () => false,\n        _lazyPromises: getDataStrategyMatchLazyPromises(\n          mapRouteProperties2,\n          manifest,\n          request,\n          match,\n          lazyRoutePropertiesToSkip\n        ),\n        resolve: () => Promise.resolve({ type: \"data\", result: void 0 })\n      };\n    }\n    return getDataStrategyMatch(\n      mapRouteProperties2,\n      manifest,\n      request,\n      match,\n      lazyRoutePropertiesToSkip,\n      scopedContext,\n      true,\n      shouldRevalidateArgs\n    );\n  });\n}\nasync function callDataStrategyImpl(dataStrategyImpl, request, matches, fetcherKey, scopedContext, isStaticHandler) {\n  if (matches.some((m) => m._lazyPromises?.middleware)) {\n    await Promise.all(matches.map((m) => m._lazyPromises?.middleware));\n  }\n  let dataStrategyArgs = {\n    request,\n    params: matches[0].params,\n    context: scopedContext,\n    matches\n  };\n  let unstable_runClientMiddleware = isStaticHandler ? () => {\n    throw new Error(\n      \"You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`\"\n    );\n  } : (cb) => {\n    let typedDataStrategyArgs = dataStrategyArgs;\n    let didCallHandler = false;\n    return runClientMiddlewarePipeline(\n      typedDataStrategyArgs,\n      () => {\n        didCallHandler = true;\n        return cb({\n          ...typedDataStrategyArgs,\n          fetcherKey,\n          unstable_runClientMiddleware: () => {\n            throw new Error(\n              \"Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler\"\n            );\n          }\n        });\n      },\n      (error, routeId) => clientMiddlewareErrorHandler(\n        error,\n        routeId,\n        matches,\n        didCallHandler\n      )\n    );\n  };\n  let results = await dataStrategyImpl({\n    ...dataStrategyArgs,\n    fetcherKey,\n    unstable_runClientMiddleware\n  });\n  try {\n    await Promise.all(\n      matches.flatMap((m) => [\n        m._lazyPromises?.handler,\n        m._lazyPromises?.route\n      ])\n    );\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction({\n  request,\n  match,\n  lazyHandlerPromise,\n  lazyRoutePromise,\n  handlerOverride,\n  scopedContext\n}) {\n  let result;\n  let onReject;\n  let isAction = isMutationMethod(request.method);\n  let type = isAction ? \"action\" : \"loader\";\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          params: match.params,\n          context: scopedContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = isAction ? match.route.action : match.route.loader;\n    if (lazyHandlerPromise || lazyRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          // Ensure all lazy route promises are resolved before continuing\n          lazyHandlerPromise,\n          lazyRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await lazyHandlerPromise;\n        let handler2 = isAction ? match.route.action : match.route.loader;\n        if (handler2) {\n          [result] = await Promise.all([runHandler(handler2), lazyRoutePromise]);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data2 = null;\n        } else {\n          data2 = await result.json();\n        }\n      } else {\n        data2 = await result.text();\n      }\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(\n          result.init?.status || 500,\n          void 0,\n          result.data\n        ),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!isAbsoluteUrl(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (isAbsoluteUrl(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    if (pendingActionResult[2]) {\n      loaderData[pendingActionResult[2]] = void 0;\n    }\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.filter((f) => !f.matches || f.matches.some((m) => m.shouldLoad)).forEach((rf) => {\n    let { key, match, controller } = rf;\n    if (controller && controller.signal.aborted) {\n      return;\n    }\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction dataWithResponseInitToResponse(data2) {\n  return new Response(\n    typeof data2.data === \"string\" ? data2.data : JSON.stringify(data2.data),\n    data2.init || void 0\n  );\n}\nfunction dataWithResponseInitToErrorResponse(data2) {\n  return new ErrorResponseImpl(\n    data2.init?.status ?? 500,\n    data2.init?.statusText ?? \"Internal Server Error\",\n    data2.data\n  );\n}\nfunction errorResponseToResponse(error) {\n  return new Response(\n    typeof error.data === \"string\" ? error.data : JSON.stringify(error.data),\n    {\n      status: error.status,\n      statusText: error.statusText\n    }\n  );\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar RSCRouterContext = React.createContext(false);\nfunction useIsRSCRouterContext() {\n  return React.useContext(RSCRouterContext);\n}\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\nvar ENABLE_DEV_WARNINGS = true;\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet);\n  }\n  return outlet;\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    return this.state.error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: this.state.error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n  }\n};\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight(\n    (outlet, match, index) => {\n      let error;\n      let shouldRenderHydrateFallback = false;\n      let errorElement = null;\n      let hydrateFallbackElement = null;\n      if (dataRouterState) {\n        error = errors && match.route.id ? errors[match.route.id] : void 0;\n        errorElement = match.route.errorElement || defaultErrorElement;\n        if (renderFallback) {\n          if (fallbackIndex < 0 && index === 0) {\n            warningOnce(\n              \"route-fallback\",\n              false,\n              \"No `HydrateFallback` element provided to render during initial hydration\"\n            );\n            shouldRenderHydrateFallback = true;\n            hydrateFallbackElement = null;\n          } else if (fallbackIndex === index) {\n            shouldRenderHydrateFallback = true;\n            hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n          }\n        }\n      }\n      let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n      let getChildren = () => {\n        let children;\n        if (error) {\n          children = errorElement;\n        } else if (shouldRenderHydrateFallback) {\n          children = hydrateFallbackElement;\n        } else if (match.route.Component) {\n          children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n        } else if (match.route.element) {\n          children = match.route.element;\n        } else {\n          children = outlet;\n        }\n        return /* @__PURE__ */ React2.createElement(\n          RenderedRoute,\n          {\n            match,\n            routeContext: {\n              outlet,\n              matches: matches2,\n              isDataRoute: dataRouterState != null\n            },\n            children\n          }\n        );\n      };\n      return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n        RenderErrorBoundary,\n        {\n          location: dataRouterState.location,\n          revalidation: dataRouterState.revalidation,\n          component: errorElement,\n          error,\n          children: getChildren(),\n          routeContext: { outlet: null, matches: matches2, isDataRoute: true }\n        }\n      ) : getChildren();\n    },\n    null\n  );\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  let revalidate = React2.useCallback(async () => {\n    await dataRouterContext.router.revalidate();\n  }, [dataRouterContext.router]);\n  return React2.useMemo(\n    () => ({ revalidate, state: state.revalidation }),\n    [revalidate, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nvar hydrationRouteProperties = [\n  \"HydrateFallback\",\n  \"hydrateFallbackElement\"\n];\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    hydrationRouteProperties,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl\n}) {\n  let [state, setStateImpl] = React3.useState(router.state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, flushSync, viewTransitionOpts }) => {\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else {\n          React3.startTransition(() => setStateImpl(newState));\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd && renderDfd.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd && renderDfd.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [router.window, reactDomFlushSyncImpl, transition, renderDfd]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        React3.startTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [pendingState, renderDfd, router.window]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename\n    }),\n    [router, navigator, basename]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), null);\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      React3.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator,\n  static: staticProp = false\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator,\n      static: staticProp,\n      future: {}\n    }),\n    [basename, navigator, staticProp]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  return /* @__PURE__ */ React3.createElement(AwaitErrorBoundary, { resolve, errorElement }, /* @__PURE__ */ React3.createElement(ResolveAwait, null, children));\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\nfunction useRouteComponentProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData(),\n    matches: useMatches()\n  };\n}\nfunction WithComponentProps({\n  children\n}) {\n  const props = useRouteComponentProps();\n  return React3.cloneElement(children, props);\n}\nfunction withComponentProps(Component4) {\n  return function WithComponentProps2() {\n    const props = useRouteComponentProps();\n    return React3.createElement(Component4, props);\n  };\n}\nfunction useHydrateFallbackProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData()\n  };\n}\nfunction WithHydrateFallbackProps({\n  children\n}) {\n  const props = useHydrateFallbackProps();\n  return React3.cloneElement(children, props);\n}\nfunction withHydrateFallbackProps(HydrateFallback) {\n  return function WithHydrateFallbackProps2() {\n    const props = useHydrateFallbackProps();\n    return React3.createElement(HydrateFallback, props);\n  };\n}\nfunction useErrorBoundaryProps() {\n  return {\n    params: useParams(),\n    loaderData: useLoaderData(),\n    actionData: useActionData(),\n    error: useRouteError()\n  };\n}\nfunction WithErrorBoundaryProps({\n  children\n}) {\n  const props = useErrorBoundaryProps();\n  return React3.cloneElement(children, props);\n}\nfunction withErrorBoundaryProps(ErrorBoundary) {\n  return function WithErrorBoundaryProps2() {\n    const props = useErrorBoundaryProps();\n    return React3.createElement(ErrorBoundary, props);\n  };\n}\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\n\n// vendor/turbo-stream-v2/utils.ts\nvar HOLE = -1;\nvar NAN = -2;\nvar NEGATIVE_INFINITY = -3;\nvar NEGATIVE_ZERO = -4;\nvar NULL = -5;\nvar POSITIVE_INFINITY = -6;\nvar UNDEFINED = -7;\nvar TYPE_BIGINT = \"B\";\nvar TYPE_DATE = \"D\";\nvar TYPE_ERROR = \"E\";\nvar TYPE_MAP = \"M\";\nvar TYPE_NULL_OBJECT = \"N\";\nvar TYPE_PROMISE = \"P\";\nvar TYPE_REGEXP = \"R\";\nvar TYPE_SET = \"S\";\nvar TYPE_SYMBOL = \"Y\";\nvar TYPE_URL = \"U\";\nvar TYPE_PREVIOUS_RESOLVED = \"Z\";\nvar Deferred2 = class {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n};\nfunction createLineSplittingTransform() {\n  const decoder = new TextDecoder();\n  let leftover = \"\";\n  return new TransformStream({\n    transform(chunk, controller) {\n      const str = decoder.decode(chunk, { stream: true });\n      const parts = (leftover + str).split(\"\\n\");\n      leftover = parts.pop() || \"\";\n      for (const part of parts) {\n        controller.enqueue(part);\n      }\n    },\n    flush(controller) {\n      if (leftover) {\n        controller.enqueue(leftover);\n      }\n    }\n  });\n}\n\n// vendor/turbo-stream-v2/flatten.ts\nfunction flatten(input) {\n  const { indices } = this;\n  const existing = indices.get(input);\n  if (existing) return [existing];\n  if (input === void 0) return UNDEFINED;\n  if (input === null) return NULL;\n  if (Number.isNaN(input)) return NAN;\n  if (input === Number.POSITIVE_INFINITY) return POSITIVE_INFINITY;\n  if (input === Number.NEGATIVE_INFINITY) return NEGATIVE_INFINITY;\n  if (input === 0 && 1 / input < 0) return NEGATIVE_ZERO;\n  const index = this.index++;\n  indices.set(input, index);\n  stringify.call(this, input, index);\n  return index;\n}\nfunction stringify(input, index) {\n  const { deferred, plugins, postPlugins } = this;\n  const str = this.stringified;\n  const stack = [[input, index]];\n  while (stack.length > 0) {\n    const [input2, index2] = stack.pop();\n    const partsForObj = (obj) => Object.keys(obj).map((k) => `\"_${flatten.call(this, k)}\":${flatten.call(this, obj[k])}`).join(\",\");\n    let error = null;\n    switch (typeof input2) {\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        str[index2] = JSON.stringify(input2);\n        break;\n      case \"bigint\":\n        str[index2] = `[\"${TYPE_BIGINT}\",\"${input2}\"]`;\n        break;\n      case \"symbol\": {\n        const keyFor = Symbol.keyFor(input2);\n        if (!keyFor) {\n          error = new Error(\n            \"Cannot encode symbol unless created with Symbol.for()\"\n          );\n        } else {\n          str[index2] = `[\"${TYPE_SYMBOL}\",${JSON.stringify(keyFor)}]`;\n        }\n        break;\n      }\n      case \"object\": {\n        if (!input2) {\n          str[index2] = `${NULL}`;\n          break;\n        }\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          let result = isArray ? \"[\" : \"{\";\n          if (isArray) {\n            for (let i = 0; i < input2.length; i++)\n              result += (i ? \",\" : \"\") + (i in input2 ? flatten.call(this, input2[i]) : HOLE);\n            str[index2] = `${result}]`;\n          } else if (input2 instanceof Date) {\n            const dateTime = input2.getTime();\n            str[index2] = `[\"${TYPE_DATE}\",${Number.isNaN(dateTime) ? JSON.stringify(\"invalid\") : dateTime}]`;\n          } else if (input2 instanceof URL) {\n            str[index2] = `[\"${TYPE_URL}\",${JSON.stringify(input2.href)}]`;\n          } else if (input2 instanceof RegExp) {\n            str[index2] = `[\"${TYPE_REGEXP}\",${JSON.stringify(\n              input2.source\n            )},${JSON.stringify(input2.flags)}]`;\n          } else if (input2 instanceof Set) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_SET}\",${[...input2].map((val) => flatten.call(this, val)).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_SET}\"]`;\n            }\n          } else if (input2 instanceof Map) {\n            if (input2.size > 0) {\n              str[index2] = `[\"${TYPE_MAP}\",${[...input2].flatMap(([k, v]) => [\n                flatten.call(this, k),\n                flatten.call(this, v)\n              ]).join(\",\")}]`;\n            } else {\n              str[index2] = `[\"${TYPE_MAP}\"]`;\n            }\n          } else if (input2 instanceof Promise) {\n            str[index2] = `[\"${TYPE_PROMISE}\",${index2}]`;\n            deferred[index2] = input2;\n          } else if (input2 instanceof Error) {\n            str[index2] = `[\"${TYPE_ERROR}\",${JSON.stringify(input2.message)}`;\n            if (input2.name !== \"Error\") {\n              str[index2] += `,${JSON.stringify(input2.name)}`;\n            }\n            str[index2] += \"]\";\n          } else if (Object.getPrototypeOf(input2) === null) {\n            str[index2] = `[\"${TYPE_NULL_OBJECT}\",{${partsForObj(input2)}}]`;\n          } else if (isPlainObject(input2)) {\n            str[index2] = `{${partsForObj(input2)}}`;\n          } else {\n            error = new Error(\"Cannot encode object with prototype\");\n          }\n        }\n        break;\n      }\n      default: {\n        const isArray = Array.isArray(input2);\n        let pluginHandled = false;\n        if (!isArray && plugins) {\n          for (const plugin of plugins) {\n            const pluginResult = plugin(input2);\n            if (Array.isArray(pluginResult)) {\n              pluginHandled = true;\n              const [pluginIdentifier, ...rest] = pluginResult;\n              str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n              if (rest.length > 0) {\n                str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n              }\n              str[index2] += \"]\";\n              break;\n            }\n          }\n        }\n        if (!pluginHandled) {\n          error = new Error(\"Cannot encode function or unexpected type\");\n        }\n      }\n    }\n    if (error) {\n      let pluginHandled = false;\n      if (postPlugins) {\n        for (const plugin of postPlugins) {\n          const pluginResult = plugin(input2);\n          if (Array.isArray(pluginResult)) {\n            pluginHandled = true;\n            const [pluginIdentifier, ...rest] = pluginResult;\n            str[index2] = `[${JSON.stringify(pluginIdentifier)}`;\n            if (rest.length > 0) {\n              str[index2] += `,${rest.map((v) => flatten.call(this, v)).join(\",\")}`;\n            }\n            str[index2] += \"]\";\n            break;\n          }\n        }\n      }\n      if (!pluginHandled) {\n        throw error;\n      }\n    }\n  }\n}\nvar objectProtoNames = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction isPlainObject(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === objectProtoNames;\n}\n\n// vendor/turbo-stream-v2/unflatten.ts\nvar globalObj = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : void 0;\nfunction unflatten(parsed) {\n  const { hydrated, values } = this;\n  if (typeof parsed === \"number\") return hydrate.call(this, parsed);\n  if (!Array.isArray(parsed) || !parsed.length) throw new SyntaxError();\n  const startIndex = values.length;\n  for (const value of parsed) {\n    values.push(value);\n  }\n  hydrated.length = values.length;\n  return hydrate.call(this, startIndex);\n}\nfunction hydrate(index) {\n  const { hydrated, values, deferred, plugins } = this;\n  let result;\n  const stack = [\n    [\n      index,\n      (v) => {\n        result = v;\n      }\n    ]\n  ];\n  let postRun = [];\n  while (stack.length > 0) {\n    const [index2, set] = stack.pop();\n    switch (index2) {\n      case UNDEFINED:\n        set(void 0);\n        continue;\n      case NULL:\n        set(null);\n        continue;\n      case NAN:\n        set(NaN);\n        continue;\n      case POSITIVE_INFINITY:\n        set(Infinity);\n        continue;\n      case NEGATIVE_INFINITY:\n        set(-Infinity);\n        continue;\n      case NEGATIVE_ZERO:\n        set(-0);\n        continue;\n    }\n    if (hydrated[index2]) {\n      set(hydrated[index2]);\n      continue;\n    }\n    const value = values[index2];\n    if (!value || typeof value !== \"object\") {\n      hydrated[index2] = value;\n      set(value);\n      continue;\n    }\n    if (Array.isArray(value)) {\n      if (typeof value[0] === \"string\") {\n        const [type, b, c] = value;\n        switch (type) {\n          case TYPE_DATE:\n            set(hydrated[index2] = new Date(b));\n            continue;\n          case TYPE_URL:\n            set(hydrated[index2] = new URL(b));\n            continue;\n          case TYPE_BIGINT:\n            set(hydrated[index2] = BigInt(b));\n            continue;\n          case TYPE_REGEXP:\n            set(hydrated[index2] = new RegExp(b, c));\n            continue;\n          case TYPE_SYMBOL:\n            set(hydrated[index2] = Symbol.for(b));\n            continue;\n          case TYPE_SET:\n            const newSet = /* @__PURE__ */ new Set();\n            hydrated[index2] = newSet;\n            for (let i = value.length - 1; i > 0; i--)\n              stack.push([\n                value[i],\n                (v) => {\n                  newSet.add(v);\n                }\n              ]);\n            set(newSet);\n            continue;\n          case TYPE_MAP:\n            const map = /* @__PURE__ */ new Map();\n            hydrated[index2] = map;\n            for (let i = value.length - 2; i > 0; i -= 2) {\n              const r = [];\n              stack.push([\n                value[i + 1],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                value[i],\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                map.set(r[0], r[1]);\n              });\n            }\n            set(map);\n            continue;\n          case TYPE_NULL_OBJECT:\n            const obj = /* @__PURE__ */ Object.create(null);\n            hydrated[index2] = obj;\n            for (const key of Object.keys(b).reverse()) {\n              const r = [];\n              stack.push([\n                b[key],\n                (v) => {\n                  r[1] = v;\n                }\n              ]);\n              stack.push([\n                Number(key.slice(1)),\n                (k) => {\n                  r[0] = k;\n                }\n              ]);\n              postRun.push(() => {\n                obj[r[0]] = r[1];\n              });\n            }\n            set(obj);\n            continue;\n          case TYPE_PROMISE:\n            if (hydrated[b]) {\n              set(hydrated[index2] = hydrated[b]);\n            } else {\n              const d = new Deferred2();\n              deferred[b] = d;\n              set(hydrated[index2] = d.promise);\n            }\n            continue;\n          case TYPE_ERROR:\n            const [, message, errorType] = value;\n            let error = errorType && globalObj && globalObj[errorType] ? new globalObj[errorType](message) : new Error(message);\n            hydrated[index2] = error;\n            set(error);\n            continue;\n          case TYPE_PREVIOUS_RESOLVED:\n            set(hydrated[index2] = hydrated[b]);\n            continue;\n          default:\n            if (Array.isArray(plugins)) {\n              const r = [];\n              const vals = value.slice(1);\n              for (let i = 0; i < vals.length; i++) {\n                const v = vals[i];\n                stack.push([\n                  v,\n                  (v2) => {\n                    r[i] = v2;\n                  }\n                ]);\n              }\n              postRun.push(() => {\n                for (const plugin of plugins) {\n                  const result2 = plugin(value[0], ...r);\n                  if (result2) {\n                    set(hydrated[index2] = result2.value);\n                    return;\n                  }\n                }\n                throw new SyntaxError();\n              });\n              continue;\n            }\n            throw new SyntaxError();\n        }\n      } else {\n        const array = [];\n        hydrated[index2] = array;\n        for (let i = 0; i < value.length; i++) {\n          const n = value[i];\n          if (n !== HOLE) {\n            stack.push([\n              n,\n              (v) => {\n                array[i] = v;\n              }\n            ]);\n          }\n        }\n        set(array);\n        continue;\n      }\n    } else {\n      const object = {};\n      hydrated[index2] = object;\n      for (const key of Object.keys(value).reverse()) {\n        const r = [];\n        stack.push([\n          value[key],\n          (v) => {\n            r[1] = v;\n          }\n        ]);\n        stack.push([\n          Number(key.slice(1)),\n          (k) => {\n            r[0] = k;\n          }\n        ]);\n        postRun.push(() => {\n          object[r[0]] = r[1];\n        });\n      }\n      set(object);\n      continue;\n    }\n  }\n  while (postRun.length > 0) {\n    postRun.pop()();\n  }\n  return result;\n}\n\n// vendor/turbo-stream-v2/turbo-stream.ts\nasync function decode(readable, options) {\n  const { plugins } = options ?? {};\n  const done = new Deferred2();\n  const reader = readable.pipeThrough(createLineSplittingTransform()).getReader();\n  const decoder = {\n    values: [],\n    hydrated: [],\n    deferred: {},\n    plugins\n  };\n  const decoded = await decodeInitial.call(decoder, reader);\n  let donePromise = done.promise;\n  if (decoded.done) {\n    done.resolve();\n  } else {\n    donePromise = decodeDeferred.call(decoder, reader).then(done.resolve).catch((reason) => {\n      for (const deferred of Object.values(decoder.deferred)) {\n        deferred.reject(reason);\n      }\n      done.reject(reason);\n    });\n  }\n  return {\n    done: donePromise.then(() => reader.closed),\n    value: decoded.value\n  };\n}\nasync function decodeInitial(reader) {\n  const read = await reader.read();\n  if (!read.value) {\n    throw new SyntaxError();\n  }\n  let line;\n  try {\n    line = JSON.parse(read.value);\n  } catch (reason) {\n    throw new SyntaxError();\n  }\n  return {\n    done: read.done,\n    value: unflatten.call(this, line)\n  };\n}\nasync function decodeDeferred(reader) {\n  let read = await reader.read();\n  while (!read.done) {\n    if (!read.value) continue;\n    const line = read.value;\n    switch (line[0]) {\n      case TYPE_PROMISE: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.resolve(value);\n        break;\n      }\n      case TYPE_ERROR: {\n        const colonIndex = line.indexOf(\":\");\n        const deferredId = Number(line.slice(1, colonIndex));\n        const deferred = this.deferred[deferredId];\n        if (!deferred) {\n          throw new Error(`Deferred ID ${deferredId} not found in stream`);\n        }\n        const lineData = line.slice(colonIndex + 1);\n        let jsonLine;\n        try {\n          jsonLine = JSON.parse(lineData);\n        } catch (reason) {\n          throw new SyntaxError();\n        }\n        const value = unflatten.call(this, jsonLine);\n        deferred.reject(value);\n        break;\n      }\n      default:\n        throw new SyntaxError();\n    }\n    read = await reader.read();\n  }\n}\nfunction encode(input, options) {\n  const { plugins, postPlugins, signal } = options ?? {};\n  const encoder = {\n    deferred: {},\n    index: 0,\n    indices: /* @__PURE__ */ new Map(),\n    stringified: [],\n    plugins,\n    postPlugins,\n    signal\n  };\n  const textEncoder = new TextEncoder();\n  let lastSentIndex = 0;\n  const readable = new ReadableStream({\n    async start(controller) {\n      const id = flatten.call(encoder, input);\n      if (Array.isArray(id)) {\n        throw new Error(\"This should never happen\");\n      }\n      if (id < 0) {\n        controller.enqueue(textEncoder.encode(`${id}\n`));\n      } else {\n        controller.enqueue(\n          textEncoder.encode(`[${encoder.stringified.join(\",\")}]\n`)\n        );\n        lastSentIndex = encoder.stringified.length - 1;\n      }\n      const seenPromises = /* @__PURE__ */ new WeakSet();\n      if (Object.keys(encoder.deferred).length) {\n        let raceDone;\n        const racePromise = new Promise((resolve, reject) => {\n          raceDone = resolve;\n          if (signal) {\n            const rejectPromise = () => reject(signal.reason || new Error(\"Signal was aborted.\"));\n            if (signal.aborted) {\n              rejectPromise();\n            } else {\n              signal.addEventListener(\"abort\", (event) => {\n                rejectPromise();\n              });\n            }\n          }\n        });\n        while (Object.keys(encoder.deferred).length > 0) {\n          for (const [deferredId, deferred] of Object.entries(\n            encoder.deferred\n          )) {\n            if (seenPromises.has(deferred)) continue;\n            seenPromises.add(\n              // biome-ignore lint/suspicious/noAssignInExpressions: <explanation>\n              encoder.deferred[Number(deferredId)] = Promise.race([\n                racePromise,\n                deferred\n              ]).then(\n                (resolved) => {\n                  const id2 = flatten.call(encoder, resolved);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_PROMISE}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder.stringified.length - 1;\n                  }\n                },\n                (reason) => {\n                  if (!reason || typeof reason !== \"object\" || !(reason instanceof Error)) {\n                    reason = new Error(\"An unknown error occurred\");\n                  }\n                  const id2 = flatten.call(encoder, reason);\n                  if (Array.isArray(id2)) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[[\"${TYPE_PREVIOUS_RESOLVED}\",${id2[0]}]]\n`\n                      )\n                    );\n                    encoder.index++;\n                    lastSentIndex++;\n                  } else if (id2 < 0) {\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:${id2}\n`\n                      )\n                    );\n                  } else {\n                    const values = encoder.stringified.slice(lastSentIndex + 1).join(\",\");\n                    controller.enqueue(\n                      textEncoder.encode(\n                        `${TYPE_ERROR}${deferredId}:[${values}]\n`\n                      )\n                    );\n                    lastSentIndex = encoder.stringified.length - 1;\n                  }\n                }\n              ).finally(() => {\n                delete encoder.deferred[Number(deferredId)];\n              })\n            );\n          }\n          await Promise.race(Object.values(encoder.deferred));\n        }\n        raceDone();\n      }\n      await Promise.all(Object.values(encoder.deferred));\n      controller.close();\n    }\n  });\n  return readable;\n}\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\nfunction createHtml(html) {\n  return { __html: html };\n}\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nvar SingleFetchNoResultError = class extends Error {\n};\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205]);\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getTurboStreamSingleFetchDataStrategy(getRouter, manifest, routeModules, ssr, basename) {\n  let dataStrategy = getSingleFetchDataStrategyImpl(\n    getRouter,\n    (match) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      invariant2(manifestRoute, \"Route not found in manifest\");\n      let routeModule = routeModules[match.route.id];\n      return {\n        hasLoader: manifestRoute.hasLoader,\n        hasClientLoader: manifestRoute.hasClientLoader,\n        hasShouldRevalidate: Boolean(routeModule?.shouldRevalidate)\n      };\n    },\n    fetchAndDecodeViaTurboStream,\n    ssr,\n    basename\n  );\n  return async (args) => args.unstable_runClientMiddleware(dataStrategy);\n}\nfunction getSingleFetchDataStrategyImpl(getRouter, getRouteInfo, fetchAndDecode, ssr, basename, shouldAllowOptOut = () => true) {\n  return async (args) => {\n    let { request, matches, fetcherKey } = args;\n    let router = getRouter();\n    if (request.method !== \"GET\") {\n      return singleFetchActionStrategy(args, fetchAndDecode, basename);\n    }\n    let foundRevalidatingServerLoader = matches.some((m) => {\n      let { hasLoader, hasClientLoader } = getRouteInfo(m);\n      return m.unstable_shouldCallHandler() && hasLoader && !hasClientLoader;\n    });\n    if (!ssr && !foundRevalidatingServerLoader) {\n      return nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename);\n    }\n    if (fetcherKey) {\n      return singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename);\n    }\n    return singleFetchLoaderNavigationStrategy(\n      args,\n      router,\n      getRouteInfo,\n      fetchAndDecode,\n      ssr,\n      basename,\n      shouldAllowOptOut\n    );\n  };\n}\nasync function singleFetchActionStrategy(args, fetchAndDecode, basename) {\n  let actionMatch = args.matches.find((m) => m.unstable_shouldCallHandler());\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let { data: data2, status } = await fetchAndDecode(args, basename, [\n        actionMatch.route.id\n      ]);\n      actionStatus = status;\n      return unwrapSingleFetchResult(data2, actionMatch.route.id);\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result) || isDataWithResponseInit(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function nonSsrStrategy(args, getRouteInfo, fetchAndDecode, basename) {\n  let matchesToLoad = args.matches.filter(\n    (m) => m.unstable_shouldCallHandler()\n  );\n  let results = {};\n  await Promise.all(\n    matchesToLoad.map(\n      (m) => m.resolve(async (handler) => {\n        try {\n          let { hasClientLoader } = getRouteInfo(m);\n          let routeId = m.route.id;\n          let result = hasClientLoader ? await handler(async () => {\n            let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n            return unwrapSingleFetchResult(data2, routeId);\n          }) : await handler();\n          results[m.route.id] = { type: \"data\", result };\n        } catch (e) {\n          results[m.route.id] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  return results;\n}\nasync function singleFetchLoaderNavigationStrategy(args, router, getRouteInfo, fetchAndDecode, ssr, basename, shouldAllowOptOut = () => true) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = args.matches.map(() => createDeferred2());\n  let singleFetchDfd = createDeferred2();\n  let results = {};\n  let resolvePromise = Promise.all(\n    args.matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let routeId = m.route.id;\n        let { hasLoader, hasClientLoader, hasShouldRevalidate } = getRouteInfo(m);\n        let defaultShouldRevalidate = !m.unstable_shouldRevalidateArgs || m.unstable_shouldRevalidateArgs.actionStatus == null || m.unstable_shouldRevalidateArgs.actionStatus < 400;\n        let shouldCall = m.unstable_shouldCallHandler(defaultShouldRevalidate);\n        if (!shouldCall) {\n          foundOptOutRoute || (foundOptOutRoute = m.unstable_shouldRevalidateArgs != null && // This is a revalidation,\n          hasLoader && // for a route with a server loader,\n          hasShouldRevalidate === true);\n          return;\n        }\n        if (shouldAllowOptOut(m) && hasClientLoader) {\n          if (hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await handler(async () => {\n              let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n              return unwrapSingleFetchResult(data2, routeId);\n            });\n            results[routeId] = { type: \"data\", result };\n          } catch (e) {\n            results[routeId] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (hasLoader) {\n          routesParams.add(routeId);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResult(data2, routeId);\n          });\n          results[routeId] = { type: \"data\", result };\n        } catch (e) {\n          results[routeId] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  await Promise.all(routeDfds.map((d) => d.promise));\n  let isInitialLoad = !router.state.initialized && router.state.navigation.state === \"idle\";\n  if ((isInitialLoad || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({ routes: {} });\n  } else {\n    let targetRoutes = ssr && foundOptOutRoute && routesParams.size > 0 ? [...routesParams.keys()] : void 0;\n    try {\n      let data2 = await fetchAndDecode(args, basename, targetRoutes);\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  await bubbleMiddlewareErrors(\n    singleFetchDfd.promise,\n    args.matches,\n    routesParams,\n    results\n  );\n  return results;\n}\nasync function bubbleMiddlewareErrors(singleFetchPromise, matches, routesParams, results) {\n  try {\n    let middlewareError;\n    let fetchedData = await singleFetchPromise;\n    if (\"routes\" in fetchedData) {\n      for (let match of matches) {\n        if (match.route.id in fetchedData.routes) {\n          let routeResult = fetchedData.routes[match.route.id];\n          if (\"error\" in routeResult) {\n            middlewareError = routeResult.error;\n            if (results[match.route.id]?.result == null) {\n              results[match.route.id] = {\n                type: \"error\",\n                result: middlewareError\n              };\n            }\n            break;\n          }\n        }\n      }\n    }\n    if (middlewareError !== void 0) {\n      Array.from(routesParams.values()).forEach((routeId) => {\n        if (results[routeId].result instanceof SingleFetchNoResultError) {\n          results[routeId].result = middlewareError;\n        }\n      });\n    }\n  } catch (e) {\n  }\n}\nasync function singleFetchLoaderFetcherStrategy(args, fetchAndDecode, basename) {\n  let fetcherMatch = args.matches.find((m) => m.unstable_shouldCallHandler());\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let routeId = fetcherMatch.route.id;\n  let result = await fetcherMatch.resolve(\n    async (handler) => handler(async () => {\n      let { data: data2 } = await fetchAndDecode(args, basename, [routeId]);\n      return unwrapSingleFetchResult(data2, routeId);\n    })\n  );\n  return { [fetcherMatch.route.id]: result };\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl, basename, extension) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (url.pathname === \"/\") {\n    url.pathname = `_root.${extension}`;\n  } else if (basename && stripBasename(url.pathname, basename) === \"/\") {\n    url.pathname = `${basename.replace(/\\/$/, \"\")}/_root.${extension}`;\n  } else {\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.${extension}`;\n  }\n  return url;\n}\nasync function fetchAndDecodeViaTurboStream(args, basename, targetRoutes) {\n  let { request } = args;\n  let url = singleFetchUrl(request.url, basename, \"data\");\n  if (request.method === \"GET\") {\n    url = stripIndexParam(url);\n    if (targetRoutes) {\n      url.searchParams.set(\"_routes\", targetRoutes.join(\",\"));\n    }\n  }\n  let res = await fetch(url, await createRequestInit(request));\n  if (res.status === 404 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(404, \"Not Found\", true);\n  }\n  if (res.status === 204 && res.headers.has(\"X-Remix-Redirect\")) {\n    return {\n      status: SINGLE_FETCH_REDIRECT_STATUS,\n      data: {\n        redirect: {\n          redirect: res.headers.get(\"X-Remix-Redirect\"),\n          status: Number(res.headers.get(\"X-Remix-Status\") || \"302\"),\n          revalidate: res.headers.get(\"X-Remix-Revalidate\") === \"true\",\n          reload: res.headers.get(\"X-Remix-Reload-Document\") === \"true\",\n          replace: res.headers.get(\"X-Remix-Replace\") === \"true\"\n        }\n      }\n    };\n  }\n  if (NO_BODY_STATUS_CODES.has(res.status)) {\n    let routes = {};\n    if (targetRoutes && request.method !== \"GET\") {\n      routes[targetRoutes[0]] = { data: void 0 };\n    }\n    return {\n      status: res.status,\n      data: { routes }\n    };\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    let data2;\n    if (request.method === \"GET\") {\n      let typed = decoded.value;\n      if (SingleFetchRedirectSymbol in typed) {\n        data2 = { redirect: typed[SingleFetchRedirectSymbol] };\n      } else {\n        data2 = { routes: typed };\n      }\n    } else {\n      let typed = decoded.value;\n      let routeId = targetRoutes?.[0];\n      invariant2(routeId, \"No routeId found for single fetch call decoding\");\n      if (\"redirect\" in typed) {\n        data2 = { redirect: typed };\n      } else {\n        data2 = { routes: { [routeId]: typed } };\n      }\n    }\n    return { status: res.status, data: data2 };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global && typeof global[name] === \"function\") {\n            Constructor = global[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"redirect\" in result) {\n    let {\n      redirect: location,\n      revalidate,\n      reload,\n      replace: replace2,\n      status\n    } = result.redirect;\n    throw redirect(location, {\n      status,\n      headers: {\n        // Three R's of redirecting (lol Veep)\n        ...revalidate ? { \"X-Remix-Revalidate\": \"yes\" } : null,\n        ...reload ? { \"X-Remix-Reload-Document\": \"yes\" } : null,\n        ...replace2 ? { \"X-Remix-Replace\": \"yes\" } : null\n      }\n    });\n  }\n  let routeResult = result.routes[routeId];\n  if (routeResult == null) {\n    throw new SingleFetchNoResultError(\n      `No result found for routeId \"${routeId}\"`\n    );\n  } else if (\"error\" in routeResult) {\n    throw routeResult.error;\n  } else if (\"data\" in routeResult) {\n    return routeResult.data;\n  } else {\n    throw new Error(`Invalid response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/components.tsx\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href) => ({ rel: \"stylesheet\", href })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href) => ({ rel: \"stylesheet\", href }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React6 from \"react\";\n\n// lib/dom/ssr/fallback.tsx\nimport * as React5 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, ENABLE_DEV_WARNINGS ? /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ) : null);\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React6.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React6.createElement(routeModule.Layout, null, /* @__PURE__ */ React6.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need middleware/action/shouldRevalidate on these routes since\n      // they're for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        unstable_middleware: routeModule.unstable_clientMiddleware,\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          dataRoute.path,\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params, context }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              context,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route.id,\n        routeModule.clientLoader,\n        route.hasLoader,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params, context }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            context,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      }\n      let lazyRoutePromise;\n      async function getLazyRoute() {\n        if (lazyRoutePromise) {\n          return await lazyRoutePromise;\n        }\n        lazyRoutePromise = (async () => {\n          if (route.clientLoaderModule || route.clientActionModule) {\n            await new Promise((resolve) => setTimeout(resolve, 0));\n          }\n          let routeModulePromise = loadRouteModuleWithBlockingLinks(\n            route,\n            routeModulesCache\n          );\n          prefetchRouteModuleChunks(route);\n          return await routeModulePromise;\n        })();\n        return await lazyRoutePromise;\n      }\n      dataRoute.lazy = {\n        loader: route.hasClientLoader ? async () => {\n          let { clientLoader } = route.clientLoaderModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          ) : await getLazyRoute();\n          invariant2(clientLoader, \"No `clientLoader` export found\");\n          return (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        } : void 0,\n        action: route.hasClientAction ? async () => {\n          let clientActionPromise = route.clientActionModule ? import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          ) : getLazyRoute();\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await clientActionPromise;\n          invariant2(clientAction, \"No `clientAction` export found\");\n          return (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        } : void 0,\n        unstable_middleware: route.hasClientMiddleware ? async () => {\n          let { unstable_clientMiddleware } = route.clientMiddlewareModule ? await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientMiddlewareModule\n          ) : await getLazyRoute();\n          invariant2(\n            unstable_clientMiddleware,\n            \"No `unstable_clientMiddleware` export found\"\n          );\n          return unstable_clientMiddleware;\n        } : void 0,\n        shouldRevalidate: async () => {\n          let lazyRoute = await getLazyRoute();\n          return getShouldRevalidateFunction(\n            dataRoute.path,\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          );\n        },\n        handle: async () => (await getLazyRoute()).handle,\n        // No need to wrap these in layout since the root route is never\n        // loaded via route.lazy()\n        Component: async () => (await getLazyRoute()).Component,\n        ErrorBoundary: route.hasErrorBoundary ? async () => (await getLazyRoute()).ErrorBoundary : void 0\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(path, route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    let myParams = path ? compilePath(path)[1].map((p) => p.paramName) : [];\n    const didParamsChange = (opts) => myParams.some((p) => opts.currentParams[p] !== opts.nextParams[p]);\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({\n        ...opts,\n        defaultShouldRevalidate: didParamsChange(opts)\n      });\n    } else {\n      return (opts) => didParamsChange(opts);\n    }\n  }\n  if (ssr && route.shouldRevalidate) {\n    let fn = route.shouldRevalidate;\n    return (opts) => fn({ ...opts, defaultShouldRevalidate: true });\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    unstable_clientMiddleware: routeModule.unstable_clientMiddleware,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(routeId, clientLoader, hasLoader, isSpaMode) {\n  return isSpaMode && routeId !== \"root\" || clientLoader != null && (clientLoader.hydrate === true || hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(routeDiscovery, ssr) {\n  return routeDiscovery.mode === \"lazy\" && ssr === true;\n}\nfunction getPartialManifest({ sri, ...manifest }, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes,\n    sri: sri ? true : void 0\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, routeDiscovery, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(routeDiscovery, ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal, fetcherKey }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      fetcherKey ? window.location.href : path,\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      routeDiscovery.manifestPath,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, routeDiscovery, isSpaMode) {\n  React7.useEffect(() => {\n    if (!isFogOfWarEnabled(routeDiscovery, ssr) || // @ts-expect-error - TS doesn't know about this yet\n    window.navigator?.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          null,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          routeDiscovery.manifestPath,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router, routeDiscovery]);\n}\nfunction getManifestPath(_manifestPath, basename) {\n  let manifestPath = _manifestPath || \"/__manifest\";\n  if (basename == null) {\n    return manifestPath;\n  }\n  return `${basename}${manifestPath}`.replace(/\\/+/g, \"/\");\n}\nvar MANIFEST_VERSION_STORAGE_KEY = \"react-router-manifest-version\";\nasync function fetchAndApplyManifestPatches(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, manifestPath, patchRoutes, signal) {\n  const searchParams = new URLSearchParams();\n  paths.sort().forEach((path) => searchParams.append(\"p\", path));\n  searchParams.set(\"version\", manifest.version);\n  let url = new URL(\n    getManifestPath(manifestPath, basename),\n    window.location.origin\n  );\n  url.search = searchParams.toString();\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status === 204 && res.headers.has(\"X-Remix-Reload-Document\")) {\n      if (!errorReloadPath) {\n        console.warn(\n          \"Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.\"\n        );\n        return;\n      }\n      if (sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version) {\n        console.error(\n          \"Unable to discover routes due to manifest version mismatch.\"\n        );\n        return;\n      }\n      sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);\n      window.location.href = errorReloadPath;\n      console.warn(\"Detected manifest version mismatch, reloading...\");\n      await new Promise(() => {\n      });\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React8.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React8.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React8.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React8.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React8.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React8.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React8.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React8.useRef(null);\n  React8.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React8.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nvar CRITICAL_CSS_DATA_ATTRIBUTE = \"data-react-router-critical-css\";\nfunction Links({ nonce }) {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React8.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, typeof criticalCss === \"string\" ? /* @__PURE__ */ React8.createElement(\n    \"style\",\n    {\n      ...{ [CRITICAL_CSS_DATA_ATTRIBUTE]: \"\" },\n      dangerouslySetInnerHTML: { __html: criticalCss }\n    }\n  ) : null, typeof criticalCss === \"object\" ? /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      ...{ [CRITICAL_CSS_DATA_ATTRIBUTE]: \"\" },\n      rel: \"stylesheet\",\n      href: criticalCss.href,\n      nonce\n    }\n  ) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React8.createElement(PrefetchPageLinks, { key, nonce, ...link }) : /* @__PURE__ */ React8.createElement(\"link\", { key, nonce, ...link })\n  ));\n}\nfunction PrefetchPageLinks({ page, ...linkProps }) {\n  let { router } = useDataRouterContext2();\n  let matches = React8.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React8.createElement(PrefetchPageLinksImpl, { page, matches, ...linkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React8.useState([]);\n  React8.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { manifest, routeModules } = useFrameworkContext();\n  let { basename } = useDataRouterContext2();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React8.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React8.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React8.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(page, basename, \"data\");\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    basename,\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React8.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, dataHrefs.map((href) => /* @__PURE__ */ React8.createElement(\"link\", { key: href, rel: \"prefetch\", as: \"fetch\", href, ...linkProps })), moduleHrefs.map((href) => /* @__PURE__ */ React8.createElement(\"link\", { key: href, rel: \"modulepreload\", href, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React8.createElement(\"link\", { key, nonce: linkProps.nonce, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      loaderData: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        loaderData: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React8.createElement(React8.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React8.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React8.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React8.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React8.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: json }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React8.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction Scripts(scriptProps) {\n  let {\n    manifest,\n    serverHandoffString,\n    isSpaMode,\n    renderMeta,\n    routeDiscovery,\n    ssr\n  } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let isRSCRouterContext = useIsRSCRouterContext();\n  let enableFogOfWar = isFogOfWarEnabled(routeDiscovery, ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React8.useEffect(() => {\n    isHydrated = true;\n  }, []);\n  let initialScripts = React8.useMemo(() => {\n    if (isRSCRouterContext) {\n      return null;\n    }\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        clientMiddlewareModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...clientMiddlewareModule ? [\n          {\n            module: clientMiddlewareModule,\n            varName: `${routeVarName}_clientMiddleware`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React8.createElement(React8.Fragment, null, /* @__PURE__ */ React8.createElement(\n      \"script\",\n      {\n        ...scriptProps,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(contextScript),\n        type: void 0\n      }\n    ), /* @__PURE__ */ React8.createElement(\n      \"script\",\n      {\n        ...scriptProps,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(routeModulesScript),\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated || isRSCRouterContext ? [] : dedupe(\n    manifest.entry.imports.concat(\n      getModuleLinkHrefs(matches, manifest, {\n        includeHydrateFallback: true\n      })\n    )\n  );\n  let sri = typeof manifest.sri === \"object\" ? manifest.sri : {};\n  warnOnce(\n    !isRSCRouterContext,\n    \"The <Scripts /> element is a no-op when using RSC and can be safely removed.\"\n  );\n  return isHydrated || isRSCRouterContext ? null : /* @__PURE__ */ React8.createElement(React8.Fragment, null, typeof manifest.sri === \"object\" ? /* @__PURE__ */ React8.createElement(\n    \"script\",\n    {\n      \"rr-importmap\": \"\",\n      type: \"importmap\",\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify({\n          integrity: sri\n        })\n      }\n    }\n  ) : null, !enableFogOfWar ? /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[manifest.url],\n      suppressHydrationWarning: true\n    }\n  ) : null, /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[manifest.entry.module],\n      suppressHydrationWarning: true\n    }\n  ), preloads.map((path) => /* @__PURE__ */ React8.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: scriptProps.crossOrigin,\n      integrity: sri[path],\n      suppressHydrationWarning: true\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/ssr/errorBoundaries.tsx\nvar RemixErrorBoundary = class extends React9.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React9.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React9.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React9.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React9.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), ENABLE_DEV_WARNINGS ? heyDeveloper : null);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React9.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React9.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React9.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React9.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React9.createElement(\"head\", null, /* @__PURE__ */ React9.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React9.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\"title\", null, title)), /* @__PURE__ */ React9.createElement(\"body\", null, /* @__PURE__ */ React9.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React9.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser) {\n    window.__reactRouterVersion = // @ts-expect-error\n    \"7.8.0\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    hydrationRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HashRouter({ basename, children, window: window2 }) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    ...rest\n  }, forwardedRef) {\n    let { basename } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && isAbsolute) {\n      absoluteHref = to;\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n    let href = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: absoluteHref || href,\n          onClick: isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    ...props\n  }, forwardedRef) => {\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition\n      });\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${JSON.stringify(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        )}, ${JSON.stringify(ssrKey)})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition\n        });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(new URLSearchParams(searchParams)) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await router.fetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await router.navigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [router, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  React10.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => router.deleteFetcher(fetcherKey);\n  }, [router, fetcherKey]);\n  let load = React10.useCallback(\n    async (href, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await router.fetch(fetcherKey, routeId, href, opts);\n    },\n    [fetcherKey, routeId, router]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      try {\n        if (location.hash) {\n          let el = document.getElementById(\n            decodeURIComponent(location.hash.slice(1))\n          );\n          if (el) {\n            el.scrollIntoView();\n            return;\n          }\n        }\n      } catch {\n        warning(\n          false,\n          `\"${location.hash.slice(\n            1\n          )}\" is not a decodable element ID. The view will not scroll to it.`\n        );\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, { relative } = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate: hydrate2 = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate2 !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = htmlEscape(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        unstable_middleware: false,\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    },\n    _internalSetStateDoNotUseOrYouWillBreakYourApp() {\n      throw msg(\"_internalSetStateDoNotUseOrYouWillBreakYourApp\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href = typeof to === \"string\" ? to : createPath(to);\n  href = href.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href) ? new URL(href) : new URL(href, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar ESCAPE_LOOKUP2 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX2 = /[&><\\u2028\\u2029]/g;\nfunction htmlEscape(str) {\n  return str.replace(ESCAPE_REGEX2, (match) => ESCAPE_LOOKUP2[match]);\n}\n\nexport {\n  Action,\n  createBrowserHistory,\n  invariant,\n  createPath,\n  parsePath,\n  unstable_createContext,\n  unstable_RouterContextProvider,\n  convertRoutesToDataRoutes,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  stripBasename,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  createStaticHandler,\n  getStaticContextFromError,\n  isDataWithResponseInit,\n  isResponse,\n  isRedirectStatusCode,\n  isRedirectResponse,\n  isMutationMethod,\n  DataRouterContext,\n  DataRouterStateContext,\n  RSCRouterContext,\n  ViewTransitionContext,\n  FetchersContext,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  ENABLE_DEV_WARNINGS,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  warnOnce,\n  mapRouteProperties,\n  hydrationRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  WithComponentProps,\n  withComponentProps,\n  WithHydrateFallbackProps,\n  withHydrateFallbackProps,\n  WithErrorBoundaryProps,\n  withErrorBoundaryProps,\n  createSearchParams,\n  encode,\n  createRequestInit,\n  SingleFetchRedirectSymbol,\n  SINGLE_FETCH_REDIRECT_STATUS,\n  NO_BODY_STATUS_CODES,\n  StreamTransfer,\n  getTurboStreamSingleFetchDataStrategy,\n  getSingleFetchDataStrategyImpl,\n  stripIndexParam,\n  singleFetchUrl,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createServerRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  noActionDefinedError,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  getManifestPath,\n  FrameworkContext,\n  CRITICAL_CSS_DATA_ATTRIBUTE,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2,\n  createStaticRouter\n};\n","import { Navigate, Outlet, useLocation  } from \"react-router-dom\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport useSessionCheck from \"./sessionID\";\r\n\r\nexport default function ProtectedLayout() {\r\n\r\n  const location = useLocation(); // <-- call the hook\r\n  const [currentLocation, setCurrentLocation] = useState(location);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname !== currentLocation.pathname) {\r\n\r\n\r\n    const locationFormatted = location.pathname.split(\"/\").slice(3).join(\"/\")\r\n\r\n      setCurrentLocation(location);\r\n      sessionStorage.setItem(\"lastLocation\", locationFormatted);\r\n    }\r\n  }, [location, currentLocation]);\r\n\r\n\r\n\r\n  const isSessionValid = useSessionCheck();\r\n\r\n\r\n  if (!isSessionValid?.success) {\r\n    return <Navigate to={`/login`} />;\r\n  }\r\n\r\n  return <Outlet  />;\r\n}","import { useParams } from 'react-router-dom';\r\n\r\nexport default function useSessionCheck() {\r\n    const { sessionID } = useParams();\r\n\r\n    const sessionIDstore = sessionStorage.getItem(\"session_ID\");\r\n    if (!sessionIDstore) {\r\n        console.error(\"Session ID not found in sessionStorage\");\r\n        return {success: false, message: \"Session ID not found\"};\r\n    }\r\n\r\n    if (sessionIDstore !== sessionID) {\r\n        console.error(\"Session ID mismatch\");\r\n        return {success: false, message: \"Session ID mismatch\"};\r\n    }\r\n    else{\r\n        console.log(\"Session ID matches\");\r\n        return {success: true, message: \"Session ID matches\"};\r\n    }\r\n\r\n\r\n}","const mapImages = require.context(\"../images/game/maps\", true, /\\.(png|jpe?g|webp|svg)$/);\n\nconst toAssetKey = (value = \"\") =>\n  String(value || \"\")\n    .trim()\n    .toLowerCase()\n    .replace(/\\.[^/.]+$/, \"\");\n\nconst mapImageMap = mapImages.keys().reduce((map, path) => {\n  const fileName = path.split(\"/\").pop() || \"\";\n  const key = toAssetKey(fileName);\n  if (!key) return map;\n  map[key] = mapImages(path);\n  return map;\n}, {});\n\nexport const MAP_IMAGE_OPTIONS = Object.keys(mapImageMap).sort((a, b) => a.localeCompare(b));\n\nexport default function getMapImage(name) {\n  const key = toAssetKey(name);\n  return mapImageMap[key] || null;\n}\n","import { createContext, useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { MAP_IMAGE_OPTIONS } from \"../handlers/getMapImage\";\r\n\r\nconst GameContext = createContext();\r\n\r\nconst DEFAULT_BACKGROUND_KEY = \"gray\";\r\nconst MIN_Z_LEVEL = -20;\r\nconst MAX_Z_LEVEL = 20;\r\nconst MIN_HITBOX_SCALE = 0.1;\r\nconst MAX_HITBOX_SCALE = 5;\r\nconst LIGHT_AXIS_MIN = -1;\r\nconst LIGHT_AXIS_MAX = 1;\r\nconst LIGHT_INTENSITY_MIN = 0;\r\nconst LIGHT_INTENSITY_MAX = 2;\r\nconst LIGHT_BLEND_MIN = 0;\r\nconst LIGHT_BLEND_MAX = 1;\r\nconst LIGHT_RANGE_MIN = 10;\r\nconst LIGHT_RANGE_MAX = 5000;\r\n\r\nconst DEFAULT_LIGHTING = {\r\n    enabled: true,\r\n    ambient: 0.24,\r\n    shadowEnabled: true,\r\n    shadowStrength: 0.62,\r\n    shadowSoftness: 0.55,\r\n    shadowLength: 0.9,\r\n    shadowBlend: 0.68,\r\n    sources: [\r\n        {\r\n            id: \"sun\",\r\n            name: \"Sun\",\r\n            type: \"directional\",\r\n            enabled: true,\r\n            x: 0,\r\n            y: 0,\r\n            intensity: 0.8,\r\n            blend: 0.7,\r\n            color: \"#ffffff\",\r\n        }\r\n    ]\r\n};\r\n\r\nconst DEFAULT_MAX_HP_BY_TERRAIN = {\r\n    floor: 500,\r\n    wall: 1200,\r\n    obstacle: 700,\r\n};\r\n\r\nconst DEFAULT_FLOOR_TYPE_BY_TERRAIN = {\r\n    floor: \"stoneFloor\",\r\n    wall: \"stoneWall\",\r\n    obstacle: \"woodenCrate\",\r\n};\r\n\r\nconst DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN = {\r\n    floor: 0,\r\n    wall: 150,\r\n    obstacle: 80,\r\n};\r\n\r\nconst DEFAULT_FLOOR_TYPES = [\r\n    {\r\n        id: \"stoneFloor\",\r\n        name: \"Stone Floor\",\r\n        terrainType: \"floor\",\r\n        floorVisualType: \"base\",\r\n        description: \"Solid stone tiles with stable footing.\",\r\n        movementCost: 1,\r\n        blocksMovement: false,\r\n        effects: [{ id: \"sureFooting\", trigger: \"onEnter\", description: \"Stable movement.\" }],\r\n    },\r\n    {\r\n        id: \"mudFloor\",\r\n        name: \"Mud Floor\",\r\n        terrainType: \"floor\",\r\n        floorVisualType: \"effect\",\r\n        description: \"Heavy mud that slows movement.\",\r\n        movementCost: 2,\r\n        blocksMovement: false,\r\n        effects: [{ id: \"slowed\", trigger: \"onEnter\", description: \"Movement cost increased.\" }],\r\n    },\r\n    {\r\n        id: \"spikeTrapFloor\",\r\n        name: \"Spike Trap\",\r\n        terrainType: \"floor\",\r\n        floorVisualType: \"effect\",\r\n        description: \"Hidden spikes can damage units that move across it.\",\r\n        movementCost: 1,\r\n        blocksMovement: false,\r\n        effects: [{ id: \"pierceDamage\", trigger: \"onEnter\", value: 8, description: \"Take damage on contact.\" }],\r\n    },\r\n    {\r\n        id: \"stoneWall\",\r\n        name: \"Stone Wall\",\r\n        terrainType: \"wall\",\r\n        description: \"Heavy wall that blocks movement and vision.\",\r\n        movementCost: 0,\r\n        blocksMovement: true,\r\n        effects: [{ id: \"hardCover\", trigger: \"passive\", description: \"Provides hard cover.\" }],\r\n    },\r\n    {\r\n        id: \"woodenWall\",\r\n        name: \"Wooden Wall\",\r\n        terrainType: \"wall\",\r\n        description: \"Breakable wooden partition.\",\r\n        movementCost: 0,\r\n        blocksMovement: true,\r\n        effects: [{ id: \"flammable\", trigger: \"onElementFire\", description: \"Extra fire damage.\" }],\r\n    },\r\n    {\r\n        id: \"woodenCrate\",\r\n        name: \"Wooden Crate\",\r\n        terrainType: \"obstacle\",\r\n        description: \"Low obstacle with medium durability.\",\r\n        movementCost: 0,\r\n        blocksMovement: true,\r\n        effects: [{ id: \"halfCover\", trigger: \"passive\", description: \"Provides partial cover.\" }],\r\n    },\r\n    {\r\n        id: \"pillarObstacle\",\r\n        name: \"Stone Pillar\",\r\n        terrainType: \"obstacle\",\r\n        description: \"Dense obstacle with high durability.\",\r\n        movementCost: 0,\r\n        blocksMovement: true,\r\n        effects: [{ id: \"lineBlock\", trigger: \"passive\", description: \"Blocks line of sight.\" }],\r\n    },\r\n];\r\n\r\nconst BACKGROUND_OPTIONS = [\r\n    \"gray\",\r\n    \"calm1\",\r\n    \"calm2\",\r\n    \"calm3\",\r\n    \"calm4\",\r\n    \"cloud1\",\r\n    \"cloud2\",\r\n    \"cloud3\",\r\n    \"cloud4\",\r\n    \"night1\",\r\n    \"night2\",\r\n    \"night3\",\r\n    \"night4\",\r\n    \"storm1\",\r\n    \"sunset1\",\r\n    \"sunset2\",\r\n    \"sunset3\",\r\n    \"sunset4\",\r\n];\r\n\r\nconst DEFAULT_CHARACTERS = [\r\n    {\r\n        id: \"char1\",\r\n        name: \"Hero\",\r\n        position: { x: 25, y: 50 },\r\n        size: 50,\r\n        visionDistance: 200,\r\n        rotation: 45,\r\n        visionArc: 90,\r\n        team: \"player\",\r\n    },\r\n    {\r\n        id: \"char2\",\r\n        name: \"Ally\",\r\n        position: { x: 100, y: 100 },\r\n        size: 20,\r\n        visionDistance: 150,\r\n        rotation: 180,\r\n        visionArc: 120,\r\n        team: \"player\",\r\n    },\r\n    {\r\n        id: \"char3\",\r\n        name: \"Enemy\",\r\n        position: { x: 400, y: 300 },\r\n        size: 30,\r\n        visionDistance: 100,\r\n        rotation: 270,\r\n        visionArc: 90,\r\n        team: \"enemy\",\r\n    },\r\n];\r\n\r\nconst DEFAULT_MAP_OBJECTS = [\r\n    {\r\n        id: 1,\r\n        type: \"rect\",\r\n        terrainType: \"floor\",\r\n        floorTypeId: \"stoneFloor\",\r\n        elevationHeight: 0,\r\n        zLevel: 0,\r\n        x: 100,\r\n        y: 100,\r\n        z: 0,\r\n        width: 120,\r\n        height: 100,\r\n        color: \"#1D4ED8\",\r\n        maxHP: 500,\r\n        hp: 500,\r\n        hitbox: {\r\n            type: \"rect\",\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            scale: 1,\r\n        },\r\n    },\r\n    {\r\n        id: 2,\r\n        type: \"rect\",\r\n        terrainType: \"wall\",\r\n        floorTypeId: \"stoneWall\",\r\n        elevationHeight: 150,\r\n        zLevel: 0,\r\n        x: 200,\r\n        y: 150,\r\n        z: 1,\r\n        width: 50,\r\n        height: 40,\r\n        color: \"#EF4444\",\r\n        maxHP: 1200,\r\n        hp: 1200,\r\n        hitbox: {\r\n            type: \"rect\",\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            scale: 1,\r\n        },\r\n    },\r\n    {\r\n        id: 3,\r\n        type: \"circle\",\r\n        terrainType: \"obstacle\",\r\n        floorTypeId: \"woodenCrate\",\r\n        elevationHeight: 80,\r\n        zLevel: 1,\r\n        x: 300,\r\n        y: 200,\r\n        z: 0,\r\n        size: 40,\r\n        color: \"#10B981\",\r\n        maxHP: 700,\r\n        hp: 700,\r\n        hitbox: {\r\n            type: \"circle\",\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            scale: 1,\r\n        },\r\n    },\r\n];\r\n\r\nconst toNumber = (value, fallback = 0) => {\r\n    const parsed = Number(value);\r\n    return Number.isFinite(parsed) ? parsed : fallback;\r\n};\r\n\r\nconst toPositiveNumber = (value, fallback = 1) => Math.max(1, toNumber(value, fallback));\r\n\r\nconst toNonNegativeNumber = (value, fallback = 0) => Math.max(0, toNumber(value, fallback));\r\n\r\nconst normalizeObjectType = (value) => {\r\n    const type = String(value || \"\").trim().toLowerCase();\r\n    if (type === \"circle\" || type === \"rect\" || type === \"triangle\") return type;\r\n    return \"circle\";\r\n};\r\n\r\nconst normalizeHexColor = (value, fallback = \"#3B82F6\") => {\r\n    const raw = String(value || \"\").trim();\r\n    return /^#[0-9a-fA-F]{6}$/.test(raw) ? raw : fallback;\r\n};\r\n\r\nconst normalizeMapAssetKey = (value) => String(value || \"\").trim().toLowerCase();\r\n\r\nconst normalizeTerrainType = (value) => {\r\n    const type = String(value || \"\").trim().toLowerCase();\r\n    if (type === \"floor\" || type === \"wall\" || type === \"obstacle\") return type;\r\n    return \"obstacle\";\r\n};\r\n\r\nconst clampZLevel = (value) =>\r\n    Math.max(MIN_Z_LEVEL, Math.min(MAX_Z_LEVEL, Math.round(toNumber(value, 0))));\r\n\r\nconst clampHitboxScale = (value) =>\r\n    Math.max(MIN_HITBOX_SCALE, Math.min(MAX_HITBOX_SCALE, toNumber(value, 1)));\r\n\r\nconst clampLightAxis = (value) =>\r\n    Math.max(LIGHT_AXIS_MIN, Math.min(LIGHT_AXIS_MAX, toNumber(value, 0)));\r\n\r\nconst normalizeFloorVisualType = (value) =>\r\n    String(value || \"\").trim().toLowerCase() === \"effect\" ? \"effect\" : \"base\";\r\n\r\nconst normalizeLightingDirection = (value = {}) => {\r\n    const x = clampLightAxis(value?.x);\r\n    const y = clampLightAxis(value?.y);\r\n    const magnitude = Math.hypot(x, y);\r\n    if (magnitude <= 1 || magnitude === 0) {\r\n        return { x, y };\r\n    }\r\n    return {\r\n        x: x / magnitude,\r\n        y: y / magnitude,\r\n    };\r\n};\r\n\r\nconst normalizeLightSourceType = (value) =>\r\n    String(value || \"\").trim().toLowerCase() === \"point\" ? \"point\" : \"directional\";\r\n\r\nconst normalizeLightingSource = (raw = {}, fallbackIndex = 0) => {\r\n    const source = raw && typeof raw === \"object\" && !Array.isArray(raw) ? raw : {};\r\n    const type = normalizeLightSourceType(source.type);\r\n    const sourceInput =\r\n        source?.source && typeof source.source === \"object\" && !Array.isArray(source.source)\r\n            ? source.source\r\n            : source;\r\n\r\n    const normalized = {\r\n        id: String(source.id || `light_${fallbackIndex + 1}`).trim() || `light_${fallbackIndex + 1}`,\r\n        name:\r\n            String(source.name || (type === \"point\" ? `Lamp ${fallbackIndex + 1}` : `Light ${fallbackIndex + 1}`))\r\n                .trim() || (type === \"point\" ? `Lamp ${fallbackIndex + 1}` : `Light ${fallbackIndex + 1}`),\r\n        type,\r\n        enabled: source.enabled !== false,\r\n        intensity: Math.max(LIGHT_INTENSITY_MIN, Math.min(LIGHT_INTENSITY_MAX, toNumber(source.intensity, 0.8))),\r\n        blend: Math.max(LIGHT_BLEND_MIN, Math.min(LIGHT_BLEND_MAX, toNumber(source.blend, 0.7))),\r\n        color: normalizeHexColor(source.color, \"#ffffff\"),\r\n    };\r\n\r\n    if (type === \"point\") {\r\n        normalized.worldX = toNumber(source.worldX ?? source.position?.x, 0);\r\n        normalized.worldY = toNumber(source.worldY ?? source.position?.y, 0);\r\n        normalized.range = Math.max(LIGHT_RANGE_MIN, Math.min(LIGHT_RANGE_MAX, toNumber(source.range, 420)));\r\n    } else {\r\n        const direction = normalizeLightingDirection({\r\n            x: sourceInput?.x,\r\n            y: sourceInput?.y,\r\n        });\r\n        normalized.x = direction.x;\r\n        normalized.y = direction.y;\r\n    }\r\n\r\n    return normalized;\r\n};\r\n\r\nconst normalizeLightingConfig = (value = {}) => {\r\n    const sourceInput =\r\n        value?.source && typeof value.source === \"object\" && !Array.isArray(value.source)\r\n            ? value.source\r\n            : value;\r\n    \r\n    const rawSources = Array.isArray(value?.sources) ? value.sources : [];\r\n    let sources = rawSources.map((entry, index) => normalizeLightingSource(entry, index));\r\n    \r\n    // Backward compatibility: if no sources array, create one from legacy format\r\n    if (sources.length === 0) {\r\n        sources = [\r\n            normalizeLightingSource(\r\n                {\r\n                    type: \"directional\",\r\n                    x: sourceInput?.x,\r\n                    y: sourceInput?.y,\r\n                    intensity: value?.intensity,\r\n                    blend: value?.blend,\r\n                },\r\n                0\r\n            ),\r\n        ];\r\n    }\r\n\r\n    return {\r\n        enabled: value?.enabled !== false,\r\n        ambient: Math.max(0, Math.min(0.95, toNumber(value?.ambient, DEFAULT_LIGHTING.ambient))),\r\n        shadowEnabled: value?.shadowEnabled !== false,\r\n        shadowStrength: Math.max(0, Math.min(1, toNumber(value?.shadowStrength, DEFAULT_LIGHTING.shadowStrength))),\r\n        shadowSoftness: Math.max(0, Math.min(1, toNumber(value?.shadowSoftness, DEFAULT_LIGHTING.shadowSoftness))),\r\n        shadowLength: Math.max(0, Math.min(2, toNumber(value?.shadowLength, DEFAULT_LIGHTING.shadowLength))),\r\n        shadowBlend: Math.max(0, Math.min(1, toNumber(value?.shadowBlend, DEFAULT_LIGHTING.shadowBlend))),\r\n        sources,\r\n    };\r\n};\r\n\r\nconst normalizeFloorTypeID = (value, terrainType = \"obstacle\") => {\r\n    const candidate = String(value || \"\").trim();\r\n    if (candidate) return candidate;\r\n    return DEFAULT_FLOOR_TYPE_BY_TERRAIN[terrainType] || DEFAULT_FLOOR_TYPE_BY_TERRAIN.obstacle;\r\n};\r\n\r\nconst normalizeFloorTypeDefinition = (raw = {}, fallbackIndex = 0) => {\r\n    const terrainType = normalizeTerrainType(raw.terrainType);\r\n    const id = String(raw.id || `floorType_${fallbackIndex + 1}`).trim() || `floorType_${fallbackIndex + 1}`;\r\n    return {\r\n        id,\r\n        name: String(raw.name || id).trim() || id,\r\n        terrainType,\r\n        floorVisualType:\r\n            terrainType === \"floor\"\r\n                ? normalizeFloorVisualType(raw.floorVisualType || raw.visualType)\r\n                : \"base\",\r\n        description: String(raw.description || \"\").trim(),\r\n        movementCost: Math.max(0, toNumber(raw.movementCost, terrainType === \"floor\" ? 1 : 0)),\r\n        blocksMovement:\r\n            typeof raw.blocksMovement === \"boolean\"\r\n                ? raw.blocksMovement\r\n                : terrainType !== \"floor\",\r\n        effects: Array.isArray(raw.effects) ? raw.effects : [],\r\n    };\r\n};\r\n\r\nconst normalizeFloorTypeCollection = (list = []) => {\r\n    const safeList = Array.isArray(list) ? list : [];\r\n    const byID = new Map();\r\n    safeList.forEach((entry, index) => {\r\n        const normalized = normalizeFloorTypeDefinition(entry, index);\r\n        if (!byID.has(normalized.id)) {\r\n            byID.set(normalized.id, normalized);\r\n        }\r\n    });\r\n    return Array.from(byID.values());\r\n};\r\n\r\nconst getMaxObjectId = (objects = []) =>\r\n    objects.reduce((max, obj) => Math.max(max, toNumber(obj?.id, 0)), 0);\r\n\r\nconst resolveElevationInput = (raw = {}, type = \"circle\", terrainType = \"obstacle\") => {\r\n    if (raw?.elevationHeight != null) return raw.elevationHeight;\r\n    if (raw?.height3D != null) return raw.height3D;\r\n    if (raw?.objectHeight != null) return raw.objectHeight;\r\n    if (raw?.shadowHeight != null) return raw.shadowHeight;\r\n    if (type !== \"rect\" && raw?.height != null) return raw.height;\r\n    return (\r\n        DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN[terrainType] ??\r\n        DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN.obstacle\r\n    );\r\n};\r\n\r\nconst normalizeMapObject = (raw = {}, fallbackId = 1) => {\r\n    const type = normalizeObjectType(raw.type);\r\n    const terrainType = normalizeTerrainType(raw.terrainType);\r\n    const floorTypeId = normalizeFloorTypeID(raw.floorTypeId, terrainType);\r\n    const defaultMaxHP = DEFAULT_MAX_HP_BY_TERRAIN[terrainType] || DEFAULT_MAX_HP_BY_TERRAIN.obstacle;\r\n    const hasExplicitIndestructible =\r\n        raw.maxHP === null ||\r\n        raw.maxHP === \"indestructible\" ||\r\n        raw.maxHP === \"infinite\";\r\n    const maxHP = hasExplicitIndestructible\r\n        ? null\r\n        : Math.max(1, Math.round(toNumber(raw.maxHP, defaultMaxHP)));\r\n    const hp =\r\n        maxHP === null\r\n            ? null\r\n            : Math.max(0, Math.min(maxHP, Math.round(toNumber(raw.hp, maxHP))));\r\n    const hitboxSource =\r\n        raw.hitbox && typeof raw.hitbox === \"object\" && !Array.isArray(raw.hitbox)\r\n            ? raw.hitbox\r\n            : {};\r\n\r\n    const normalized = {\r\n        id: toNumber(raw.id, fallbackId),\r\n        type,\r\n        x: Math.round(toNumber(raw.x, 0)),\r\n        y: Math.round(toNumber(raw.y, 0)),\r\n        z: Math.round(toNumber(raw.z, 0)),\r\n        zLevel: clampZLevel(raw.zLevel),\r\n        terrainType,\r\n        floorTypeId,\r\n        color: normalizeHexColor(raw.color),\r\n        mapAssetKey: normalizeMapAssetKey(raw.mapAssetKey || raw.mapKey || raw.mapImageKey),\r\n        elevationHeight: Math.round(\r\n            toNonNegativeNumber(resolveElevationInput(raw, type, terrainType), 0)\r\n        ),\r\n        maxHP,\r\n        hp,\r\n        hitbox: {\r\n            type: normalizeObjectType(hitboxSource.type || raw.hitboxType || type),\r\n            offsetX: Math.round(toNumber(hitboxSource.offsetX, 0)),\r\n            offsetY: Math.round(toNumber(hitboxSource.offsetY, 0)),\r\n            scale: clampHitboxScale(hitboxSource.scale ?? raw.hitboxScale),\r\n        },\r\n    };\r\n\r\n    if (type === \"rect\") {\r\n        normalized.width = toPositiveNumber(raw.width, 50);\r\n        normalized.height = toPositiveNumber(raw.height, 40);\r\n    } else {\r\n        normalized.size = toPositiveNumber(raw.size, type === \"triangle\" ? 40 : 30);\r\n    }\r\n\r\n    return normalized;\r\n};\r\n\r\nconst getObjectBounds = (obj = {}) => {\r\n    const type = normalizeObjectType(obj.type);\r\n    const x = toNumber(obj.x, 0);\r\n    const y = toNumber(obj.y, 0);\r\n\r\n    if (type === \"rect\") {\r\n        const halfWidth = toPositiveNumber(obj.width, 50) / 2;\r\n        const halfHeight = toPositiveNumber(obj.height, 40) / 2;\r\n        return {\r\n            minX: x - halfWidth,\r\n            maxX: x + halfWidth,\r\n            minY: y - halfHeight,\r\n            maxY: y + halfHeight,\r\n        };\r\n    }\r\n\r\n    const radius = toPositiveNumber(obj.size, type === \"triangle\" ? 40 : 30);\r\n    return {\r\n        minX: x - radius,\r\n        maxX: x + radius,\r\n        minY: y - radius,\r\n        maxY: y + radius,\r\n    };\r\n};\r\n\r\nconst doBoundsOverlap = (a, b) =>\r\n    a.minX < b.maxX && a.maxX > b.minX && a.minY < b.maxY && a.maxY > b.minY;\r\n\r\nconst isWallObject = (obj = {}) => normalizeTerrainType(obj.terrainType) === \"wall\";\r\n\r\nconst wouldWallOverlap = (candidate = {}, objects = [], ignoreId = null) => {\r\n    if (!isWallObject(candidate)) return false;\r\n    const candidateBounds = getObjectBounds(candidate);\r\n    const candidateLevel = clampZLevel(candidate.zLevel);\r\n    const ignored = ignoreId == null ? null : toNumber(ignoreId, -1);\r\n\r\n    return (Array.isArray(objects) ? objects : []).some((obj) => {\r\n        if (!isWallObject(obj)) return false;\r\n        if (clampZLevel(obj.zLevel) !== candidateLevel) return false;\r\n        if (ignored != null && toNumber(obj.id, -1) === ignored) return false;\r\n        return doBoundsOverlap(candidateBounds, getObjectBounds(obj));\r\n    });\r\n};\r\n\r\nconst enforceWallOverlapRules = (objects = []) => {\r\n    const accepted = [];\r\n    (Array.isArray(objects) ? objects : []).forEach((obj) => {\r\n        if (wouldWallOverlap(obj, accepted)) {\r\n            return;\r\n        }\r\n        accepted.push(obj);\r\n    });\r\n    return accepted;\r\n};\r\n\r\nconst normalizeCharacter = (raw = {}, fallback = {}) => {\r\n    const source = { ...fallback, ...raw };\r\n    return {\r\n        ...source,\r\n        id: String(source.id || fallback.id || \"\"),\r\n        name: String(source.name || fallback.name || \"Unknown\"),\r\n        position: {\r\n            x: toNumber(source?.position?.x, 0),\r\n            y: toNumber(source?.position?.y, 0),\r\n        },\r\n        size: toPositiveNumber(source.size, 30),\r\n        visionDistance: toPositiveNumber(source.visionDistance, 150),\r\n        rotation: toNumber(source.rotation, 0),\r\n        visionArc: toPositiveNumber(source.visionArc, 90),\r\n        team: String(source.team || fallback.team || \"player\"),\r\n    };\r\n};\r\n\r\nexport const GameProvider = ({ children }) => {\r\n    const [selectedChar, setSelectedChar] = useState(null);\r\n    const [fogEnabled, setFogEnabled] = useState(true);\r\n    const [isDM, setIsDM] = useState(false);\r\n    const [characters, setCharacters] = useState(DEFAULT_CHARACTERS);\r\n    const [lastMouse, setLastMouse] = useState({ x: 0, y: 0 });\r\n    const camera = useRef({ x: 0, y: 0, zoom: 1, bgImage: null });\r\n\r\n    const [mapObjects, setMapObjects] = useState(DEFAULT_MAP_OBJECTS);\r\n    const [currentMapId, setCurrentMapId] = useState(\"default_map\");\r\n    const [backgroundKey, setBackgroundKey] = useState(DEFAULT_BACKGROUND_KEY);\r\n    const [mapObjectPlacement, setMapObjectPlacement] = useState(null);\r\n    const [currentZLevel, setCurrentZLevel] = useState(0);\r\n    const [floorTypes, setFloorTypes] = useState(DEFAULT_FLOOR_TYPES);\r\n    const [lighting, setLighting] = useState(DEFAULT_LIGHTING);\r\n\r\n    const nextMapObjectIdRef = useRef(getMaxObjectId(DEFAULT_MAP_OBJECTS) + 1);\r\n    const mapObjectsRef = useRef(DEFAULT_MAP_OBJECTS);\r\n\r\n    useEffect(() => {\r\n        mapObjectsRef.current = mapObjects;\r\n    }, [mapObjects]);\r\n\r\n    const ensureNextObjectId = useCallback((objects) => {\r\n        const nextId = getMaxObjectId(objects) + 1;\r\n        nextMapObjectIdRef.current = Math.max(nextMapObjectIdRef.current, nextId);\r\n    }, []);\r\n\r\n    const createMapObject = useCallback(\r\n        (draft) => {\r\n            const candidateId = toNumber(draft?.id, 0);\r\n            const id = candidateId > 0 ? candidateId : nextMapObjectIdRef.current++;\r\n            const newObject = normalizeMapObject(draft, id);\r\n            if (wouldWallOverlap(newObject, mapObjectsRef.current)) {\r\n                return null;\r\n            }\r\n            setMapObjects((prev) => {\r\n                if (wouldWallOverlap(newObject, prev)) {\r\n                    return prev;\r\n                }\r\n                const updated = [...prev, newObject];\r\n                ensureNextObjectId(updated);\r\n                mapObjectsRef.current = updated;\r\n                return updated;\r\n            });\r\n            return newObject;\r\n        },\r\n        [ensureNextObjectId]\r\n    );\r\n\r\n    const updateCharacter = useCallback((characterId, updates) => {\r\n        if (!characterId) return;\r\n        setCharacters((prev) =>\r\n            prev.map((char) =>\r\n                char.id === characterId ? normalizeCharacter({ ...char, ...updates }, char) : char\r\n            )\r\n        );\r\n    }, []);\r\n\r\n    const moveCharacter = useCallback((characterId, x, y) => {\r\n        updateCharacter(characterId, {\r\n            position: {\r\n                x: toNumber(x, 0),\r\n                y: toNumber(y, 0),\r\n            },\r\n        });\r\n    }, [updateCharacter]);\r\n\r\n    const selectCharacter = useCallback((characterId) => {\r\n        setSelectedChar(characterId);\r\n    }, []);\r\n\r\n    const toggleFog = useCallback(() => {\r\n        setFogEnabled((prev) => !prev);\r\n    }, []);\r\n\r\n    const handleCharacterAction = useCallback(\r\n        (characterId, action) => {\r\n            const char = characters.find((c) => c.id === characterId);\r\n            console.log(`${char?.name} performs ${action}`);\r\n        },\r\n        [characters]\r\n    );\r\n\r\n    const addMapObject = useCallback(\r\n        (obj) => {\r\n            createMapObject(obj);\r\n        },\r\n        [createMapObject]\r\n    );\r\n\r\n    const updateMapObject = useCallback((id, updates) => {\r\n        const numericId = toNumber(id, -1);\r\n        if (numericId < 0) return;\r\n        setMapObjects((prev) => {\r\n            const targetIndex = prev.findIndex((obj) => toNumber(obj.id, -1) === numericId);\r\n            if (targetIndex < 0) return prev;\r\n\r\n            const currentObject = prev[targetIndex];\r\n            const safeUpdates =\r\n                updates && typeof updates === \"object\" && !Array.isArray(updates) ? updates : {};\r\n            const merged = { ...currentObject, ...safeUpdates };\r\n            if (safeUpdates.hitbox && typeof safeUpdates.hitbox === \"object\") {\r\n                merged.hitbox = {\r\n                    ...(currentObject.hitbox || {}),\r\n                    ...safeUpdates.hitbox,\r\n                };\r\n            }\r\n            const normalized = normalizeMapObject(merged, currentObject.id);\r\n            const layoutSensitiveKeys = new Set([\r\n                \"type\",\r\n                \"terrainType\",\r\n                \"x\",\r\n                \"y\",\r\n                \"zLevel\",\r\n                \"size\",\r\n                \"width\",\r\n                \"height\",\r\n                \"hitbox\",\r\n            ]);\r\n            const affectsWallLayout = Object.keys(safeUpdates).some((key) =>\r\n                layoutSensitiveKeys.has(key)\r\n            );\r\n            if (affectsWallLayout && wouldWallOverlap(normalized, prev, currentObject.id)) {\r\n                return prev;\r\n            }\r\n\r\n            const next = [...prev];\r\n            next[targetIndex] = normalized;\r\n            mapObjectsRef.current = next;\r\n            return next;\r\n        });\r\n    }, []);\r\n\r\n    const deleteMapObject = useCallback((id) => {\r\n        const numericId = toNumber(id, -1);\r\n        if (numericId < 0) return;\r\n        setMapObjects((prev) => {\r\n            const next = prev.filter((obj) => toNumber(obj.id, -1) !== numericId);\r\n            mapObjectsRef.current = next;\r\n            return next;\r\n        });\r\n    }, []);\r\n\r\n    const replaceAllMapObjects = useCallback(\r\n        (newObjects) => {\r\n            const safeObjects = Array.isArray(newObjects) ? newObjects : [];\r\n            const normalized = enforceWallOverlapRules(\r\n                safeObjects.map((obj, index) => normalizeMapObject(obj, index + 1))\r\n            );\r\n            setMapObjects(normalized);\r\n            mapObjectsRef.current = normalized;\r\n            ensureNextObjectId(normalized);\r\n        },\r\n        [ensureNextObjectId]\r\n    );\r\n\r\n    const armMapObjectPlacement = useCallback((config = {}) => {\r\n        const type = normalizeObjectType(config.type);\r\n        const terrainType = normalizeTerrainType(config.terrainType);\r\n        const floorTypeId = normalizeFloorTypeID(config.floorTypeId, terrainType);\r\n        const defaultMaxHP = DEFAULT_MAX_HP_BY_TERRAIN[terrainType] || DEFAULT_MAX_HP_BY_TERRAIN.obstacle;\r\n        const defaultElevationHeight =\r\n            DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN[terrainType] ??\r\n            DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN.obstacle;\r\n        const maxHP =\r\n            config.maxHP === null || config.maxHP === \"indestructible\"\r\n                ? null\r\n                : Math.max(1, Math.round(toNumber(config.maxHP, defaultMaxHP)));\r\n        const hp =\r\n            maxHP === null\r\n                ? null\r\n                : Math.max(0, Math.min(maxHP, Math.round(toNumber(config.hp, maxHP))));\r\n\r\n        setMapObjectPlacement({\r\n            type,\r\n            terrainType,\r\n            floorTypeId,\r\n            zLevel: clampZLevel(config.zLevel),\r\n            color: normalizeHexColor(config.color),\r\n            mapAssetKey: normalizeMapAssetKey(config.mapAssetKey || config.mapKey || config.mapImageKey),\r\n            z: Math.round(toNumber(config.z, 0)),\r\n            size: toPositiveNumber(config.size, type === \"triangle\" ? 40 : 30),\r\n            width: toPositiveNumber(config.width, 50),\r\n            height: toPositiveNumber(config.height, 40),\r\n            elevationHeight: Math.round(\r\n                toNonNegativeNumber(\r\n                    config.elevationHeight ??\r\n                        config.height3D ??\r\n                        config.objectHeight ??\r\n                        config.shadowHeight ??\r\n                        defaultElevationHeight,\r\n                    defaultElevationHeight\r\n                )\r\n            ),\r\n            maxHP,\r\n            hp,\r\n            hitbox: {\r\n                type: normalizeObjectType(config?.hitbox?.type || config.hitboxType || type),\r\n                offsetX: Math.round(toNumber(config?.hitbox?.offsetX, 0)),\r\n                offsetY: Math.round(toNumber(config?.hitbox?.offsetY, 0)),\r\n                scale: clampHitboxScale(config?.hitbox?.scale ?? config.hitboxScale),\r\n            },\r\n        });\r\n    }, []);\r\n\r\n    const clearMapObjectPlacement = useCallback(() => {\r\n        setMapObjectPlacement(null);\r\n    }, []);\r\n\r\n    const replaceFloorTypes = useCallback((newFloorTypes) => {\r\n        const normalized = normalizeFloorTypeCollection(newFloorTypes);\r\n        if (!normalized.length) return;\r\n        setFloorTypes(normalized);\r\n    }, []);\r\n\r\n    const setLightingDirection = useCallback((x, y) => {\r\n        setLighting((prev) => {\r\n            const normalized = normalizeLightingConfig(prev);\r\n            // Update the first directional light source, or create one if none exists\r\n            const sources = [...normalized.sources];\r\n            const firstDirectionalIndex = sources.findIndex(s => s.type === \"directional\");\r\n            \r\n            if (firstDirectionalIndex >= 0) {\r\n                sources[firstDirectionalIndex] = {\r\n                    ...sources[firstDirectionalIndex],\r\n                    ...normalizeLightingDirection({ x, y }),\r\n                };\r\n            } else {\r\n                sources.unshift(normalizeLightingSource({\r\n                    type: \"directional\",\r\n                    x,\r\n                    y,\r\n                }, 0));\r\n            }\r\n            \r\n            return {\r\n                ...normalized,\r\n                sources,\r\n            };\r\n        });\r\n    }, []);\r\n\r\n    const replaceLighting = useCallback((lightingConfig) => {\r\n        setLighting(normalizeLightingConfig(lightingConfig));\r\n    }, []);\r\n\r\n    const addLightSource = useCallback((lightSource) => {\r\n        setLighting((prev) => {\r\n            const normalized = normalizeLightingConfig(prev);\r\n            const newSource = normalizeLightingSource(lightSource, normalized.sources.length);\r\n            return {\r\n                ...normalized,\r\n                sources: [...normalized.sources, newSource],\r\n            };\r\n        });\r\n    }, []);\r\n\r\n    const updateLightSource = useCallback((lightId, updates) => {\r\n        setLighting((prev) => {\r\n            const normalized = normalizeLightingConfig(prev);\r\n            const sources = normalized.sources.map(source =>\r\n                source.id === lightId\r\n                    ? normalizeLightingSource({ ...source, ...updates }, 0)\r\n                    : source\r\n            );\r\n            return {\r\n                ...normalized,\r\n                sources,\r\n            };\r\n        });\r\n    }, []);\r\n\r\n    const removeLightSource = useCallback((lightId) => {\r\n        setLighting((prev) => {\r\n            const normalized = normalizeLightingConfig(prev);\r\n            return {\r\n                ...normalized,\r\n                sources: normalized.sources.filter(source => source.id !== lightId),\r\n            };\r\n        });\r\n    }, []);\r\n\r\n    const placePendingMapObjectAt = useCallback(\r\n        (x, y, overrides = {}) => {\r\n            if (!mapObjectPlacement) return null;\r\n            const safeOverrides =\r\n                overrides && typeof overrides === \"object\" && !Array.isArray(overrides)\r\n                    ? overrides\r\n                    : {};\r\n\r\n            const placed = createMapObject({\r\n                ...mapObjectPlacement,\r\n                ...safeOverrides,\r\n                x: Math.round(toNumber(x, 0)),\r\n                y: Math.round(toNumber(y, 0)),\r\n            });\r\n            setMapObjectPlacement(null);\r\n            return placed;\r\n        },\r\n        [mapObjectPlacement, createMapObject]\r\n    );\r\n\r\n    const loadGameSnapshot = useCallback(\r\n        (snapshot = {}) => {\r\n            if (!snapshot || typeof snapshot !== \"object\") return;\r\n\r\n            if (typeof snapshot.backgroundKey === \"string\" && snapshot.backgroundKey.trim()) {\r\n                const candidate = snapshot.backgroundKey.trim().toLowerCase();\r\n                if (BACKGROUND_OPTIONS.includes(candidate)) {\r\n                    setBackgroundKey(candidate);\r\n                }\r\n            }\r\n\r\n            if (Array.isArray(snapshot.mapObjects)) {\r\n                replaceAllMapObjects(snapshot.mapObjects);\r\n            }\r\n\r\n            if (Number.isFinite(Number(snapshot.currentZLevel))) {\r\n                setCurrentZLevel(clampZLevel(snapshot.currentZLevel));\r\n            }\r\n\r\n            if (Array.isArray(snapshot.floorTypes)) {\r\n                replaceFloorTypes(snapshot.floorTypes);\r\n            }\r\n\r\n            if (snapshot.lighting && typeof snapshot.lighting === \"object\") {\r\n                replaceLighting(snapshot.lighting);\r\n            }\r\n\r\n            if (Array.isArray(snapshot.characters) && snapshot.characters.length > 0) {\r\n                setCharacters(\r\n                    snapshot.characters.map((character, index) =>\r\n                        normalizeCharacter(character, DEFAULT_CHARACTERS[index] || {})\r\n                    )\r\n                );\r\n            }\r\n        },\r\n        [replaceAllMapObjects, replaceFloorTypes, replaceLighting]\r\n    );\r\n\r\n    const saveMapToDatabase = useCallback(async () => {\r\n        console.log(\"saveMapToDatabase placeholder\", { currentMapId, mapObjects, backgroundKey });\r\n    }, [currentMapId, mapObjects, backgroundKey]);\r\n\r\n    const loadMapFromDatabase = useCallback(async (mapId) => {\r\n        console.log(\"loadMapFromDatabase placeholder\", { mapId });\r\n    }, []);\r\n\r\n    const stepZLevelUp = useCallback(() => {\r\n        setCurrentZLevel((prev) => clampZLevel(prev + 1));\r\n    }, []);\r\n\r\n    const stepZLevelDown = useCallback(() => {\r\n        setCurrentZLevel((prev) => clampZLevel(prev - 1));\r\n    }, []);\r\n\r\n    const screenToWorld = useCallback(\r\n        (screenX, screenY) => {\r\n            if (!camera?.current) return { x: 0, y: 0 };\r\n            const zoom = toNumber(camera.current.zoom, 1) || 1;\r\n            const camX = toNumber(camera.current.x, 0);\r\n            const camY = toNumber(camera.current.y, 0);\r\n            return {\r\n                x: (toNumber(screenX, 0) + camX) / zoom,\r\n                y: (toNumber(screenY, 0) + camY) / zoom,\r\n            };\r\n        },\r\n        [camera]\r\n    );\r\n\r\n    const worldToScreen = useCallback(\r\n        (worldX, worldY) => {\r\n            if (!camera?.current) return { x: 0, y: 0 };\r\n            const zoom = toNumber(camera.current.zoom, 1) || 1;\r\n            const camX = toNumber(camera.current.x, 0);\r\n            const camY = toNumber(camera.current.y, 0);\r\n            return {\r\n                x: toNumber(worldX, 0) * zoom - camX,\r\n                y: toNumber(worldY, 0) * zoom - camY,\r\n            };\r\n        },\r\n        [camera]\r\n    );\r\n\r\n    const worldMouseCoords = useMemo(() => {\r\n        if (!camera?.current || !lastMouse) return { x: 0, y: 0 };\r\n        if (typeof lastMouse.x !== \"number\" || typeof lastMouse.y !== \"number\") {\r\n            return { x: 0, y: 0 };\r\n        }\r\n        return screenToWorld(lastMouse.x, lastMouse.y);\r\n    }, [lastMouse, screenToWorld]);\r\n\r\n\r\n\r\n\r\n    const [lightPlacement, setLightPlacement] = useState(null);\r\n\r\n// Add these functions\r\nconst armLightPlacement = useCallback((config = {}) => {\r\n  setLightPlacement({\r\n    type: \"point\",\r\n    color: String(config.color || \"#ffffff\"),\r\n    intensity: Number(config.intensity) ?? 0.8,\r\n    blend: Number(config.blend) ?? 0.7,\r\n    range: Number(config.range) || 420,\r\n  });\r\n}, []);\r\n\r\nconst clearLightPlacement = useCallback(() => {\r\n  setLightPlacement(null);\r\n}, []);\r\n\r\nconst placeLightAt = useCallback((worldX, worldY) => {\r\n  if (!lightPlacement) return;\r\n  \r\n  addLightSource({\r\n    id: `point_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    name: `Light ${(lighting?.sources?.length || 0) + 1}`,\r\n    type: \"point\",\r\n    enabled: true,\r\n    worldX: Math.round(worldX),\r\n    worldY: Math.round(worldY),\r\n    color: lightPlacement.color,\r\n    intensity: lightPlacement.intensity,\r\n    blend: lightPlacement.blend,\r\n    range: lightPlacement.range,\r\n  });\r\n  \r\n  clearLightPlacement();\r\n}, [lightPlacement, lighting, addLightSource, clearLightPlacement]);\r\n\r\n\r\n\r\n\r\n    const value = {\r\n        selectedChar,\r\n        setSelectedChar,\r\n        fogEnabled,\r\n        setFogEnabled,\r\n        isDM,\r\n        setIsDM,\r\n        characters,\r\n        setCharacters,\r\n        lastMouse,\r\n        setLastMouse,\r\n        camera,\r\n        worldMouseCoords,\r\n\r\n        mapObjects,\r\n        setMapObjects,\r\n        currentMapId,\r\n        setCurrentMapId,\r\n        backgroundKey,\r\n        setBackgroundKey,\r\n        backgroundOptions: BACKGROUND_OPTIONS,\r\n        mapImageOptions: MAP_IMAGE_OPTIONS,\r\n        floorTypes,\r\n        replaceFloorTypes,\r\n        lighting,\r\n        replaceLighting,\r\n        setLightingDirection,\r\n        addLightSource,\r\n        updateLightSource,\r\n        removeLightSource,\r\n        mapObjectPlacement,\r\n        currentZLevel,\r\n        setCurrentZLevel,\r\n        stepZLevelUp,\r\n        stepZLevelDown,\r\n\r\n        updateCharacter,\r\n        moveCharacter,\r\n        selectCharacter,\r\n        toggleFog,\r\n        handleCharacterAction,\r\n        screenToWorld,\r\n        worldToScreen,\r\n\r\n        addMapObject,\r\n        updateMapObject,\r\n        deleteMapObject,\r\n        replaceAllMapObjects,\r\n        armMapObjectPlacement,\r\n        clearMapObjectPlacement,\r\n        placePendingMapObjectAt,\r\n        saveMapToDatabase,\r\n        loadMapFromDatabase,\r\n        loadGameSnapshot,\r\n        lightPlacement,\r\n        armLightPlacement,\r\n        clearLightPlacement,\r\n        placeLightAt,\r\n    };\r\n\r\n    return <GameContext.Provider value={value}>{children}</GameContext.Provider>;\r\n};\r\n\r\nexport const useGame = () => {\r\n    const context = useContext(GameContext);\r\n    if (!context) {\r\n        throw new Error(\"useGame must be used within a GameProvider\");\r\n    }\r\n    return context;\r\n};\r\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import React from 'react';\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport const socket = io(\"https://dnm-m84a.onrender.com\", {\r\n  transports: [\"websocket\", \"polling\"],\r\n});\r\n\r\nexport const SocketContext = React.createContext(socket);","const images = require.context('../images', true, /\\.(png|jpe?g|svg)$/);\r\n\r\nconst imageMap = images.keys().reduce((map, path) => {\r\n  const fileName = path.split('/').pop().replace(/\\.[^/.]+$/, '').toLowerCase();\r\n  map[fileName] = images(path);\r\n  return map;\r\n}, {});\r\n\r\nexport default function getImage(name) {\r\n  const baseName = name.replace(/\\.[^/.]+$/, '').toLowerCase();\r\n  return imageMap[baseName] || null;\r\n}","import React, { useState, useContext, useEffect, useCallback } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { SocketContext } from '../socket.io/context';\nimport getImage from \"../handlers/getImage\";\n\nconst GITHUB_URL = \"https://github.com/Yisong-Lin-Coding/DnM\";\nconst LINKEDIN_URL = \"https://www.linkedin.com/in/yisong-lin-8605a3357/\";\n\nfunction Login() {\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const waitForSessionID = useCallback((timeoutMs = 5000, intervalMs = 50) => {\n        return new Promise((resolve) => {\n            const startedAt = Date.now();\n\n            const poll = () => {\n                const sessionID = sessionStorage.getItem(\"session_ID\") || socket?.id || null;\n                if (sessionID) {\n                    resolve(sessionID);\n                    return;\n                }\n\n                if (Date.now() - startedAt >= timeoutMs) {\n                    resolve(null);\n                    return;\n                }\n\n                setTimeout(poll, intervalMs);\n            };\n\n            poll();\n        });\n    }, [socket]);\n\n    function handleLogin() {\n        const cleanUsername = username.trim();\n        if (!cleanUsername || !password) {\n            alert(\"Please provide both username and password.\");\n            return;\n        }\n\n        socket.emit(\"login\", { username: cleanUsername, password }, (response) => {\n            if (!response?.success) {\n                const errorMessage = response?.error || response?.message || \"Login failed. Please try again.\";\n                console.log(`Login failed: ${errorMessage}`);\n                alert(errorMessage);\n                return;\n            }\n\n            const playerID = String(response.userID || response.userId || \"\").trim();\n            if (!playerID) {\n                alert(\"Login failed: missing user ID.\");\n                return;\n            }\n\n            localStorage.setItem(\"player_ID\", playerID);\n            localStorage.setItem(\"player_username\", cleanUsername);\n\n            waitForSessionID().then((resolvedSessionID) => {\n                if (!resolvedSessionID) {\n                    alert(\"Unable to establish a session. Please try again.\");\n                    return;\n                }\n\n                socket.emit(\"login_tokenSave\", { playerID, sessionID: resolvedSessionID }, (tokenResponse) => {\n                    if (!tokenResponse?.success) {\n                        alert(tokenResponse?.error || \"Unable to save login session.\");\n                        return;\n                    }\n\n                    socket.emit(\"playerData_logOn\", { playerID });\n                    navigate(`/ISK/${resolvedSessionID}/home`);\n                });\n            });\n        });\n    }\n\nuseEffect(() => {\n    let cancelled = false;\n\n    function autoLogin() {\n        const playerID = (localStorage.getItem(\"player_ID\") || \"\");\n        \n        const lastLocation = (sessionStorage.getItem(\"lastLocation\") || \"\")\n        if (!playerID) {\n            return;\n        }\n\n        waitForSessionID().then((sessionID) => {\n            if (cancelled || !sessionID) {\n                return;\n            }\n\n            socket.emit(\"login_tokenSave\", { playerID, sessionID }, (response) => {\n                if (cancelled) return;\n\n                if (response.success) {\n                    socket.emit(\"playerData_logOn\", { playerID });\n                    if(lastLocation){\n                        navigate(`/ISK/${sessionID}/${lastLocation}`)\n                    }else {\n                        navigate(`/ISK/${sessionID}/home`);\n                    }\n                } \n                else {\n                    console.log(response?.error || response?.message || \"Autologin failed\");\n                    localStorage.removeItem(\"player_ID\");\n                    localStorage.removeItem(\"player_username\");\n                    sessionStorage.removeItem(\"lastLocation\");\n                }\n            });\n        });\n    }\n    \n    autoLogin();\n    return () => {\n        cancelled = true;\n    };\n}, [socket, navigate, waitForSessionID]);\n\r\nreturn( \r\n\r\n     <div className=\"relative min-h-screen w-full\">\r\n         <div\r\n                className=\"absolute inset-0 bg-cover bg-center\"\r\n                style={{ backgroundImage: `url(${getImage(\"loginpage_background\")})` }}\r\n              />\r\n\r\n    <div className=\"absolute w-1/3 p-16 bg-black/85 h-screen\">\r\n        <div className=\"flex flex-col text-white h-full\">\r\n            <div className=\"text-2xl\">\r\n                Login\r\n            </div>\r\n            <div className=\"flex space-y-6 flex-col pt-8\">\r\n                <div className=\"flex space-y-1 flex-col\">\r\n                    <div>Username</div>\r\n                    <div>\r\n                        <input \r\n                            type=\"text\"\r\n                            placeholder=\"Username...\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            className=\"bg-transparent border-b border-b-white text-white w-full focus:outline-none focus:ring-0\"\r\n                            />\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex space-y-1 flex-col\">\r\n                    <div>Password </div>\r\n                    <div>\r\n                        <input \r\n                            type=\"password\" \r\n                            placeholder=\"Password...\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"bg-transparent border-b border-b-white text-white w-full focus:outline-none focus:ring-0 \"\r\n                            />\r\n                    </div>\r\n                </div>\r\n                <button \r\n                    onClick={handleLogin} \r\n                    className=\"relative bg-blue-500 text-white px-4 py-2 rounded-full w-full\">\r\n                        Log In\r\n                </button>\r\n                <div className=\"text-center\">\r\n                    <p>Don't have an account? <Link to=\"/signup\">Sign up here</Link>.</p>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-auto flex flex-row justify-center text-xs space-x-2\">\r\n                <div>\r\n                    <Link to=\"/\">Home</Link>\r\n                </div>\r\n                <div>|</div>\n                <div>\n                    <a href={LINKEDIN_URL} target=\"_blank\" rel=\"noopener noreferrer\">About</a>\n                </div>\n                <div>|</div>\n                <div>\n                    <a href={GITHUB_URL} target=\"_blank\" rel=\"noopener noreferrer\">Github</a>\n                </div>\n            </div>\n        </div>\r\n         \r\n        \r\n        \r\n    </div>\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default Login\n","import { useNavigate } from 'react-router-dom';\nimport getImage from '../handlers/getImage';\n\nconst GITHUB_URL = \"https://github.com/Yisong-Lin-Coding/DnM\";\n\nfunction StartScreen() {\n  const navigate = useNavigate();\n  const handleStart = () => {\n    navigate(`/login`);\n  };\n\n  const handleSettings = () => {\n    navigate(`/settings`);\n  };\n\n  const handleExit = () => {\n    localStorage.removeItem(\"player_ID\");\n    localStorage.removeItem(\"player_username\");\n    sessionStorage.removeItem(\"session_ID\");\n    sessionStorage.removeItem(\"adminPermission\");\n    sessionStorage.removeItem(\"lastLocation\");\n    window.location.assign(GITHUB_URL);\n  };\n\n  return (\n    <div className=\"relative min-h-screen w-full overflow-hidden\">\r\n\r\n      <div\r\n        className=\"absolute inset-0 bg-cover bg-center\"\r\n        style={{ backgroundImage: `url(${getImage(\"startpage_background\")})` }}\r\n      />\r\n\r\n     <div className=\"absolute inset-0 bg-gradient-to-t from-black/40\" />\r\n\r\n\r\n      <div className=\"relative z-10 grid grid-rows-[25vh_75vh] grid-cols-[1fr_3fr_1fr] items-center justify-center w-full text-center text-white p-5 h-screen\">\r\n\r\n        <h1 className=\"col-span-3 text-3xl font-bold\">Welcome to DNM</h1>\r\n\r\n\r\n        <div className=\"col-start-2 self-start w-[40%] mx-auto h-[55%] flex flex-col justify-between items-center p-5 space-y-4 rounded-lg bg-black/55 text-lg\"> \n          <button onClick={handleStart}>Start</button> \n          <button onClick={handleSettings}>Settings</button> \n          <button onClick={handleExit}>Exit</button>\n        </div>\n      </div>\n    </div>\r\n  );\r\n}\r\n\r\nexport default StartScreen;\r\n","import { useNavigate } from 'react-router-dom';\nimport '../Pages.css'\nimport { SocketContext } from '../socket.io/context';\nimport { useContext, useEffect } from \"react\";\nimport getImage from '../handlers/getImage';\n\nconst getSessionID = () => sessionStorage.getItem(\"session_ID\");\n\nfunction HomePage() {\n  const socket = useContext(SocketContext);\n  const navigate = useNavigate();\n\n  const navigateTo = (path) => {\n    const sessionID = getSessionID();\n    if (!sessionID) {\n      navigate(\"/login\");\n      return;\n    }\n    navigate(`/ISK/${sessionID}${path}`);\n  };\n\n  const goToLore = () => {\n    navigateTo(\"/lore\");\n  };\n\n  const goToCampaign = () => {\n    navigateTo(\"/lobby\");\n  };\n\n  const goToCharacters = () => {\n    navigateTo(\"/character\");\n  };\n\n  const handleExit = () => {\n    const playerID = localStorage.getItem(\"player_ID\");\n    if (playerID) {\n      socket.emit(\"playerData_logOff\", { playerID });\n    }\n\n    localStorage.removeItem(\"player_ID\");\n    localStorage.removeItem(\"player_username\");\n    sessionStorage.removeItem(\"session_ID\");\n    sessionStorage.removeItem(\"adminPermission\");\n    sessionStorage.removeItem(\"lastLocation\");\n    navigate(\"/login\");\n  };\n\n  useEffect(() => {\n    const playerID = localStorage.getItem(\"player_ID\");\n    if (!playerID) return;\n\n    socket.emit(\"login_adminPermissionCheck\", { playerID }, (response) => {\n      if (response?.success) {\n        sessionStorage.setItem(\"adminPermission\", \"true\");\n      } else {\n        sessionStorage.setItem(\"adminPermission\", \"false\");\n      }\n    });\n  }, [socket]);\n\n  return (\n    <div className=\"relative min-h-screen w-full\">\n      <div\n        className=\"absolute inset-0 bg-cover bg-center\"\n        style={{ backgroundImage: `url(${getImage(\"homepage_background\")})` }}\n      >\n        <div className=\"relative z-10 grid grid-rows-[25vh_75vh] grid-cols-[1fr_3fr_1fr] items-center justify-center w-full text-center text-white p-5 h-screen\">\n          <div className=\"col-start-2 row-start-2 self-start w-[40%] mx-auto h-[55%] flex flex-col justify-between items-center p-8 space-y-4 rounded-lg bg-black/60 text-lg\">\n            <button onClick={goToLore}>Lore</button>\n            <button onClick={goToCampaign}>Campaign</button>\n            <button onClick={goToCharacters}>Characters</button>\n            <button onClick={handleExit}>Exit</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomePage;\n","import { Link, useNavigate } from 'react-router-dom';\nimport { useState, useContext, useCallback } from \"react\";\nimport { SocketContext } from '../socket.io/context';\nimport getImage from '../handlers/getImage';\n\nconst GITHUB_URL = \"https://github.com/Yisong-Lin-Coding/DnM\";\nconst LINKEDIN_URL = \"https://www.linkedin.com/in/yisong-lin-8605a3357/\";\n\n  const SignupScreen = () =>{\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n\n    const waitForSessionID = useCallback((timeoutMs = 5000, intervalMs = 50) => {\n      return new Promise((resolve) => {\n        const startedAt = Date.now();\n\n        const poll = () => {\n          const sessionID = sessionStorage.getItem(\"session_ID\") || socket?.id || null;\n          if (sessionID) {\n            resolve(sessionID);\n            return;\n          }\n\n          if (Date.now() - startedAt >= timeoutMs) {\n            resolve(null);\n            return;\n          }\n\n          setTimeout(poll, intervalMs);\n        };\n\n        poll();\n      });\n    }, [socket]);\n\n    const Signup = () => {\n      const cleanUsername = username.trim();\n      if (!cleanUsername || !password) {\n        alert(\"Please provide both username and password.\");\n        return;\n      }\n\n      waitForSessionID().then((resolvedSessionID) => {\n        if (!resolvedSessionID) {\n          alert(\"Unable to establish a session. Please refresh and try again.\");\n          return;\n        }\n\n        socket.emit(\"signup\", { username: cleanUsername, password, sessionID: resolvedSessionID }, (response) => {\n          if (!response?.success) {\n            console.error(\"Signup failed:\", response?.error);\n            alert(\"Signup failed: \" + (response?.error || \"Unknown error\"));\n            return;\n          }\n\n          const playerID = String(response.userID || response.userId || \"\").trim();\n          if (!playerID) {\n            alert(\"Signup failed: missing user ID.\");\n            return;\n          }\n\n          localStorage.setItem(\"player_ID\", playerID);\n          localStorage.setItem(\"player_username\", cleanUsername);\n\n          socket.emit(\"login_tokenSave\", { playerID, sessionID: resolvedSessionID }, (tokenResponse) => {\n            if (!tokenResponse?.success) {\n              alert(tokenResponse?.error || \"Unable to save login session.\");\n              return;\n            }\n\n            socket.emit(\"playerData_logOn\", { playerID });\n            navigate(`/ISK/${resolvedSessionID}/home`);\n          });\n        });\n      });\n    }\n\n\n  \n\n  return (\n    <div className=\"relative min-h-screen w-full\">\n         <div\n                className=\"absolute inset-0 bg-cover bg-center\"\n                style={{ backgroundImage: `url(${getImage(\"loginpage_background\")})` }}\n              />\n\n    <div className=\"absolute w-1/3 p-16 bg-black/85 h-screen top-0 right-0\">\n        <div className=\"flex flex-col text-white h-full\">\n            <div className=\"text-2xl\">\n                Sign Up\n            </div>\n            <div className=\"flex space-y-6 flex-col pt-8\">\n                <div className=\"flex space-y-1 flex-col\">\n                    <div>Username</div>\n                    <div>\n                        <input \n                            type=\"text\"\n                            placeholder=\"Username...\"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                            className=\"bg-transparent border-b border-b-white text-white w-full focus:outline-none focus:ring-0\"\n                            />\n                    </div>\n                </div>\n                <div className=\"flex space-y-1 flex-col\">\n                    <div>Password </div>\n                    <div>\n                        <input \n                            type=\"password\" \n                            placeholder=\"Password...\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            className=\"bg-transparent border-b border-b-white text-white w-full focus:outline-none focus:ring-0 \"\n                            />\n                    </div>\n                </div>\n                <button \n                    onClick={Signup} \n                    className=\"relative bg-blue-500 text-white px-4 py-2 rounded-full w-full\">\n                        Sign Up\n                </button>\n                <div className='text-center'>\n                  <p>Already have an account? <Link to=\"/login\">Login here</Link>.</p>\n                </div>\n            </div>\n            \n            <div className=\"mt-auto flex flex-row justify-center text-xs space-x-2\">\n                <div>\n                    <Link to=\"/\">Home</Link>\n                </div>\n                <div>|</div>\n                <div>\n                    <a href={LINKEDIN_URL} target=\"_blank\" rel=\"noopener noreferrer\">About</a>\n                </div>\n                <div>|</div>\n                <div>\n                    <a href={GITHUB_URL} target=\"_blank\" rel=\"noopener noreferrer\">Github</a>\n                </div>\n            </div>\n        </div>\n         \n        \n        \n    </div>\n    </div>\n  );\n}\n\n\n\nexport default SignupScreen;\n","export function michelangeloEngine({ layers, state, prevState, frame }) {\n  const renderFrame =\n    frame && typeof frame === \"object\"\n      ? {\n          ...frame,\n          state: frame.state || state || {},\n          prevState: frame.prevState || prevState || null,\n        }\n      : {\n          state: state || {},\n          prevState: prevState || null,\n        };\n\n  if (!renderFrame.cache || typeof renderFrame.cache !== \"object\") {\n    renderFrame.cache = {};\n  }\n\n  for (const layer of Array.isArray(layers) ? layers : []) {\n    if (!layer || typeof layer.draw !== \"function\") continue;\n\n    const shouldRedraw =\n      typeof layer.shouldRedraw === \"function\"\n        ? layer.shouldRedraw(renderFrame.state, renderFrame.prevState, renderFrame)\n        : true;\n\n    if (!shouldRedraw) continue;\n    layer.draw(layer.ctx, layer.canvas, renderFrame.state, renderFrame);\n  }\n}\n","export const backgroundLayer = {\n  id: \"background\",\n\n  shouldRedraw(state, prevState) {\n    const c = state?.camera;\n    const p = prevState?.camera;\n    if (!c || !p) return true;\n\r\n    // Redraw if image changes or camera moves/zooms\n    return (\n      state.backgroundKey !== prevState.backgroundKey ||\n      state.bgImage !== prevState.bgImage ||\n      c.x !== p.x ||\n      c.y !== p.y ||\n      c.zoom !== p.zoom\n    );\n  },\n\n  draw(ctx, canvas, state) {\n    const { bgImage, camera, backgroundKey } = state;\n\n    if (!camera || !canvas || canvas.width === 0 || canvas.height === 0) {\n      return;\n    }\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    if (!bgImage) {\n      const key = String(backgroundKey || \"\").trim().toLowerCase();\n      if (!key || key === \"gray\" || key === \"grey\") {\n        ctx.fillStyle = \"#4b5563\";\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n      }\n      return;\n    }\n\n    // Calculate aspect ratios\n    const canvasRatio = canvas.width / canvas.height;\n    const imgRatio = bgImage.width / bgImage.height;\n\r\n    let drawWidth, drawHeight, offsetX, offsetY;\r\n\r\n    // Cover the entire canvas while maintaining aspect ratio\r\n    if (canvasRatio > imgRatio) {\r\n      // Canvas is wider  scale by width\r\n      drawWidth = canvas.width;\r\n      drawHeight = canvas.width / imgRatio;\r\n      offsetX = 0;\r\n      offsetY = (canvas.height - drawHeight) / 2;\r\n    } else {\r\n      // Canvas is taller  scale by height\r\n      drawHeight = canvas.height;\r\n      drawWidth = canvas.height * imgRatio;\r\n      offsetX = (canvas.width - drawWidth) / 2;\r\n      offsetY = 0;\r\n    }\r\n\r\n    // Draw the background image centered and scaled\r\n    ctx.drawImage(bgImage, offsetX, offsetY, drawWidth, drawHeight);\r\n  },\r\n};\n","const GRID_SIZE = 50;\r\n\r\nexport const gridlayer = {\r\n  id: \"grid\",\r\n\r\n  shouldRedraw(state, prevState) {\n    const c = state?.camera;\n    const p = prevState?.camera;\n    if (!c || !p) return true;\n\r\n    return c.x !== p.x || c.y !== p.y || c.zoom !== p.zoom;\r\n  },\r\n\r\n  draw(ctx, canvas, state) {\n    const { camera } = state;\n    if (!camera || !canvas || canvas.width === 0 || canvas.height === 0) {\n      return;\n    }\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.strokeStyle = \"#7F807E\";\r\n    ctx.lineWidth = 1;\r\n\r\n    // Calculate world bounds that are currently visible on screen\r\n    const worldLeft = camera.x / camera.zoom;\r\n    const worldTop = camera.y / camera.zoom;\r\n    const worldRight = (camera.x + canvas.width) / camera.zoom;\r\n    const worldBottom = (camera.y + canvas.height) / camera.zoom;\r\n\r\n    // Find the first grid line to draw (snap to grid in world space)\r\n    const startWorldX = Math.floor(worldLeft / GRID_SIZE) * GRID_SIZE;\r\n    const endWorldX = Math.ceil(worldRight / GRID_SIZE) * GRID_SIZE;\r\n    const startWorldY = Math.floor(worldTop / GRID_SIZE) * GRID_SIZE;\r\n    const endWorldY = Math.ceil(worldBottom / GRID_SIZE) * GRID_SIZE;\r\n\r\n    // Draw vertical lines\r\n    for (let worldX = startWorldX; worldX <= endWorldX; worldX += GRID_SIZE) {\r\n      const screenX = worldX * camera.zoom - camera.x;\r\n      ctx.beginPath();\r\n      ctx.moveTo(screenX, 0);\r\n      ctx.lineTo(screenX, canvas.height);\r\n      ctx.stroke();\r\n    }\r\n\r\n    // Draw horizontal lines\r\n    for (let worldY = startWorldY; worldY <= endWorldY; worldY += GRID_SIZE) {\r\n      const screenY = worldY * camera.zoom - camera.y;\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, screenY);\r\n      ctx.lineTo(canvas.width, screenY);\r\n      ctx.stroke();\r\n    }\r\n  },\r\n};\n","import { useRef, useEffect, useState } from \"react\"\r\nimport { michelangeloEngine } from \"./game/michelangeloEngine\";\r\nimport { backgroundLayer } from \"./game/Map Layers/0Background\";\r\nimport { gridlayer} from \"./game/Map Layers/4Grid\"\r\nimport getImage from \"../handlers/getImage\";\r\n\r\n\r\n\r\nfunction Test() {\r\n  const [sideWidth, setSideWidth] = useState(320);\r\n  const [dragging, setDragging] = useState(false);\r\n  const [fogEnabled, setFogEnabled] = useState(true);\r\n  const [contextMenu, setContextMenu] = useState(null); // { x, y, charId }\r\n  const spacePressed = useRef(false);\r\n  const camera = useRef({ x: 0, y: 0, zoom: 1 });\r\n  const isPanning = useRef(false);\r\n  const [lastMouse, setLastMouse ]= useState({ x: 0, y: 0 });\r\n  const [popUp, setPopUp] = useState([])\r\n  const mood =\"calm1\"\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      const img = new Image();\r\n      img.src = getImage(`calm1`);\r\n      console.log(\"BG IMAGE URL:\", getImage(`calm1`))\r\n\r\n      img.onload = () => {\r\n        camera.current.bgImage = img;\r\n      };\r\n    }, [mood]);\r\n\r\n\r\n  function formatSingleCanvas(canvas) {\r\n  const dpr = window.devicePixelRatio || 1;\r\n  const rect = canvas.getBoundingClientRect();\r\n\r\n  canvas.width  = Math.round(rect.width * dpr);\r\n  canvas.height = Math.round(rect.height * dpr);\r\n\r\n  const ctx = canvas.getContext(\"2d\");\r\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\r\n\r\n  return ctx;\r\n}\r\n  function useCanvasLayers(layerRefs) {\r\n  const layers = useRef({});\r\n\r\n  useEffect(() => {\r\n    for (const [name, ref] of Object.entries(layerRefs)) {\r\n      const canvas = ref.current;\r\n      if (!canvas) continue;\r\n\r\n      const ctx = formatSingleCanvas(canvas);\r\n\r\n      layers.current[name] = {\r\n        canvas,\r\n        ctx,\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  return layers.current;\r\n}\r\n\r\nconst layers = useCanvasLayers({\r\n  background: bgCanvasRef,\r\n  grid: gridCanvasRef,\r\n  fog: fogCanvasRef,\r\n});\r\n\r\nuseEffect(() => {\r\n  const resize = () => {\r\n    for (const layer of Object.values(layers.current)) {\r\n      formatSingleCanvas(layer.canvas);\r\n    }\r\n  };\r\n\r\n  window.addEventListener(\"resize\", resize);\r\n  return () => window.removeEventListener(\"resize\", resize);\r\n}, []);\r\n\r\n\r\n\r\n  \r\n\r\n  const gridSize = 50;\r\n  const canvasRef = useRef(null);\r\n  const [selectedChar, setSelectedChar] = useState(null);\r\n\r\n  const CharacterPlaceholder = [\r\n    {\r\n      id: 'char1',\r\n      name: 'Hero',\r\n      position: { x: 25, y: 50 },\r\n      sprite: null,\r\n      size: 50,\r\n      visionRange: 200,\r\n      visiondistance: 200,\r\n      rotation: 45, // degrees\r\n      visionarc: 90, // degrees (cone angle)\r\n      team: 'player'\r\n    },\r\n    {\r\n      id: 'char2',\r\n      name: 'Ally',\r\n      position: { x: 100, y: 100 },\r\n      sprite: null,\r\n      size: 20,\r\n      visionRange: 150,\r\n      visiondistance: 150,\r\n      rotation: 180,\r\n      visionarc: 120,\r\n      team: 'player'\r\n    },\r\n    {\r\n      id: 'char3',\r\n      name: 'Enemy',\r\n      position: { x: 400, y: 300 },\r\n      sprite: null,\r\n      size: 30,\r\n      visionRange: 100,\r\n      visiondistance: 100,\r\n      rotation: 270,\r\n      visionarc: 90,\r\n      team: 'enemy'\r\n    },\r\n  ]\r\n\r\n\r\n\r\n\r\n  const bgCanvasRef = useRef(null);\r\n  const gridCanvasRef = useRef(null)\r\n\r\n      \r\n\r\n  // Helper: Convert degrees to radians\r\n  const degreeToRadian = (degrees) => (degrees * Math.PI) / 180;\r\n\r\n  // Helper: Convert world coords to screen coords\r\n  const worldToScreen = (worldX, worldY) => ({\r\n    x: worldX * camera.current.zoom - camera.current.x,\r\n    y: worldY * camera.current.zoom - camera.current.y\r\n  });\r\n\r\n  // Helper: Convert screen coords to world coords\r\n  const screenToWorld = (screenX, screenY) => ({\r\n    x: (screenX + camera.current.x) / camera.current.zoom,\r\n    y: (screenY + camera.current.y) / camera.current.zoom\r\n  });\r\n\r\n\r\n  const worldMouseCords = screenToWorld(lastMouse.x,lastMouse.y)\r\n\r\n\r\n\r\n\r\n  // Check if a point is visible to any player character (cone-based)\r\n  const isVisible = (x, y) => {\r\n    if (!fogEnabled) return true;\r\n\r\n    const playerChars = CharacterPlaceholder.filter(c => c.team === 'player');\r\n    \r\n    for (const char of playerChars) {\r\n      const dx = x - char.position.x;\r\n      const dy = y - char.position.y;\r\n      const distSq = dx * dx + dy * dy;\r\n      \r\n      // Check if within vision distance\r\n      if (distSq <= char.visiondistance * char.visiondistance) {\r\n        // Check if within vision cone\r\n        const angleToPoint = Math.atan2(dy, dx) * (180 / Math.PI);\r\n        let angleDiff = angleToPoint - char.rotation;\r\n        \r\n        // Normalize angle difference to -180 to 180\r\n        while (angleDiff > 180) angleDiff -= 360;\r\n        while (angleDiff < -180) angleDiff += 360;\r\n        \r\n        if (Math.abs(angleDiff) <= char.visionarc / 2) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }, [selectedChar]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // LAYER RENDERING FUNCTIONS\r\n  const drawGrid = (ctx, canvas) => {\r\n    const startX = -camera.current.x % (gridSize * camera.current.zoom);\r\n    const startY = -camera.current.y % (gridSize * camera.current.zoom);\r\n\r\n    ctx.strokeStyle = '#374151';\r\n    ctx.lineWidth = 1;\r\n\r\n    for (let x = startX; x < canvas.width; x += gridSize * camera.current.zoom) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(x, 0);\r\n      ctx.lineTo(x, canvas.height);\r\n      ctx.stroke();\r\n    }\r\n\r\n    for (let y = startY; y < canvas.height; y += gridSize * camera.current.zoom) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, y);\r\n      ctx.lineTo(canvas.width, y);\r\n      ctx.stroke();\r\n    }\r\n  };\r\n\r\n  const drawShadows = (ctx) => {\r\n    for (const char of CharacterPlaceholder) {\r\n      // Only render if visible\r\n      if (!isVisible(char.position.x, char.position.y)) continue;\r\n\r\n      const screen = worldToScreen(char.position.x, char.position.y);\r\n      const size = char.size * camera.current.zoom;\r\n\r\n      ctx.beginPath();\r\n      ctx.ellipse(screen.x, screen.y + size * 0.3, size * 0.4, size * 0.15, 0, 0, Math.PI * 2);\r\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\r\n      ctx.fill();\r\n    }\r\n  };\r\n\r\n  const drawCharacters = (ctx) => {\r\n    for (const char of CharacterPlaceholder) {\r\n      // Only render if visible\r\n      if (!isVisible(char.position.x, char.position.y)) continue;\r\n\r\n      const screen = worldToScreen(char.position.x, char.position.y);\r\n      const size = char.size * camera.current.zoom;\r\n\r\n      ctx.beginPath();\r\n      ctx.arc(screen.x, screen.y, size / 2, 0, Math.PI * 2);\r\n      \r\n      // Color based on team\r\n      if (char.team === 'player') {\r\n        ctx.fillStyle = selectedChar === char.id ? '#3B82F6' : '#10B981';\r\n      } else {\r\n        ctx.fillStyle = '#EF4444';\r\n      }\r\n      ctx.fill();\r\n\r\n      // Selection ring\r\n      if (selectedChar === char.id) {\r\n        ctx.strokeStyle = '#60A5FA';\r\n        ctx.lineWidth = 3;\r\n        ctx.stroke();\r\n      }\r\n    }\r\n  };\r\n\r\n  const drawLabels = (ctx) => {\r\n    ctx.fillStyle = '#ffffff';\r\n    ctx.textAlign = 'center';\r\n\r\n    for (const char of CharacterPlaceholder) {\r\n      // Only render if visible\r\n      if (!isVisible(char.position.x, char.position.y)) continue;\r\n\r\n      const screen = worldToScreen(char.position.x, char.position.y);\r\n      const size = char.size * camera.current.zoom;\r\n\r\n      ctx.font = `${Math.max(12, 14 * camera.current.zoom)}px Arial`;\r\n      ctx.fillText(char.name, screen.x, screen.y + size / 2 + 15 * camera.current.zoom);\r\n    }\r\n  };\r\n\r\n  const drawVisionRanges = (ctx) => {\r\n    const playerChars = CharacterPlaceholder.filter(c => c.team === 'player');\r\n    \r\n    for (const char of playerChars) {\r\n      const screen = worldToScreen(char.position.x, char.position.y);\r\n      const radius = char.visiondistance * camera.current.zoom;\r\n      \r\n      const startAngle = degreeToRadian(char.rotation - char.visionarc / 2);\r\n      const endAngle = degreeToRadian(char.rotation + char.visionarc / 2);\r\n\r\n      // Draw vision cone outline\r\n      ctx.beginPath();\r\n      ctx.moveTo(screen.x, screen.y);\r\n      ctx.arc(screen.x, screen.y, radius, startAngle, endAngle);\r\n      ctx.lineTo(screen.x, screen.y);\r\n      ctx.strokeStyle = 'rgba(59, 130, 246, 0.5)';\r\n      ctx.lineWidth = 2;\r\n      ctx.stroke();\r\n\r\n      // Draw direction line\r\n      ctx.beginPath();\r\n      ctx.moveTo(screen.x, screen.y);\r\n      const dirX = screen.x + Math.cos(degreeToRadian(char.rotation)) * radius;\r\n      const dirY = screen.y + Math.sin(degreeToRadian(char.rotation)) * radius;\r\n      ctx.lineTo(dirX, dirY);\r\n      ctx.strokeStyle = 'rgba(255, 255, 0, 0.8)';\r\n      ctx.lineWidth = 3;\r\n      ctx.stroke();\r\n    }\r\n  };\r\n\r\n  // Create offscreen canvas for fog (reuse it)\r\n  const fogCanvasRef = useRef(null);\r\n  \r\n  const drawFogOfWar = (ctx, canvas) => {\r\n    if (!fogEnabled) return;\r\n    if (canvas.width === 0 || canvas.height === 0) return; // Skip if canvas not ready\r\n\r\n    // Create or reuse offscreen canvas\r\n    if (!fogCanvasRef.current) {\r\n      fogCanvasRef.current = document.createElement('canvas');\r\n      fogCanvasRef.current.width = canvas.width;\r\n      fogCanvasRef.current.height = canvas.height;\r\n    }\r\n    const fogCanvas = fogCanvasRef.current;\r\n    \r\n    // Resize if needed\r\n    if (fogCanvas.width !== canvas.width || fogCanvas.height !== canvas.height) {\r\n      fogCanvas.width = canvas.width;\r\n      fogCanvas.height = canvas.height;\r\n    }\r\n    \r\n    // Don't draw if still 0\r\n    if (fogCanvas.width === 0 || fogCanvas.height === 0) return;\r\n    \r\n    const fogCtx = fogCanvas.getContext('2d');\r\n    \r\n    // Clear and draw fog on offscreen canvas\r\n    fogCtx.clearRect(0, 0, fogCanvas.width, fogCanvas.height);\r\n    fogCtx.fillStyle = 'rgba(0, 0, 0, 0.85)';\r\n    fogCtx.fillRect(0, 0, fogCanvas.width, fogCanvas.height);\r\n    \r\n    // Cut out vision areas using destination-out\r\n    fogCtx.globalCompositeOperation = 'destination-out';\r\n    \r\n    const playerChars = CharacterPlaceholder.filter(c => c.team === 'player');\r\n    for (const char of playerChars) {\r\n      const screen = worldToScreen(char.position.x, char.position.y);\r\n      const coneRadius = char.visiondistance * camera.current.zoom;\r\n      const circleRadius = 100 * camera.current.zoom;\r\n      \r\n      const startAngle = degreeToRadian(char.rotation - char.visionarc / 2);\r\n      const endAngle = degreeToRadian(char.rotation + char.visionarc / 2);\r\n\r\n      // Erase cone area from fog\r\n      fogCtx.fillStyle = 'black';\r\n      fogCtx.beginPath();\r\n      fogCtx.moveTo(screen.x, screen.y);\r\n      fogCtx.arc(screen.x, screen.y, coneRadius, startAngle, endAngle);\r\n      fogCtx.lineTo(screen.x, screen.y);\r\n      fogCtx.fill();\r\n      \r\n      // Erase circle area from fog\r\n      fogCtx.beginPath();\r\n      fogCtx.arc(screen.x, screen.y, circleRadius, 0, Math.PI * 2);\r\n      fogCtx.fill();\r\n    }\r\n    \r\n    // Reset composite operation\r\n    fogCtx.globalCompositeOperation = 'source-over';\r\n    \r\n    // Now draw the completed fog canvas onto main canvas\r\n    ctx.drawImage(fogCanvas, 0, 0);\r\n  };\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n      const bgCanvas = bgCanvasRef.current\r\n      const gridCanvas = gridCanvasRef.current\r\n\r\n      const bgctx = bgCanvas.getContext(\"2d\") \r\n      const gridctx = gridCanvas.getContext(\"2d\")\r\n\r\n      \r\n\r\n    let raf;\r\n    const loop = () => {\r\n      michelangeloEngine({\r\n        layers: [\r\n          {\r\n            ...backgroundLayer,\r\n            ctx:bgctx,\r\n            canvas: bgCanvas,\r\n          },\r\n          {\r\n            ...gridlayer,\r\n            ctx: gridctx ,\r\n            canvas: gridCanvas,\r\n          },\r\n        ],\r\n        state: {\r\n          bgImage: camera.current.bgImage,\r\n          camera:camera.current\r\n        },\r\n      });\r\n\r\n      raf = requestAnimationFrame(loop);\r\n    };\r\n\r\n    loop();\r\n    return () => cancelAnimationFrame(raf);\r\n  }, []);\r\n\r\nuseEffect(() => {\r\n  const resizeCanvas = () => {\r\n    const bgCanvas = bgCanvasRef.current;\r\n    const gridCanvas = gridCanvasRef.current;\r\n\r\n    bgCanvas.width = bgCanvas.clientWidth;\r\n    bgCanvas.height = bgCanvas.clientHeight;\r\n\r\n    gridCanvas.width = gridCanvas.clientWidth;\r\n    gridCanvas.height = gridCanvas.clientHeight;\r\n  };\r\n\r\n  resizeCanvas();\r\n  window.addEventListener('resize', resizeCanvas);\r\n  return () => window.removeEventListener('resize', resizeCanvas);\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    function onMouseMove(e) {\r\n      const mousePosition = { x: e.clientX, y: e.clientY };\r\n      const dx = e.clientX - lastMouse.x;\r\n      const dy = e.clientY - lastMouse.y;\r\n      setLastMouse(mousePosition)\r\n\r\n\r\n\r\n      if (!dragging) return;\r\n      const newWidth = window.innerWidth - e.clientX;\r\n      setSideWidth(Math.max(200, Math.min(newWidth, 800)));\r\n    }\r\n\r\n    function onMouseUp() {\r\n      setDragging(false);\r\n    }\r\n\r\n    window.addEventListener('mousemove', onMouseMove);\r\n    window.addEventListener('mouseup', onMouseUp);\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', onMouseMove);\r\n      window.removeEventListener('mouseup', onMouseUp);\r\n    };\r\n  }, [dragging]);\r\n\r\n  useEffect(() => {\r\n    function onKeyDown(e) {\r\n      if (e.code === 'Space') {\r\n        e.preventDefault();\r\n        spacePressed.current = true;\r\n      }\r\n    }\r\n\r\n    function onKeyUp(e) {\r\n      if (e.code === 'Space') {\r\n        spacePressed.current = false;\r\n        isPanning.current = false;\r\n      }\r\n    }\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n    window.addEventListener('keyup', onKeyUp);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', onKeyDown);\r\n      window.removeEventListener('keyup', onKeyUp);\r\n    };\r\n  }, []);\r\n\r\n  function onMouseDown(e) {\r\n    // Right click - open context menu if character is selected\r\n    if (e.button === 2) {\r\n      e.preventDefault();\r\n      if (selectedChar) {\r\n        setContextMenu({ x: e.clientX, y: e.clientY, charId: selectedChar });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (e.button === 1 || (e.button === 0 && spacePressed.current)) {\r\n      e.preventDefault();\r\n      isPanning.current = true;\r\n      lastMouse.current = { x: e.clientX, y: e.clientY };\r\n    }\r\n\r\n    if (e.button === 0 && !spacePressed.current) {\r\n      // Close context menu on left click\r\n      setContextMenu(null);\r\n\r\n      const canvas = bgCanvasRef.current;\r\n      const rect = canvas.getBoundingClientRect();\r\n      const screenX = e.clientX - rect.left;\r\n      const screenY = e.clientY - rect.top;\r\n      const world = screenToWorld(screenX, screenY);\r\n      \r\n      let foundChar = null;\r\n\r\n      for (const char of CharacterPlaceholder) {\r\n        // Only allow selecting visible characters\r\n        if (!isVisible(char.position.x, char.position.y)) continue;\r\n\r\n        const distSq = (world.x - char.position.x) ** 2 + (world.y - char.position.y) ** 2;\r\n        if (distSq <= (char.size / 2) ** 2) {\r\n          foundChar = char.id;\r\n          break;\r\n        }\r\n      }\r\n\r\n      setSelectedChar(foundChar);\r\n    }\r\n  }\r\n\r\n  function onMouseMove(e) {\r\n    if (!isPanning.current) return;\r\n\r\nconst dx = e.clientX - lastMouse.x;\r\nconst dy = e.clientY - lastMouse.y;\r\n\r\n    camera.current.x -= dx;\r\n    camera.current.y -= dy;\r\n\r\n    setLastMouse({ x: e.clientX, y: e.clientY });\r\n\r\n  }\r\n\r\n  function onMouseUp() {\r\n    isPanning.current = false;\r\n  }\r\n\r\n  function onWheel(e) {\r\n    e.preventDefault();\r\n    setContextMenu(null); // Close menu on zoom\r\n    \r\n    const zoomFactor = 1.1;\r\n    const mouseX = e.clientX;\r\n    const mouseY = e.clientY;\r\n\r\n    const worldX = (mouseX + camera.current.x) / camera.current.zoom;\r\n    const worldY = (mouseY + camera.current.y) / camera.current.zoom;\r\n\r\n    if (e.deltaY < 0) {\r\n      camera.current.zoom *= zoomFactor;\r\n    } else {\r\n      camera.current.zoom /= zoomFactor;\r\n    }\r\n\r\n    camera.current.zoom = Math.max(0.25, Math.min(camera.current.zoom, 4));\r\n\r\n    camera.current.x = worldX * camera.current.zoom - mouseX;\r\n    camera.current.y = worldY * camera.current.zoom - mouseY;\r\n  }\r\n\r\n  const handleAction = (action) => {\r\n    const char = CharacterPlaceholder.find(c => c.id === contextMenu.charId);\r\n    console.log(`Action \"${action}\" on character:`, char?.name);\r\n    // Add your action logic here\r\n    setContextMenu(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"w-full h-screen relative\"\r\n      onMouseDown={onMouseDown}\r\n          onMouseMove={onMouseMove}\r\n          onMouseUp={onMouseUp}\r\n          onMouseLeave={onMouseUp}\r\n          onWheel={onWheel}\r\n          onContextMenu={(e) => e.preventDefault()}>\r\n\r\n        <canvas ref={bgCanvasRef} className=\"absolute inset-0 bg-gray-900 w-full h-full\" />\r\n       <canvas ref={gridCanvasRef} className=\"absolute inset-0 w-full h-full\" />\r\n\r\n\r\n        {/* Context Menu */}\r\n        {contextMenu && (\r\n          <div\r\n            className=\"absolute bg-gray-800 border border-gray-600 rounded shadow-lg z-50\"\r\n            style={{ left: contextMenu.x, top: contextMenu.y }}\r\n            onMouseLeave={() => setContextMenu(null)}\r\n            onContextMenu={(e) => e.preventDefault()}\r\n          >\r\n            <div className=\"py-1\">\r\n              <button\r\n                onClick={() => handleAction('move')}\r\n                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\r\n              >\r\n                <span></span> Move\r\n              </button>\r\n              <button\r\n                onClick={() => handleAction('attack')}\r\n                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\r\n              >\r\n                <span></span> Attack\r\n              </button>\r\n              <button\r\n                onClick={() => handleAction('defend')}\r\n                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\r\n              >\r\n                <span></span> Defend\r\n              </button>\r\n              <button\r\n                onClick={() => handleAction('skills')}\r\n                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\r\n              >\r\n                <span></span> Skills\r\n              </button>\r\n              <div className=\"border-t border-gray-600 my-1\"></div>\r\n              <button\r\n                onClick={() => handleAction('info')}\r\n                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\r\n              >\r\n                <span></span> Info\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n          {selectedChar && (() => {\r\n            const char = CharacterPlaceholder.find(c => c.id === selectedChar);\r\n            if (!char) return null;\r\n            \r\n            const screen = worldToScreen(char.position.x, char.position.y);\r\n            const isLeft = screen.x < (canvasRef.width / 2);\r\n            \r\n            return (\r\n              <div \r\n                className={`absolute top-4 bg-gray-800 text-white px-4 py-2 rounded shadow-lg z-50 ${isLeft ? 'left-4' : 'right-4'}`}\r\n                style={{ maxWidth: '200px' }}\r\n              >\r\n                Selected: {char.name}\r\n              </div>\r\n            );\r\n          })()}\r\n\r\n      </div>\r\n\r\n      <div\r\n        className=\"grid min-h-screen bg-gray-800 absolute top-0 right-0\"\r\n        style={{ gridTemplateColumns: `1fr 6px ${sideWidth}px` }}>\r\n\r\n        <div\r\n          className=\"bg-gray-700 cursor-col-resize hover:bg-gray-500 col-start-2\"\r\n          onMouseDown={() => setDragging(true)}\r\n        />\r\n\r\n        <div className=\"bg-gray-800 p-4 overflow-y-auto\">\r\n          <h2 className=\"text-white text-xl font-bold mb-4\">Side Panel</h2>\r\n          <p className=\"text-gray-300 mb-4\">Selected: {selectedChar || 'None'}</p>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <button\r\n              onClick={() => setFogEnabled(!fogEnabled)}\r\n              className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded\"\r\n            >\r\n              {fogEnabled ? 'Disable' : 'Enable'} Fog of War\r\n            </button>\r\n\r\n            <div className=\"text-gray-300 text-sm\">\r\n              <p className=\"font-semibold mb-2\">Controls:</p>\r\n              <ul className=\"space-y-1\">\r\n                <li> Left click to select</li>\r\n                <li> Right click for actions</li>\r\n                <li> Space + drag to pan</li>\r\n                <li> Scroll to zoom</li>\r\n                <li> Green = Player team</li>\r\n                <li> Red = Enemy team</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"text-gray-300 text-sm\">\r\n              <p className=\"font-semibold mb-2\">Fog of War:</p>\r\n              <p>Only player characters reveal the map. Enemy units are hidden in fog.</p>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"text-gray-300 text-sm\">\r\n              X:{lastMouse.x} \r\n              Y:{lastMouse.y}\r\n              <p>World Cords</p>\r\n              X:{worldMouseCords.x} \r\n              Y:{worldMouseCords.y}\r\n\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Test;","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Is empty string\n *\n * @param {unknown} value\n * @returns {boolean} Whether the value is an empty string\n */\nexport const isEmptyString = (value: unknown): boolean => value === '';\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import React, { useState, createContext, useContext } from 'react';\nimport { Check } from 'lucide-react';\n\n// Tab Context for sharing state\nconst TabContext = createContext();\n\n// Main Tab Container (like your Skeleton pattern)\nexport function Tabs({ children, defaultTab = 0, onTabChange, className = \"\" }) {\n  const [activeTab, setActiveTab] = useState(defaultTab);\n  \n  const handleTabChange = (index) => {\n    setActiveTab(index);\n    if (onTabChange) onTabChange(index);\n  };\n\n  return (\n    <TabContext.Provider value={{ activeTab, setActiveTab: handleTabChange }}>\n      <div className={`w-full min-h-0 ${className}`}>\n        {children}\n      </div>\n    </TabContext.Provider>\n  );\n}\n\n// Tab Navigation Bar\nTabs.Nav = function TabNav({ children, className = \"\" }) {\n  return (\n    <div className={`flex border-b border-website-200 bg-website-default-900 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\n// Individual Tab Button\nTabs.Tab = function Tab({\n  children,\n  label = \"\",\n  index,\n  disabled = false,\n  completed = false,\n  className = \"\",\n}) {\n  const { activeTab, setActiveTab } = useContext(TabContext);\n  const isActive = activeTab === index;\n\n  const hasLabel = typeof label === \"string\" && label.trim().length > 0;\n  const baseClasses = \"flex items-center gap-2 px-3 py-2 font-medium text-sm transition-colors duration-200 border-b-2 whitespace-nowrap\";\n  const activeClasses = isActive \n    ? \"text-website-highlights-100 border-website-highlights-500 bg-gradient-to-t from-website-highlights-500/20 to-transparent\" \n    : \"text-website-highlights-100 border-transparent hover:text-website-specials-200 hover:border-website-highlights-300\";\n  const disabledClasses = disabled ? \"opacity-50 cursor-not-allowed\" : \"cursor-pointer\";\n  const completedClasses = completed && !isActive ? \"text-green-600\" : \"\";\n\n  return (\n    <button\n      className={`${baseClasses} ${activeClasses} ${disabledClasses} ${completedClasses} ${className}`}\n      onClick={() => !disabled && setActiveTab(index)}\n      disabled={disabled}\n    >\n      {children}\n      {hasLabel && <span className=\"text-[11px] tracking-wide uppercase\">{label}</span>}\n      {completed && !isActive && <Check className=\"w-4 h-4 text-green-500\" />}\n    </button>\n  );\n};\n\n// Prev/Next Controls\nTabs.Prev = function TabPrev({ min = 0, className = \"\", disabled: disabledProp, children }) {\n  const { activeTab, setActiveTab } = useContext(TabContext);\n  const disabled = disabledProp ?? (activeTab <= min);\n  return (\n    <button\n      type=\"button\"\n      aria-label=\"Previous tab\"\n      disabled={disabled}\n      onClick={() => !disabled && setActiveTab(Math.max(min, activeTab - 1))}\n      className={`p-2 rounded-full border border-website-specials-500 bg-website-default-800/80 text-website-default-100 hover:bg-website-default-700 disabled:opacity-50 disabled:cursor-not-allowed ${className}`}\n    >\n      {children ?? '<'}\n    </button>\n  );\n};\n\nTabs.Next = function TabNext({ max, className = \"\", disabled: disabledProp, children }) {\n  const { activeTab, setActiveTab } = useContext(TabContext);\n  const disabled = disabledProp ?? (typeof max === 'number' ? activeTab >= max : true);\n  return (\n    <button\n      type=\"button\"\n      aria-label=\"Next tab\"\n      disabled={disabled}\n      onClick={() => !disabled && setActiveTab(Math.min(max, activeTab + 1))}\n      className={`p-2 rounded-full border border-website-specials-500 bg-website-default-800/80 text-website-default-100 hover:bg-website-default-700 disabled:opacity-50 disabled:cursor-not-allowed ${className}`}\n    >\n      {children ?? '>'}\n    </button>\n  );\n};\n\n// Tab Content Panels\nTabs.Panels = function TabPanels({ children, className = \"\" }) {\n  return (\n    <div className={`bg-website-default-900 h-full min-h-0 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\n// Individual Tab Panel\nTabs.Panel = function TabPanel({ children, index, className = \"\" }) {\n  const { activeTab } = useContext(TabContext);\n  \n  if (activeTab !== index) return null;\n  \n  return (\n    <div className={`p-6 h-full min-h-0 ${className}`}>\n      {children}\n    </div>\n  );\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z', key: '1ol0lm' },\n  ],\n  ['path', { d: 'M8 10h8', key: 'c7uz4u' }],\n  ['path', { d: 'M8 18h8', key: '1no2b1' }],\n  ['path', { d: 'M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6', key: '1fr6do' }],\n  ['path', { d: 'M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2', key: 'donm21' }],\n];\n\n/**\n * @component @name Backpack\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMGE0IDQgMCAwIDEgNC00aDhhNCA0IDAgMCAxIDQgNHYxMGEyIDIgMCAwIDEtMiAySDZhMiAyIDAgMCAxLTItMnoiIC8+CiAgPHBhdGggZD0iTTggMTBoOCIgLz4KICA8cGF0aCBkPSJNOCAxOGg4IiAvPgogIDxwYXRoIGQ9Ik04IDIydi02YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjYiIC8+CiAgPHBhdGggZD0iTTkgNlY0YTIgMiAwIDAgMSAyLTJoMmEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/backpack\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Backpack = createLucideIcon('backpack', __iconNode);\n\nexport default Backpack;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 12h-5', key: 'r7krc0' }],\n  ['path', { d: 'M15 8h-5', key: '1khuty' }],\n  ['path', { d: 'M19 17V5a2 2 0 0 0-2-2H4', key: 'zz82l3' }],\n  [\n    'path',\n    {\n      d: 'M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3',\n      key: '1ph1d7',\n    },\n  ],\n];\n\n/**\n * @component @name ScrollText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMTJoLTUiIC8+CiAgPHBhdGggZD0iTTE1IDhoLTUiIC8+CiAgPHBhdGggZD0iTTE5IDE3VjVhMiAyIDAgMCAwLTItMkg0IiAvPgogIDxwYXRoIGQ9Ik04IDIxaDEyYTIgMiAwIDAgMCAyLTJ2LTFhMSAxIDAgMCAwLTEtMUgxMWExIDEgMCAwIDAtMSAxdjFhMiAyIDAgMSAxLTQgMFY1YTIgMiAwIDEgMC00IDB2MmExIDEgMCAwIDAgMSAxaDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/scroll-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ScrollText = createLucideIcon('scroll-text', __iconNode);\n\nexport default ScrollText;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z',\n      key: '1s2grr',\n    },\n  ],\n  ['path', { d: 'M20 2v4', key: '1rf3ol' }],\n  ['path', { d: 'M22 4h-4', key: 'gwowj6' }],\n  ['circle', { cx: '4', cy: '20', r: '2', key: '6kqj1y' }],\n];\n\n/**\n * @component @name Sparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuMDE3IDIuODE0YTEgMSAwIDAgMSAxLjk2NiAwbDEuMDUxIDUuNTU4YTIgMiAwIDAgMCAxLjU5NCAxLjU5NGw1LjU1OCAxLjA1MWExIDEgMCAwIDEgMCAxLjk2NmwtNS41NTggMS4wNTFhMiAyIDAgMCAwLTEuNTk0IDEuNTk0bC0xLjA1MSA1LjU1OGExIDEgMCAwIDEtMS45NjYgMGwtMS4wNTEtNS41NThhMiAyIDAgMCAwLTEuNTk0LTEuNTk0bC01LjU1OC0xLjA1MWExIDEgMCAwIDEgMC0xLjk2Nmw1LjU1OC0xLjA1MWEyIDIgMCAwIDAgMS41OTQtMS41OTR6IiAvPgogIDxwYXRoIGQ9Ik0yMCAydjQiIC8+CiAgPHBhdGggZD0iTTIyIDRoLTQiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjIwIiByPSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sparkles = createLucideIcon('sparkles', __iconNode);\n\nexport default Sparkles;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z',\n      key: '18jl4k',\n    },\n  ],\n  ['path', { d: 'M16 8 2 22', key: 'vp34q' }],\n  ['path', { d: 'M17.5 15H9', key: '1oz8nu' }],\n];\n\n/**\n * @component @name Feather\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuNjcgMTlhMiAyIDAgMCAwIDEuNDE2LS41ODhsNi4xNTQtNi4xNzJhNiA2IDAgMCAwLTguNDktOC40OUw1LjU4NiA5LjkxNEEyIDIgMCAwIDAgNSAxMS4zMjhWMThhMSAxIDAgMCAwIDEgMXoiIC8+CiAgPHBhdGggZD0iTTE2IDggMiAyMiIgLz4KICA8cGF0aCBkPSJNMTcuNSAxNUg5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/feather\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Feather = createLucideIcon('feather', __iconNode);\n\nexport default Feather;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z',\n      key: '169xi5',\n    },\n  ],\n  ['path', { d: 'M15 5.764v15', key: '1pn4in' }],\n  ['path', { d: 'M9 3.236v15', key: '1uimfh' }],\n];\n\n/**\n * @component @name Map\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuMTA2IDUuNTUzYTIgMiAwIDAgMCAxLjc4OCAwbDMuNjU5LTEuODNBMSAxIDAgMCAxIDIxIDQuNjE5djEyLjc2NGExIDEgMCAwIDEtLjU1My44OTRsLTQuNTUzIDIuMjc3YTIgMiAwIDAgMS0xLjc4OCAwbC00LjIxMi0yLjEwNmEyIDIgMCAwIDAtMS43ODggMGwtMy42NTkgMS44M0ExIDEgMCAwIDEgMyAxOS4zODFWNi42MThhMSAxIDAgMCAxIC41NTMtLjg5NGw0LjU1My0yLjI3N2EyIDIgMCAwIDEgMS43ODggMHoiIC8+CiAgPHBhdGggZD0iTTE1IDUuNzY0djE1IiAvPgogIDxwYXRoIGQ9Ik05IDMuMjM2djE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/map\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Map = createLucideIcon('map', __iconNode);\n\nexport default Map;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4', key: 're6nr2' }],\n  ['path', { d: 'M2 6h4', key: 'aawbzj' }],\n  ['path', { d: 'M2 10h4', key: 'l0bgd4' }],\n  ['path', { d: 'M2 14h4', key: '1gsvsf' }],\n  ['path', { d: 'M2 18h4', key: '1bu2t1' }],\n  [\n    'path',\n    {\n      d: 'M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z',\n      key: 'pqwjuv',\n    },\n  ],\n];\n\n/**\n * @component @name NotebookPen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuNCAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJ2LTcuNCIgLz4KICA8cGF0aCBkPSJNMiA2aDQiIC8+CiAgPHBhdGggZD0iTTIgMTBoNCIgLz4KICA8cGF0aCBkPSJNMiAxNGg0IiAvPgogIDxwYXRoIGQ9Ik0yIDE4aDQiIC8+CiAgPHBhdGggZD0iTTIxLjM3OCA1LjYyNmExIDEgMCAxIDAtMy4wMDQtMy4wMDRsLTUuMDEgNS4wMTJhMiAyIDAgMCAwLS41MDYuODU0bC0uODM3IDIuODdhLjUuNSAwIDAgMCAuNjIuNjJsMi44Ny0uODM3YTIgMiAwIDAgMCAuODU0LS41MDZ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/notebook-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst NotebookPen = createLucideIcon('notebook-pen', __iconNode);\n\nexport default NotebookPen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['path', { d: 'M16 3.128a4 4 0 0 1 0 7.744', key: '16gr8j' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n];\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8cGF0aCBkPSJNMTYgMy4xMjhhNCA0IDAgMCAxIDAgNy43NDQiIC8+CiAgPHBhdGggZD0iTTIyIDIxdi0yYTQgNCAwIDAgMC0zLTMuODciIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('users', __iconNode);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M14 17H5', key: 'gfn3mx' }],\n  ['path', { d: 'M19 7h-9', key: '6i9tg' }],\n  ['circle', { cx: '17', cy: '17', r: '3', key: '18b49y' }],\n  ['circle', { cx: '7', cy: '7', r: '3', key: 'dfmy0x' }],\n];\n\n/**\n * @component @name Settings2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQgMTdINSIgLz4KICA8cGF0aCBkPSJNMTkgN2gtOSIgLz4KICA8Y2lyY2xlIGN4PSIxNyIgY3k9IjE3IiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/settings-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings2 = createLucideIcon('settings-2', __iconNode);\n\nexport default Settings2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z',\n      key: '1ngwbx',\n    },\n  ],\n];\n\n/**\n * @component @name Wrench\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNyA2LjNhMSAxIDAgMCAwIDAgMS40bDEuNiAxLjZhMSAxIDAgMCAwIDEuNCAwbDMuMTA2LTMuMTA1Yy4zMi0uMzIyLjg2My0uMjIuOTgzLjIxOGE2IDYgMCAwIDEtOC4yNTkgNy4wNTdsLTcuOTEgNy45MWExIDEgMCAwIDEtMi45OTktM2w3LjkxLTcuOTFhNiA2IDAgMCAxIDcuMDU3LTguMjU5Yy40MzguMTIuNTQuNjYyLjIxOS45ODR6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/wrench\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wrench = createLucideIcon('wrench', __iconNode);\n\nexport default Wrench;\n","export function emitWithAck(socket, eventName, payload = {}) {\n    return new Promise((resolve) => {\n        if (!socket) {\n            resolve({ success: false, message: \"Socket is not connected\" });\n            return;\n        }\n\n        let didResolve = false;\n        const timeout = setTimeout(() => {\n            if (didResolve) return;\n            didResolve = true;\n            resolve({\n                success: false,\n                message: `No response for event \"${eventName}\". Server may be outdated or unavailable.`,\n            });\n        }, 5000);\n\n        socket.emit(eventName, payload, (response) => {\n            if (didResolve) return;\n            didResolve = true;\n            clearTimeout(timeout);\n            resolve(response || { success: false, message: \"No response from server\" });\n        });\n    });\n}\n","import { useCallback, useContext, useEffect, useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useGame } from \"../../data/gameContext\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { emitWithAck } from \"../../pages/campaign/socketEmit\";\n\nconst FALLBACK_AUTO_SAVE_LIMIT = 5;\n\nfunction toTimestamp(value) {\n  const parsed = new Date(value || 0).getTime();\n  return Number.isFinite(parsed) ? parsed : 0;\n}\n\nfunction formatDateTime(value) {\n  const timestamp = toTimestamp(value);\n  if (!timestamp) return \"Unknown\";\n  return new Date(timestamp).toLocaleString();\n}\n\nfunction normalizeSaveCollection(list) {\n  if (!Array.isArray(list)) return [];\n  return [...list].sort((a, b) => {\n    const aTime = toTimestamp(a?.updatedAt || a?.createdAt);\n    const bTime = toTimestamp(b?.updatedAt || b?.createdAt);\n    return bTime - aTime;\n  });\n}\n\nfunction SaveRow({ save, activeSaveID, loading, onLoad }) {\n  return (\n    <div className=\"p-2 rounded border border-gray-700 bg-gray-800/90 space-y-1\">\n      <div className=\"flex items-start justify-between gap-2\">\n        <div className=\"min-w-0\">\n          <p className=\"text-sm font-semibold truncate\">{save?.name || \"Untitled Save\"}</p>\n          <p className=\"text-[11px] text-gray-400\">{formatDateTime(save?.updatedAt || save?.createdAt)}</p>\n        </div>\n        <div className=\"flex items-center gap-2 shrink-0\">\n          {String(save?._id || \"\") === String(activeSaveID || \"\") && (\n            <span className=\"text-[10px] px-2 py-1 rounded bg-emerald-900/70 text-emerald-200 border border-emerald-600\">\n              Active\n            </span>\n          )}\n          <button\n            type=\"button\"\n            onClick={() => onLoad(save?._id)}\n            disabled={loading}\n            className=\"text-xs px-2 py-1 rounded bg-blue-700 hover:bg-blue-600 disabled:bg-gray-700\"\n          >\n            {loading ? \"Loading...\" : \"Load\"}\n          </button>\n        </div>\n      </div>\n      {save?.description && <p className=\"text-xs text-gray-300 break-words\">{save.description}</p>}\n    </div>\n  );\n}\n\nfunction Admin() {\n  const socket = useContext(SocketContext);\n  const { gameID } = useParams();\n  const playerID = localStorage.getItem(\"player_ID\");\n\n  const {\n    isDM = false,\n    characters = [],\n    lastMouse = { x: 0, y: 0 },\n    worldMouseCoords = { x: 0, y: 0 },\n    camera,\n    loadGameSnapshot = () => {},\n    replaceFloorTypes = () => {},\n  } = useGame() || {};\n\n  const [manualSaves, setManualSaves] = useState([]);\n  const [autoSaves, setAutoSaves] = useState([]);\n  const [activeGameSave, setActiveGameSave] = useState(\"\");\n  const [loadingSaves, setLoadingSaves] = useState(false);\n  const [loadingSaveID, setLoadingSaveID] = useState(\"\");\n  const [saveStatus, setSaveStatus] = useState(\"\");\n  const [saveError, setSaveError] = useState(\"\");\n  const [autoSaveLimit, setAutoSaveLimit] = useState(FALLBACK_AUTO_SAVE_LIMIT);\n\n  const cameraSnapshot = useMemo(\n    () => ({\n      x: Math.round(camera?.current?.x || 0),\n      y: Math.round(camera?.current?.y || 0),\n      zoom: Number(camera?.current?.zoom || 1).toFixed(2),\n    }),\n    [camera]\n  );\n\n  const hydrateSaveLists = useCallback((response = {}) => {\n    const allSaves = normalizeSaveCollection(response?.gameSaves);\n    const manual = Array.isArray(response?.manualSaves)\n      ? normalizeSaveCollection(response.manualSaves)\n      : allSaves.filter((save) => !save?.isAutoSave);\n    const limit = Number(response?.autoSaveLimit) || FALLBACK_AUTO_SAVE_LIMIT;\n    const auto = Array.isArray(response?.autoSaves)\n      ? normalizeSaveCollection(response.autoSaves)\n      : normalizeSaveCollection(allSaves.filter((save) => save?.isAutoSave)).slice(0, limit);\n\n    setManualSaves(manual);\n    setAutoSaves(auto.slice(0, limit));\n    setAutoSaveLimit(limit);\n    setActiveGameSave(String(response?.activeGameSave || \"\"));\n  }, []);\n\n  const loadSaveList = useCallback(async () => {\n    if (!socket || !playerID || !gameID) return;\n\n    setLoadingSaves(true);\n    setSaveError(\"\");\n    const response = await emitWithAck(socket, \"campaign_listGameSaves\", {\n      playerID,\n      campaignID: gameID,\n    });\n    setLoadingSaves(false);\n\n    if (!response?.success) {\n      setSaveError(response?.message || \"Failed to load campaign saves\");\n      return;\n    }\n\n    hydrateSaveLists(response);\n    setSaveStatus(`Loaded saves at ${new Date().toLocaleTimeString()}`);\n  }, [socket, playerID, gameID, hydrateSaveLists]);\n\n  const loadSave = useCallback(\n    async (gameSaveID) => {\n      const safeSaveID = String(gameSaveID || \"\").trim();\n      if (!safeSaveID || !socket || !playerID || !gameID) return;\n\n      setLoadingSaveID(safeSaveID);\n      setSaveError(\"\");\n      const response = await emitWithAck(socket, \"campaign_loadGame\", {\n        playerID,\n        campaignID: gameID,\n        gameSaveID: safeSaveID,\n      });\n      setLoadingSaveID(\"\");\n\n      if (!response?.success) {\n        setSaveError(response?.message || \"Failed to load save\");\n        return;\n      }\n\n      if (Array.isArray(response?.floorTypes)) {\n        replaceFloorTypes(response.floorTypes);\n      }\n\n      const snapshot =\n        response?.engineState?.snapshot && typeof response.engineState.snapshot === \"object\"\n          ? response.engineState.snapshot\n          : response?.snapshot;\n      if (snapshot && typeof snapshot === \"object\") {\n        loadGameSnapshot(snapshot);\n      }\n\n      setActiveGameSave(String(response?.activeGameSave || safeSaveID));\n      setSaveStatus(`Loaded save: ${response?.gameSave?.name || safeSaveID}`);\n\n      await loadSaveList();\n    },\n    [socket, playerID, gameID, loadGameSnapshot, replaceFloorTypes, loadSaveList]\n  );\n\n  useEffect(() => {\n    if (!isDM) return;\n    loadSaveList();\n  }, [isDM, loadSaveList]);\n\n  if (!isDM) {\n    return (\n      <div className=\"h-full min-h-0 flex items-center justify-center px-4 text-center text-gray-300\">\n        <p>Admin tools are available to the DM only.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full min-h-0 overflow-y-auto scrollbar-transparent p-4 text-white space-y-4\">\n      <h3 className=\"text-lg font-bold\">Admin Tools</h3>\n\n      <div className=\"text-sm space-y-1 rounded border border-gray-700 bg-gray-900/70 p-3\">\n        <p className=\"font-semibold\">Mouse</p>\n        <p>\n          Screen: X:{Math.round(lastMouse?.x || 0)} Y:{Math.round(lastMouse?.y || 0)}\n        </p>\n        <p>\n          World: X:{Math.round(worldMouseCoords?.x || 0)} Y:{Math.round(worldMouseCoords?.y || 0)}\n        </p>\n      </div>\n\n      <div className=\"text-sm space-y-1 rounded border border-gray-700 bg-gray-900/70 p-3\">\n        <p className=\"font-semibold\">Camera</p>\n        <p>X: {cameraSnapshot.x}</p>\n        <p>Y: {cameraSnapshot.y}</p>\n        <p>Zoom: {cameraSnapshot.zoom}</p>\n      </div>\n\n      <div className=\"text-sm space-y-2 rounded border border-gray-700 bg-gray-900/70 p-3\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <p className=\"font-semibold\">Saves</p>\n          <button\n            type=\"button\"\n            onClick={loadSaveList}\n            disabled={loadingSaves}\n            className=\"text-xs px-2 py-1 rounded bg-slate-700 hover:bg-slate-600 disabled:bg-gray-700\"\n          >\n            {loadingSaves ? \"Refreshing...\" : \"Refresh\"}\n          </button>\n        </div>\n\n        {saveError && <div className=\"text-xs text-red-200 bg-red-900/40 rounded p-2\">{saveError}</div>}\n        {saveStatus && <div className=\"text-xs text-emerald-200 bg-emerald-900/30 rounded p-2\">{saveStatus}</div>}\n\n        <div className=\"space-y-1\">\n          <p className=\"text-xs uppercase tracking-wide text-gray-400\">Manual Saves ({manualSaves.length})</p>\n          <div className=\"max-h-48 overflow-y-auto scrollbar-transparent pr-1 space-y-2\">\n            {manualSaves.length > 0 ? (\n              manualSaves.map((save) => (\n                <SaveRow\n                  key={save._id}\n                  save={save}\n                  activeSaveID={activeGameSave}\n                  loading={loadingSaveID === String(save._id || \"\")}\n                  onLoad={loadSave}\n                />\n              ))\n            ) : (\n              <p className=\"text-xs text-gray-400\">No manual saves yet.</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"space-y-1\">\n          <p className=\"text-xs uppercase tracking-wide text-gray-400\">\n            Auto Saves (Last {autoSaveLimit})\n          </p>\n          <div className=\"max-h-40 overflow-y-auto scrollbar-transparent pr-1 space-y-2\">\n            {autoSaves.length > 0 ? (\n              autoSaves.map((save) => (\n                <SaveRow\n                  key={save._id}\n                  save={save}\n                  activeSaveID={activeGameSave}\n                  loading={loadingSaveID === String(save._id || \"\")}\n                  onLoad={loadSave}\n                />\n              ))\n            ) : (\n              <p className=\"text-xs text-gray-400\">No autosaves yet.</p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"text-sm space-y-2 rounded border border-gray-700 bg-gray-900/70 p-3\">\n        <p className=\"font-semibold\">Characters ({characters.length})</p>\n        {characters.length > 0 ? (\n          <div className=\"max-h-56 overflow-y-auto scrollbar-transparent pr-1 space-y-2\">\n            {characters.map((char) => (\n              <div key={char.id} className=\"p-2 bg-gray-700/70 rounded\">\n                <p className=\"font-medium\">\n                  {char.name} ({char.team})\n                </p>\n                <p className=\"text-xs text-gray-300\">\n                  ID: {char.id} | Pos: ({Math.round(char?.position?.x || 0)}, {Math.round(char?.position?.y || 0)})\n                </p>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-gray-400\">No characters</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Admin;\n","import { useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useGame } from \"../../data/gameContext\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { emitWithAck } from \"../../pages/campaign/socketEmit\";\n\nconst DEFAULT_MAX_HP_BY_TERRAIN = {\n    floor: 500,\n    wall: 1200,\n    obstacle: 700,\n};\n\nconst DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN = {\n    floor: 0,\n    wall: 150,\n    obstacle: 80,\n};\n\nconst clamp = (value, min, max) => Math.max(min, Math.min(max, value));\n\nconst toNumber = (value, fallback = 0) => {\n    const parsed = Number(value);\n    return Number.isFinite(parsed) ? parsed : fallback;\n};\n\nconst LIGHT_WHEEL_SIZE = 92;\nconst LIGHT_WHEEL_INNER_MARGIN = 12;\nconst LIGHT_WHEEL_KNOB_SIZE = 16;\nconst LIGHT_WHEEL_DEADZONE = 0.12;\n\nconst clampDirectionalToUnitDisk = (xValue, yValue) => {\n    const x = clamp(toNumber(xValue, 0), -1, 1);\n    const y = clamp(toNumber(yValue, 0), -1, 1);\n    const magnitude = Math.hypot(x, y);\n    if (magnitude === 0 || magnitude <= 1) {\n        return { x, y };\n    }\n    return {\n        x: x / magnitude,\n        y: y / magnitude,\n    };\n};\n\nconst withFixedDirectionalX = (nextXValue, currentYValue) => {\n    const nextX = clamp(toNumber(nextXValue, 0), -1, 1);\n    const currentY = clamp(toNumber(currentYValue, 0), -1, 1);\n    const maxY = Math.sqrt(Math.max(0, 1 - nextX * nextX));\n    return {\n        x: nextX,\n        y: clamp(currentY, -maxY, maxY),\n    };\n};\n\nconst withFixedDirectionalY = (nextYValue, currentXValue) => {\n    const nextY = clamp(toNumber(nextYValue, 0), -1, 1);\n    const currentX = clamp(toNumber(currentXValue, 0), -1, 1);\n    const maxX = Math.sqrt(Math.max(0, 1 - nextY * nextY));\n    return {\n        x: clamp(currentX, -maxX, maxX),\n        y: nextY,\n    };\n};\n\nfunction MapEditor() {\n    const socket = useContext(SocketContext);\n    const { gameID } = useParams();\n    const playerID = localStorage.getItem(\"player_ID\");\n\n    const {\n          isDM,\n    worldMouseCoords,\n    mapObjects,\n    updateMapObject,\n    deleteMapObject,\n    replaceAllMapObjects,\n    currentMapId,\n    backgroundKey,\n    setBackgroundKey,\n    backgroundOptions,\n    mapImageOptions,\n    floorTypes,\n    lighting,\n    replaceLighting,\n    addLightSource,\n    updateLightSource,\n    removeLightSource,\n    armLightPlacement,  // ADD THIS\n    mapObjectPlacement,\n    armMapObjectPlacement,\n    clearMapObjectPlacement,\n    placePendingMapObjectAt,\n    currentZLevel,\n    stepZLevelUp,\n    stepZLevelDown,\n    characters,\n    } = useGame();\n\n    const [selectedObject, setSelectedObject] = useState(null);\n    const [creationDraft, setCreationDraft] = useState({\n        type: \"circle\",\n        terrainType: \"obstacle\",\n        floorTypeId: \"woodenCrate\",\n        zLevel: 0,\n        color: \"#3B82F6\",\n        z: 0,\n        size: 30,\n        width: 50,\n        height: 40,\n        mapAssetKey: \"\",\n        elevationHeight: 80,\n        maxHP: 700,\n        hp: 700,\n        hitboxScale: 1,\n    });\n    const [saveName, setSaveName] = useState(\"\");\n    const [saveDescription, setSaveDescription] = useState(\"\");\n    const [saving, setSaving] = useState(false);\n    const [status, setStatus] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [selectedLightID, setSelectedLightID] = useState(\"\");\n    const [directionWheelDragging, setDirectionWheelDragging] = useState(false);\n    const directionWheelRef = useRef(null);\n\n    const selectedPlacementType = mapObjectPlacement?.type || \"\";\n\n    const placementLabel = useMemo(() => {\n        if (!mapObjectPlacement) return \"\";\n        return `${mapObjectPlacement.type} / ${mapObjectPlacement.terrainType || \"obstacle\"} / L${mapObjectPlacement.zLevel ?? 0} @ (${Math.round(worldMouseCoords?.x || 0)}, ${Math.round(worldMouseCoords?.y || 0)})`;\n    }, [mapObjectPlacement, worldMouseCoords]);\n\n    const floorTypesByTerrain = useMemo(() => {\n        const byTerrain = {\n            floor: [],\n            wall: [],\n            obstacle: [],\n        };\n        (Array.isArray(floorTypes) ? floorTypes : []).forEach((entry) => {\n            const terrain = String(entry?.terrainType || \"obstacle\").toLowerCase();\n            if (!byTerrain[terrain]) return;\n            byTerrain[terrain].push(entry);\n        });\n        return byTerrain;\n    }, [floorTypes]);\n\n    const creationFloorTypeOptions = useMemo(() => {\n        const terrain = String(creationDraft.terrainType || \"obstacle\").toLowerCase();\n        const typedList = floorTypesByTerrain[terrain] || [];\n        if (typedList.length > 0) return typedList;\n        return Array.isArray(floorTypes) ? floorTypes : [];\n    }, [creationDraft.terrainType, floorTypesByTerrain, floorTypes]);\n    const availableMapImages = useMemo(\n        () =>\n            (Array.isArray(mapImageOptions) ? mapImageOptions : [])\n                .map((entry) => String(entry || \"\").trim().toLowerCase())\n                .filter(Boolean),\n        [mapImageOptions]\n    );\n\n    useEffect(() => {\n        setCreationDraft((prev) => ({ ...prev, zLevel: currentZLevel }));\n    }, [currentZLevel]);\n\n    useEffect(() => {\n        setCreationDraft((prev) => {\n            const terrain = String(prev.terrainType || \"obstacle\").toLowerCase();\n            const available = floorTypesByTerrain[terrain] || [];\n            if (!available.length) return prev;\n            const stillValid = available.some((entry) => entry.id === prev.floorTypeId);\n            if (stillValid) return prev;\n            return {\n                ...prev,\n                floorTypeId: available[0].id,\n            };\n        });\n    }, [floorTypesByTerrain, creationDraft.terrainType]);\n\n    const normalizedLighting = useMemo(() => {\n        const safe = lighting && typeof lighting === \"object\" ? lighting : {};\n        return {\n            enabled: safe.enabled !== false,\n            ambient: clamp(toNumber(safe.ambient, 0.24), 0, 0.9),\n            shadowEnabled: safe.shadowEnabled !== false,\n            shadowStrength: clamp(toNumber(safe.shadowStrength, 0.62), 0, 1),\n            shadowSoftness: clamp(toNumber(safe.shadowSoftness, 0.55), 0, 1),\n            shadowLength: clamp(toNumber(safe.shadowLength, 0.9), 0, 2),\n            shadowBlend: clamp(toNumber(safe.shadowBlend, 0.68), 0, 1),\n            sources: Array.isArray(safe.sources) ? safe.sources : [],\n        };\n    }, [lighting]);\n\n    const lightSources = normalizedLighting.sources;\n\n    useEffect(() => {\n        if (!lightSources.length) {\n            setSelectedLightID(\"\");\n            return;\n        }\n        const stillExists = lightSources.some((source) => source.id === selectedLightID);\n        if (!stillExists) {\n            setSelectedLightID(String(lightSources[0]?.id || \"\"));\n        }\n    }, [lightSources, selectedLightID]);\n\n    const selectedLightSource = useMemo(\n        () => lightSources.find((source) => String(source?.id || \"\") === String(selectedLightID || \"\")) || null,\n        [lightSources, selectedLightID]\n    );\n    const selectedLightSourceID = String(selectedLightSource?.id || \"\");\n    const selectedLightType = String(selectedLightSource?.type || \"\").toLowerCase();\n    const directionalLightVector = useMemo(\n        () =>\n            clampDirectionalToUnitDisk(\n                toNumber(selectedLightSource?.x, 0),\n                toNumber(selectedLightSource?.y, 0)\n            ),\n        [selectedLightSource?.x, selectedLightSource?.y]\n    );\n    const directionalLightTilt = useMemo(\n        () => Math.hypot(directionalLightVector.x, directionalLightVector.y),\n        [directionalLightVector]\n    );\n    const lightWheelRadius = useMemo(() => LIGHT_WHEEL_SIZE / 2 - LIGHT_WHEEL_INNER_MARGIN, []);\n    const lightWheelKnobOffset = useMemo(\n        () => ({\n            x: directionalLightVector.x * lightWheelRadius,\n            y: directionalLightVector.y * lightWheelRadius,\n        }),\n        [directionalLightVector, lightWheelRadius]\n    );\n\n    const patchLightingGlobal = (updates = {}) => {\n        replaceLighting({\n            ...normalizedLighting,\n            ...updates,\n            sources: normalizedLighting.sources,\n        });\n    };\n\n    const createDirectionalLight = () => {\n        const nextIndex =\n            lightSources.filter((source) => String(source?.type || \"\") === \"directional\").length + 1;\n        addLightSource({\n            id: `dir_${Date.now()}`,\n            name: `Directional ${nextIndex}`,\n            type: \"directional\",\n            enabled: true,\n            x: 0,\n            y: 0,\n            intensity: 0.8,\n            blend: 0.7,\n            color: \"#ffffff\",\n        });\n        setStatus(\"Directional light source added.\");\n        setError(\"\");\n    };\n\nconst createPointLight = () => {\n    armLightPlacement({\n        color: \"#ffffff\",\n        intensity: 0.9,\n        blend: 0.75,\n        range: 420,\n    });\n    setStatus(\"Light placement armed. Click on map to place.\");\n    setError(\"\");\n};\n\nconst lightPresets = [\n    { name: \"White\", color: \"#ffffff\", intensity: 0.8, range: 420 },\n    { name: \"Fire\", color: \"#ff8800\", intensity: 1.0, range: 350 },\n    { name: \"Blue\", color: \"#4488ff\", intensity: 0.9, range: 400 },\n    { name: \"Green\", color: \"#44ff88\", intensity: 1.1, range: 450 },\n];\n\n    const patchSelectedLight = useCallback(\n        (updates = {}) => {\n            if (!selectedLightSourceID) return;\n            updateLightSource(selectedLightSourceID, updates);\n        },\n        [selectedLightSourceID, updateLightSource]\n    );\n\n    const updateDirectionalFromClientPoint = useCallback(\n        (clientX, clientY) => {\n            if (selectedLightType !== \"directional\") return;\n            if (!directionWheelRef.current) return;\n\n            const rect = directionWheelRef.current.getBoundingClientRect();\n            const centerX = rect.left + rect.width / 2;\n            const centerY = rect.top + rect.height / 2;\n            const maxDistance = Math.max(1, rect.width / 2 - LIGHT_WHEEL_INNER_MARGIN);\n            let dx = clientX - centerX;\n            let dy = clientY - centerY;\n            const distance = Math.hypot(dx, dy);\n\n            if (distance <= maxDistance * LIGHT_WHEEL_DEADZONE) {\n                patchSelectedLight({ x: 0, y: 0 });\n                return;\n            }\n\n            if (distance > maxDistance && distance > 0) {\n                const ratio = maxDistance / distance;\n                dx *= ratio;\n                dy *= ratio;\n            }\n\n            const next = clampDirectionalToUnitDisk(dx / maxDistance, dy / maxDistance);\n            patchSelectedLight(next);\n        },\n        [patchSelectedLight, selectedLightType]\n    );\n\n    const handleDirectionalWheelMouseDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            event.preventDefault();\n            event.stopPropagation();\n            setDirectionWheelDragging(true);\n            updateDirectionalFromClientPoint(event.clientX, event.clientY);\n        },\n        [updateDirectionalFromClientPoint]\n    );\n\n    useEffect(() => {\n        if (!directionWheelDragging) return undefined;\n\n        const onMouseMove = (event) => {\n            updateDirectionalFromClientPoint(event.clientX, event.clientY);\n        };\n        const onMouseUp = () => setDirectionWheelDragging(false);\n\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"mouseup\", onMouseUp);\n        return () => {\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"mouseup\", onMouseUp);\n        };\n    }, [directionWheelDragging, updateDirectionalFromClientPoint]);\n\n    useEffect(() => {\n        if (selectedLightType === \"directional\") return;\n        setDirectionWheelDragging(false);\n    }, [selectedLightType]);\n\n    const removeSelectedLight = () => {\n        if (!selectedLightSource?.id) return;\n        removeLightSource(selectedLightSource.id);\n        setStatus(`Removed light source: ${selectedLightSource.name || selectedLightSource.id}`);\n        setError(\"\");\n    };\n\n    const armPlacement = () => {\n        setError(\"\");\n        armMapObjectPlacement(creationDraft);\n        setStatus(\"Placement armed. Click for default size, or drag on the map to size the shape.\");\n    };\n\n    const armMapStampPlacement = () => {\n        const mapAssetKey = String(creationDraft.mapAssetKey || \"\").trim().toLowerCase();\n        if (!mapAssetKey) {\n            setError(\"Select a map image first.\");\n            return;\n        }\n        const floorOptions = floorTypesByTerrain.floor || [];\n        const defaultFloorTypeId = floorOptions[0]?.id || \"stoneFloor\";\n        const floorTypeId =\n            floorOptions.some((entry) => entry.id === creationDraft.floorTypeId)\n                ? creationDraft.floorTypeId\n                : defaultFloorTypeId;\n\n        const mapDraft = {\n            ...creationDraft,\n            type: \"rect\",\n            terrainType: \"floor\",\n            floorTypeId,\n            mapAssetKey,\n            color: \"#ffffff\",\n            zLevel: currentZLevel,\n            elevationHeight: Math.max(0, Number(creationDraft.elevationHeight) || 0),\n            width: Math.max(80, Number(creationDraft.width) || 600),\n            height: Math.max(80, Number(creationDraft.height) || 400),\n        };\n        setCreationDraft(mapDraft);\n        setError(\"\");\n        armMapObjectPlacement(mapDraft);\n        setStatus(\"Map placement armed. Click to place or drag to size.\");\n    };\n\n    const quickPlaceAtCursor = () => {\n        if (!mapObjectPlacement) {\n            setError(\"Arm placement first.\");\n            return;\n        }\n        const placed = placePendingMapObjectAt(worldMouseCoords?.x || 0, worldMouseCoords?.y || 0, {\n            zLevel: currentZLevel,\n        });\n        if (placed) {\n            setStatus(`Placed ${placed.type} #${placed.id}`);\n            setError(\"\");\n            setSelectedObject(placed.id);\n        }\n    };\n\n    const applyObjectHPDelta = async (objectID, amount) => {\n        if (!socket || !playerID || !gameID) {\n            setError(\"Missing game session context.\");\n            return;\n        }\n\n        const response = await emitWithAck(socket, \"campaign_gameDamageObject\", {\n            playerID,\n            campaignID: gameID,\n            objectID,\n            amount,\n        });\n\n        if (!response?.success) {\n            setError(response?.message || \"Failed to update object HP\");\n            return;\n        }\n\n        if (response?.engineState?.snapshot) {\n            replaceAllMapObjects(response.engineState.snapshot.mapObjects || []);\n        }\n        setStatus(`Object #${objectID} HP updated`);\n        setError(\"\");\n    };\n\n    const exportMap = () => {\n        const json = JSON.stringify(mapObjects, null, 2);\n        const blob = new Blob([json], { type: \"application/json\" });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = `map_${currentMapId}.json`;\n        document.body.appendChild(a);\n        a.click();\n        a.remove();\n        URL.revokeObjectURL(url);\n    };\n\n    const importMap = (event) => {\n        const file = event.target.files?.[0];\n        if (!file) return;\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            try {\n                const data = JSON.parse(e.target?.result || \"[]\");\n                if (!Array.isArray(data)) {\n                    throw new Error(\"Map file must contain an array of objects\");\n                }\n                replaceAllMapObjects(data);\n                setStatus(`Imported ${data.length} objects`);\n                setError(\"\");\n            } catch (err) {\n                setError(err.message || \"Invalid JSON file\");\n            }\n        };\n        reader.readAsText(file);\n    };\n\n    const saveToCampaign = async () => {\n        if (!socket || !playerID || !gameID) {\n            setError(\"Missing game session context.\");\n            return;\n        }\n\n        setSaving(true);\n        setError(\"\");\n        const response = await emitWithAck(socket, \"campaign_saveGame\", {\n            playerID,\n            campaignID: gameID,\n            name: saveName.trim() || `Map Save ${new Date().toLocaleString()}`,\n            description: saveDescription.trim() || \"Saved from in-game map editor\",\n            snapshot: {\n                mapObjects,\n                backgroundKey,\n                characters,\n                currentZLevel,\n                floorTypes,\n                lighting,\n            },\n            metadata: {\n                source: \"map_editor\",\n                objectCount: mapObjects.length,\n            },\n            makeActive: true,\n            isAutoSave: false,\n        });\n        setSaving(false);\n\n        if (!response?.success) {\n            setError(response?.message || \"Failed to save map to campaign\");\n            return;\n        }\n\n        setStatus(`Saved: ${response?.gameSave?.name || \"Campaign save updated\"}`);\n        setSaveName(\"\");\n        setSaveDescription(\"\");\n    };\n\n    if (!isDM) {\n        return (\n            <div className=\"h-full flex items-center justify-center bg-gray-900 text-white p-6 text-center\">\n                <div className=\"space-y-3\">\n                    <h2 className=\"text-xl font-bold\">Map Editor Locked</h2>\n                    <p className=\"text-sm text-gray-400\">\n                        Only the DM can edit world objects, move tokens, and change backgrounds.\n                    </p>\n                </div>\n            </div>\n        );\n    }\n\n    const sortedObjects = [...mapObjects].sort((a, b) => {\n        const levelDiff = (Number(a?.zLevel) || 0) - (Number(b?.zLevel) || 0);\n        if (levelDiff !== 0) return levelDiff;\n        return (Number(a?.z) || 0) - (Number(b?.z) || 0);\n    });\n\n    return (\n        <div className=\"h-full min-h-0 bg-gray-900 text-white p-4\">\n            <div className=\"h-full min-h-0 rounded-xl border border-gray-700/80 bg-gray-900/80 p-3\">\n                <div className=\"h-full min-h-0 overflow-y-auto scrollbar-transparent pr-1\">\n                    <div className=\"space-y-4\">\n                <h2 className=\"text-xl font-bold\">Map Editor</h2>\n\n                <div className=\"text-sm bg-gray-800 p-3 rounded space-y-1\">\n                    <p>Map ID: {currentMapId}</p>\n                    <p>Active Z Level: {currentZLevel}</p>\n                    <p>\n                        Cursor: ({Math.round(worldMouseCoords?.x || 0)}, {Math.round(worldMouseCoords?.y || 0)})\n                    </p>\n                    <p className=\"text-xs text-gray-400\">\n                        DM placement: click for quick drop, or click-drag to define shape size.\n                    </p>\n                    {mapObjectPlacement && (\n                        <p className=\"text-emerald-300\">Placement Active: {placementLabel}</p>\n                    )}\n                    <div className=\"flex gap-2 pt-2\">\n                        <button\n                            type=\"button\"\n                            onClick={stepZLevelDown}\n                            className=\"flex-1 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs\"\n                        >\n                            Level Down\n                        </button>\n                        <button\n                            type=\"button\"\n                            onClick={stepZLevelUp}\n                            className=\"flex-1 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs\"\n                        >\n                            Level Up\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"bg-gray-800 p-3 rounded space-y-3\">\n                    <p className=\"font-semibold text-sm\">Background</p>\n                    <select\n                        value={backgroundKey}\n                        onChange={(e) => setBackgroundKey(e.target.value)}\n                        className=\"w-full bg-gray-700 px-3 py-2 rounded text-sm\"\n                    >\n                        {(backgroundOptions || []).map((bg) => (\n                            <option key={bg} value={bg}>\n                                {bg}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n\n                <div className=\"bg-gray-800 p-3 rounded space-y-3\">\n                    <p className=\"font-semibold text-sm\">Map Layer Image</p>\n                    <select\n                        value={creationDraft.mapAssetKey || \"\"}\n                        onChange={(e) =>\n                            setCreationDraft((prev) => ({\n                                ...prev,\n                                mapAssetKey: String(e.target.value || \"\").trim().toLowerCase(),\n                            }))\n                        }\n                        className=\"w-full bg-gray-700 px-3 py-2 rounded text-sm\"\n                    >\n                        <option value=\"\">No map image</option>\n                        {availableMapImages.map((assetKey) => (\n                            <option key={assetKey} value={assetKey}>\n                                {assetKey}\n                            </option>\n                        ))}\n                    </select>\n                    <p className=\"text-xs text-gray-400\">\n                        Place world-anchored map stamps on top of background. They move with camera.\n                    </p>\n                    <button\n                        type=\"button\"\n                        onClick={armMapStampPlacement}\n                        disabled={!creationDraft.mapAssetKey}\n                        className=\"w-full bg-cyan-700 hover:bg-cyan-600 disabled:bg-gray-700 px-3 py-2 rounded text-sm\"\n                    >\n                        Arm Map Placement\n                    </button>\n                    {availableMapImages.length === 0 && (\n                        <p className=\"text-xs text-amber-300\">\n                            Add images to `client/src/images/game/maps` to populate this list.\n                        </p>\n                    )}\n                </div>\n\n                <div className=\"bg-gray-800 p-3 rounded space-y-3\">\n                    <p className=\"font-semibold text-sm\">Lighting</p>\n                    <div className=\"grid grid-cols-2 gap-2 text-xs\">\n                        <label className=\"flex items-center gap-2\">\n                            <input\n                                type=\"checkbox\"\n                                checked={normalizedLighting.enabled}\n                                onChange={(e) => patchLightingGlobal({ enabled: e.target.checked })}\n                            />\n                            Lighting Enabled\n                        </label>\n                        <label className=\"flex items-center gap-2\">\n                            <input\n                                type=\"checkbox\"\n                                checked={normalizedLighting.shadowEnabled}\n                                onChange={(e) =>\n                                    patchLightingGlobal({ shadowEnabled: e.target.checked })\n                                }\n                            />\n                            Shadows Enabled\n                        </label>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Ambient</label>\n                        <input\n                            type=\"range\"\n                            min=\"0\"\n                            max=\"0.9\"\n                            step=\"0.01\"\n                            value={normalizedLighting.ambient}\n                            onChange={(e) =>\n                                patchLightingGlobal({\n                                    ambient: clamp(Number(e.target.value), 0, 0.9),\n                                })\n                            }\n                        />\n                        <label className=\"text-xs\">Shadow Strength</label>\n                        <input\n                            type=\"range\"\n                            min=\"0\"\n                            max=\"1\"\n                            step=\"0.01\"\n                            value={normalizedLighting.shadowStrength}\n                            onChange={(e) =>\n                                patchLightingGlobal({\n                                    shadowStrength: clamp(Number(e.target.value), 0, 1),\n                                })\n                            }\n                        />\n                        <label className=\"text-xs\">Shadow Softness</label>\n                        <input\n                            type=\"range\"\n                            min=\"0\"\n                            max=\"1\"\n                            step=\"0.01\"\n                            value={normalizedLighting.shadowSoftness}\n                            onChange={(e) =>\n                                patchLightingGlobal({\n                                    shadowSoftness: clamp(Number(e.target.value), 0, 1),\n                                })\n                            }\n                        />\n                        <label className=\"text-xs\">Shadow Length</label>\n                        <input\n                            type=\"range\"\n                            min=\"0\"\n                            max=\"2\"\n                            step=\"0.01\"\n                            value={normalizedLighting.shadowLength}\n                            onChange={(e) =>\n                                patchLightingGlobal({\n                                    shadowLength: clamp(Number(e.target.value), 0, 2),\n                                })\n                            }\n                        />\n                        <label className=\"text-xs\">Shadow Blend</label>\n                        <input\n                            type=\"range\"\n                            min=\"0\"\n                            max=\"1\"\n                            step=\"0.01\"\n                            value={normalizedLighting.shadowBlend}\n                            onChange={(e) =>\n                                patchLightingGlobal({\n                                    shadowBlend: clamp(Number(e.target.value), 0, 1),\n                                })\n                            }\n                        />\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                        <button\n                            type=\"button\"\n                            onClick={createDirectionalLight}\n                            className=\"flex-1 bg-amber-700 hover:bg-amber-600 px-2 py-1 rounded text-xs\"\n                        >\n                            Add Directional\n                        </button>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                            {lightPresets.map((preset) => (\n                                <button\n                                    key={preset.name}\n                                    type=\"button\"\n                                    onClick={() => armLightPlacement(preset)}\n                                    className=\"px-2 py-1 rounded text-xs bg-cyan-700 hover:bg-cyan-600\"\n                                >\n                                    {preset.name} Light\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Selected Light</label>\n                        <select\n                            value={selectedLightID}\n                            onChange={(e) => setSelectedLightID(e.target.value)}\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-xs\"\n                        >\n                            {lightSources.length === 0 ? (\n                                <option value=\"\">No lights</option>\n                            ) : (\n                                lightSources.map((source) => (\n                                    <option key={source.id} value={source.id}>\n                                        {source.name || source.id} ({source.type})\n                                    </option>\n                                ))\n                            )}\n                        </select>\n                    </div>\n\n                    {selectedLightSource && (\n                        <div className=\"rounded border border-gray-700 bg-gray-900/50 p-2 space-y-2\">\n                            <div className=\"grid grid-cols-2 gap-2 items-center\">\n                                <label className=\"text-xs\">Name</label>\n                                <input\n                                    type=\"text\"\n                                    value={selectedLightSource.name || \"\"}\n                                    onChange={(e) => patchSelectedLight({ name: e.target.value })}\n                                    className=\"w-full bg-gray-700 px-2 py-1 rounded text-xs\"\n                                />\n                                <label className=\"text-xs\">Type</label>\n                                <select\n                                    value={String(selectedLightSource.type || \"directional\")}\n                                    onChange={(e) => {\n                                        const nextType = e.target.value;\n                                        if (nextType === \"directional\") {\n                                            patchSelectedLight({\n                                                type: \"directional\",\n                                                x: 0,\n                                                y: 0,\n                                            });\n                                        } else {\n                                            patchSelectedLight({\n                                                type: \"point\",\n                                                worldX: Math.round(toNumber(worldMouseCoords?.x, 0)),\n                                                worldY: Math.round(toNumber(worldMouseCoords?.y, 0)),\n                                                range: 420,\n                                            });\n                                        }\n                                    }}\n                                    className=\"w-full bg-gray-700 px-2 py-1 rounded text-xs\"\n                                >\n                                    <option value=\"directional\">directional</option>\n                                    <option value=\"point\">point</option>\n                                </select>\n                                <label className=\"text-xs\">Enabled</label>\n                                <input\n                                    type=\"checkbox\"\n                                    checked={selectedLightSource.enabled !== false}\n                                    onChange={(e) =>\n                                        patchSelectedLight({ enabled: e.target.checked })\n                                    }\n                                />\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-2 items-center\">\n                                <label className=\"text-xs\">Intensity</label>\n                                <input\n                                    type=\"range\"\n                                    min=\"0\"\n                                    max=\"2\"\n                                    step=\"0.01\"\n                                    value={clamp(toNumber(selectedLightSource.intensity, 0.8), 0, 2)}\n                                    onChange={(e) =>\n                                        patchSelectedLight({\n                                            intensity: clamp(Number(e.target.value), 0, 2),\n                                        })\n                                    }\n                                />\n                                <label className=\"text-xs\">Blend</label>\n                                <input\n                                    type=\"range\"\n                                    min=\"0\"\n                                    max=\"1\"\n                                    step=\"0.01\"\n                                    value={clamp(toNumber(selectedLightSource.blend, 0.7), 0, 1)}\n                                    onChange={(e) =>\n                                        patchSelectedLight({\n                                            blend: clamp(Number(e.target.value), 0, 1),\n                                        })\n                                    }\n                                />\n                                <label className=\"text-xs\">Color</label>\n                                <input\n                                    type=\"color\"\n                                    value={String(selectedLightSource.color || \"#ffffff\")}\n                                    onChange={(e) => patchSelectedLight({ color: e.target.value })}\n                                    className=\"w-full h-8 rounded cursor-pointer\"\n                                />\n                            </div>\n\n                            {selectedLightType === \"directional\" ? (\n                                <div className=\"space-y-2\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div\n                                            ref={directionWheelRef}\n                                            aria-label=\"Directional light wheel\"\n                                            tabIndex={0}\n                                            onMouseDown={handleDirectionalWheelMouseDown}\n                                            onKeyDown={(event) => {\n                                                const step = 0.08;\n                                                let nextX = directionalLightVector.x;\n                                                let nextY = directionalLightVector.y;\n                                                if (event.key === \"ArrowLeft\") nextX -= step;\n                                                if (event.key === \"ArrowRight\") nextX += step;\n                                                if (event.key === \"ArrowUp\") nextY -= step;\n                                                if (event.key === \"ArrowDown\") nextY += step;\n                                                if (\n                                                    event.key === \"ArrowLeft\" ||\n                                                    event.key === \"ArrowRight\" ||\n                                                    event.key === \"ArrowUp\" ||\n                                                    event.key === \"ArrowDown\"\n                                                ) {\n                                                    event.preventDefault();\n                                                    patchSelectedLight(\n                                                        clampDirectionalToUnitDisk(nextX, nextY)\n                                                    );\n                                                }\n                                            }}\n                                            className={`relative rounded-full border border-amber-200/60 bg-gray-950/85 ${\n                                                directionWheelDragging ? \"cursor-grabbing\" : \"cursor-grab\"\n                                            }`}\n                                            style={{\n                                                width: LIGHT_WHEEL_SIZE,\n                                                height: LIGHT_WHEEL_SIZE,\n                                            }}\n                                        >\n                                            <div\n                                                className=\"absolute rounded-full border border-gray-600/80\"\n                                                style={{\n                                                    left: LIGHT_WHEEL_INNER_MARGIN,\n                                                    top: LIGHT_WHEEL_INNER_MARGIN,\n                                                    width: LIGHT_WHEEL_SIZE - LIGHT_WHEEL_INNER_MARGIN * 2,\n                                                    height: LIGHT_WHEEL_SIZE - LIGHT_WHEEL_INNER_MARGIN * 2,\n                                                }}\n                                            />\n                                            <div\n                                                className=\"absolute rounded-full border border-amber-100 bg-amber-300 shadow\"\n                                                style={{\n                                                    width: LIGHT_WHEEL_KNOB_SIZE,\n                                                    height: LIGHT_WHEEL_KNOB_SIZE,\n                                                    left:\n                                                        LIGHT_WHEEL_SIZE / 2 +\n                                                        lightWheelKnobOffset.x -\n                                                        LIGHT_WHEEL_KNOB_SIZE / 2,\n                                                    top:\n                                                        LIGHT_WHEEL_SIZE / 2 +\n                                                        lightWheelKnobOffset.y -\n                                                        LIGHT_WHEEL_KNOB_SIZE / 2,\n                                                }}\n                                            />\n                                        </div>\n                                        <div className=\"text-[11px] text-gray-300 leading-5\">\n                                            <p>X: {directionalLightVector.x.toFixed(2)}</p>\n                                            <p>Y: {directionalLightVector.y.toFixed(2)}</p>\n                                            <p>Tilt: {directionalLightTilt.toFixed(2)}</p>\n                                        </div>\n                                    </div>\n                                    <p className=\"text-[10px] text-gray-400\">\n                                        Center is overhead sun. Drag the wheel or use arrow keys.\n                                    </p>\n                                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                                        <label className=\"text-xs\">Direction X</label>\n                                        <input\n                                            type=\"range\"\n                                            min=\"-1\"\n                                            max=\"1\"\n                                            step=\"0.01\"\n                                            value={directionalLightVector.x}\n                                            onChange={(e) =>\n                                                patchSelectedLight(\n                                                    withFixedDirectionalX(\n                                                        Number(e.target.value),\n                                                        directionalLightVector.y\n                                                    )\n                                                )\n                                            }\n                                        />\n                                        <label className=\"text-xs\">Direction Y</label>\n                                        <input\n                                            type=\"range\"\n                                            min=\"-1\"\n                                            max=\"1\"\n                                            step=\"0.01\"\n                                            value={directionalLightVector.y}\n                                            onChange={(e) =>\n                                                patchSelectedLight(\n                                                    withFixedDirectionalY(\n                                                        Number(e.target.value),\n                                                        directionalLightVector.x\n                                                    )\n                                                )\n                                            }\n                                        />\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => patchSelectedLight({ x: 0, y: 0 })}\n                                            className=\"col-span-2 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs\"\n                                        >\n                                            Set Overhead (0, 0)\n                                        </button>\n                                    </div>\n                                </div>\n                            ) : (\n                                <div className=\"grid grid-cols-2 gap-2 items-center\">\n                                    <label className=\"text-xs\">World X</label>\n                                    <input\n                                        type=\"number\"\n                                        value={Math.round(toNumber(selectedLightSource.worldX, 0))}\n                                        onChange={(e) =>\n                                            patchSelectedLight({ worldX: Number(e.target.value) })\n                                        }\n                                        className=\"w-full bg-gray-700 px-2 py-1 rounded text-xs\"\n                                    />\n                                    <label className=\"text-xs\">World Y</label>\n                                    <input\n                                        type=\"number\"\n                                        value={Math.round(toNumber(selectedLightSource.worldY, 0))}\n                                        onChange={(e) =>\n                                            patchSelectedLight({ worldY: Number(e.target.value) })\n                                        }\n                                        className=\"w-full bg-gray-700 px-2 py-1 rounded text-xs\"\n                                    />\n                                    <label className=\"text-xs\">Range</label>\n                                    <input\n                                        type=\"range\"\n                                        min=\"10\"\n                                        max=\"5000\"\n                                        step=\"10\"\n                                        value={clamp(toNumber(selectedLightSource.range, 420), 10, 5000)}\n                                        onChange={(e) =>\n                                            patchSelectedLight({\n                                                range: clamp(Number(e.target.value), 10, 5000),\n                                            })\n                                        }\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={() =>\n                                            patchSelectedLight({\n                                                worldX: Math.round(toNumber(worldMouseCoords?.x, 0)),\n                                                worldY: Math.round(toNumber(worldMouseCoords?.y, 0)),\n                                            })\n                                        }\n                                        className=\"col-span-2 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs\"\n                                    >\n                                        Move Point Light To Cursor\n                                    </button>\n                                </div>\n                            )}\n\n                            <button\n                                type=\"button\"\n                                onClick={removeSelectedLight}\n                                className=\"w-full bg-red-700 hover:bg-red-600 px-2 py-1 rounded text-xs\"\n                            >\n                                Remove Selected Light\n                            </button>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"bg-gray-800 p-3 rounded space-y-3\">\n                    <p className=\"font-semibold text-sm\">Create Object</p>\n                    <div className=\"grid grid-cols-3 gap-2\">\n                        {[\"circle\", \"rect\", \"triangle\"].map((type) => (\n                            <button\n                                key={type}\n                                type=\"button\"\n                                onClick={() => setCreationDraft((prev) => ({ ...prev, type }))}\n                                className={`px-2 py-2 rounded text-sm ${\n                                    creationDraft.type === type\n                                        ? \"bg-blue-600\"\n                                        : \"bg-gray-700 hover:bg-gray-600\"\n                                }`}\n                            >\n                                {type}\n                            </button>\n                        ))}\n                    </div>\n\n                    <div>\n                        <label className=\"text-xs\">Terrain Type</label>\n                        <div className=\"grid grid-cols-3 gap-2 mt-1\">\n                            {[\"floor\", \"wall\", \"obstacle\"].map((terrainType) => (\n                                <button\n                                    key={terrainType}\n                                    type=\"button\"\n                                    onClick={() =>\n                                        setCreationDraft((prev) => {\n                                            const defaultHP =\n                                                DEFAULT_MAX_HP_BY_TERRAIN[terrainType] ||\n                                                DEFAULT_MAX_HP_BY_TERRAIN.obstacle;\n                                            return {\n                                                ...prev,\n                                                terrainType,\n                                                elevationHeight:\n                                                    DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN[terrainType] ??\n                                                    DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN.obstacle,\n                                                maxHP: prev.maxHP ?? defaultHP,\n                                                hp: prev.hp ?? defaultHP,\n                                            };\n                                        })\n                                    }\n                                    className={`px-2 py-2 rounded text-xs ${\n                                        creationDraft.terrainType === terrainType\n                                            ? \"bg-purple-600\"\n                                            : \"bg-gray-700 hover:bg-gray-600\"\n                                    }`}\n                                >\n                                    {terrainType}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Floor Type</label>\n                        <select\n                            value={creationDraft.floorTypeId}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({ ...prev, floorTypeId: e.target.value }))\n                            }\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                        >\n                            {creationFloorTypeOptions.map((entry) => (\n                                <option key={entry.id} value={entry.id}>\n                                    {entry.name}\n                                    {entry.floorVisualType === \"effect\" ? \" (Effect)\" : \"\"}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Map Image</label>\n                        <select\n                            value={creationDraft.mapAssetKey || \"\"}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({\n                                    ...prev,\n                                    mapAssetKey: String(e.target.value || \"\").trim().toLowerCase(),\n                                }))\n                            }\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                        >\n                            <option value=\"\">None</option>\n                            {availableMapImages.map((assetKey) => (\n                                <option key={assetKey} value={assetKey}>\n                                    {assetKey}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Z-Level</label>\n                        <input\n                            type=\"number\"\n                            value={creationDraft.zLevel}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({\n                                    ...prev,\n                                    zLevel: Number(e.target.value),\n                                }))\n                            }\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Elevation Height</label>\n                        <input\n                            type=\"number\"\n                            min=\"0\"\n                            value={creationDraft.elevationHeight}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({\n                                    ...prev,\n                                    elevationHeight: Number(e.target.value),\n                                }))\n                            }\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2\">\n                        <div>\n                            <label className=\"text-xs\">Max HP</label>\n                            <input\n                                type=\"number\"\n                                value={creationDraft.maxHP ?? \"\"}\n                                onChange={(e) =>\n                                    setCreationDraft((prev) => ({\n                                        ...prev,\n                                        maxHP: e.target.value === \"\" ? null : Number(e.target.value),\n                                    }))\n                                }\n                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"text-xs\">HP</label>\n                            <input\n                                type=\"number\"\n                                value={creationDraft.hp ?? \"\"}\n                                onChange={(e) =>\n                                    setCreationDraft((prev) => ({\n                                        ...prev,\n                                        hp: e.target.value === \"\" ? null : Number(e.target.value),\n                                    }))\n                                }\n                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Hitbox Scale</label>\n                        <input\n                            type=\"number\"\n                            step=\"0.1\"\n                            min=\"0.1\"\n                            max=\"5\"\n                            value={creationDraft.hitboxScale}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({\n                                    ...prev,\n                                    hitboxScale: Number(e.target.value),\n                                }))\n                            }\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Color</label>\n                        <input\n                            type=\"color\"\n                            value={creationDraft.color}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({ ...prev, color: e.target.value }))\n                            }\n                            className=\"w-full h-9 rounded cursor-pointer\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                        <label className=\"text-xs\">Z-Index</label>\n                        <input\n                            type=\"number\"\n                            value={creationDraft.z}\n                            onChange={(e) =>\n                                setCreationDraft((prev) => ({ ...prev, z: Number(e.target.value) }))\n                            }\n                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                        />\n                    </div>\n\n                    {creationDraft.type === \"rect\" ? (\n                        <div className=\"grid grid-cols-2 gap-2\">\n                            <div>\n                                <label className=\"text-xs\">Width</label>\n                                <input\n                                    type=\"number\"\n                                    value={creationDraft.width}\n                                    onChange={(e) =>\n                                        setCreationDraft((prev) => ({\n                                            ...prev,\n                                            width: Number(e.target.value),\n                                        }))\n                                    }\n                                    className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"text-xs\">Footprint Height</label>\n                                <input\n                                    type=\"number\"\n                                    value={creationDraft.height}\n                                    onChange={(e) =>\n                                        setCreationDraft((prev) => ({\n                                            ...prev,\n                                            height: Number(e.target.value),\n                                        }))\n                                    }\n                                    className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                />\n                            </div>\n                        </div>\n                    ) : (\n                        <div>\n                            <label className=\"text-xs\">Size</label>\n                            <input\n                                type=\"number\"\n                                value={creationDraft.size}\n                                onChange={(e) =>\n                                    setCreationDraft((prev) => ({ ...prev, size: Number(e.target.value) }))\n                                }\n                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                            />\n                        </div>\n                    )}\n\n                    <div className=\"flex gap-2\">\n                        <button\n                            type=\"button\"\n                            onClick={armPlacement}\n                            className=\"flex-1 bg-emerald-600 hover:bg-emerald-700 px-3 py-2 rounded text-sm\"\n                        >\n                            Arm Placement\n                        </button>\n                        <button\n                            type=\"button\"\n                            onClick={quickPlaceAtCursor}\n                            disabled={!mapObjectPlacement}\n                            className=\"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 px-3 py-2 rounded text-sm\"\n                        >\n                            Place Now\n                        </button>\n                    </div>\n\n                    {selectedPlacementType && (\n                        <button\n                            type=\"button\"\n                            onClick={clearMapObjectPlacement}\n                            className=\"w-full bg-red-600 hover:bg-red-700 px-3 py-2 rounded text-sm\"\n                        >\n                            Cancel Placement\n                        </button>\n                    )}\n                </div>\n\n                <div className=\"bg-gray-800 p-3 rounded space-y-2\">\n                    <p className=\"font-semibold text-sm\">Save Campaign Snapshot</p>\n                    <input\n                        type=\"text\"\n                        value={saveName}\n                        onChange={(e) => setSaveName(e.target.value)}\n                        placeholder=\"Save name (optional)\"\n                        className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                    />\n                    <input\n                        type=\"text\"\n                        value={saveDescription}\n                        onChange={(e) => setSaveDescription(e.target.value)}\n                        placeholder=\"Save description (optional)\"\n                        className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                    />\n                    <button\n                        type=\"button\"\n                        onClick={saveToCampaign}\n                        disabled={saving}\n                        className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-700 px-3 py-2 rounded text-sm\"\n                    >\n                        {saving ? \"Saving...\" : \"Save to Campaign\"}\n                    </button>\n                    <div className=\"flex gap-2\">\n                        <button\n                            type=\"button\"\n                            onClick={exportMap}\n                            className=\"flex-1 text-xs bg-purple-600 hover:bg-purple-700 px-2 py-1 rounded\"\n                        >\n                            Export JSON\n                        </button>\n                        <label className=\"flex-1 text-xs bg-purple-600 hover:bg-purple-700 px-2 py-1 rounded cursor-pointer text-center\">\n                            Import JSON\n                            <input type=\"file\" accept=\".json\" onChange={importMap} className=\"hidden\" />\n                        </label>\n                    </div>\n                </div>\n\n                        {error && <div className=\"text-sm text-red-300 bg-red-900/40 rounded p-2\">{error}</div>}\n                        {status && <div className=\"text-sm text-emerald-300 bg-emerald-900/30 rounded p-2\">{status}</div>}\n\n                        <div className=\"bg-gray-800 p-3 rounded space-y-2\">\n                            <p className=\"font-semibold mb-1\">Objects ({mapObjects.length})</p>\n                            <div className=\"max-h-[42vh] min-h-[220px] overflow-y-auto scrollbar-transparent pr-1 space-y-2\">\n                    {sortedObjects.map((obj) => (\n                        <div\n                            key={obj.id}\n                            className={`p-3 rounded cursor-pointer ${\n                                selectedObject === obj.id\n                                    ? \"bg-blue-700 ring-2 ring-yellow-300 border border-yellow-200/70\"\n                                    : \"bg-gray-800 hover:bg-gray-700\"\n                            }`}\n                            onClick={() => setSelectedObject(obj.id)}\n                        >\n                            <div className=\"flex justify-between items-start mb-2\">\n                                <div>\n                                    <span className=\"font-semibold\">\n                                        {obj.type} #{obj.id}\n                                    </span>\n                                    <p className=\"text-xs text-gray-400\">\n                                        Pos: ({obj.x}, {obj.y}) L:{obj.zLevel ?? 0} Z:{obj.z} H:{Math.round(Number(obj.elevationHeight) || 0)} {obj.terrainType ? `| ${obj.terrainType}` : \"\"} {obj.floorTypeId ? `| ${obj.floorTypeId}` : \"\"} {obj.mapAssetKey ? `| MAP ${obj.mapAssetKey}` : \"\"} {obj.maxHP != null ? `| HP ${obj.hp ?? 0}/${obj.maxHP}` : \"| Indestructible\"}\n                                    </p>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        deleteMapObject(obj.id);\n                                        if (selectedObject === obj.id) {\n                                            setSelectedObject(null);\n                                        }\n                                    }}\n                                    className=\"text-red-400 hover:text-red-300 text-xl\"\n                                >\n                                    x\n                                </button>\n                            </div>\n\n                            {selectedObject === obj.id && (\n                                <div className=\"mt-2 space-y-2 border-t border-gray-700 pt-2\">\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                        <div>\n                                            <label className=\"text-xs\">X</label>\n                                            <input\n                                                type=\"number\"\n                                                value={obj.x}\n                                                onChange={(e) =>\n                                                    updateMapObject(obj.id, { x: Number(e.target.value) })\n                                                }\n                                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                            />\n                                        </div>\n                                        <div>\n                                            <label className=\"text-xs\">Y</label>\n                                            <input\n                                                type=\"number\"\n                                                value={obj.y}\n                                                onChange={(e) =>\n                                                    updateMapObject(obj.id, { y: Number(e.target.value) })\n                                                }\n                                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Terrain Type</label>\n                                        <select\n                                            value={obj.terrainType || \"obstacle\"}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, {\n                                                    terrainType: e.target.value,\n                                                })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        >\n                                            <option value=\"floor\">floor</option>\n                                            <option value=\"wall\">wall</option>\n                                            <option value=\"obstacle\">obstacle</option>\n                                        </select>\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Floor Type</label>\n                                        <select\n                                            value={obj.floorTypeId || \"\"}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, {\n                                                    floorTypeId: e.target.value,\n                                                })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        >\n                                            {(floorTypesByTerrain[obj.terrainType || \"obstacle\"] || floorTypes).map((entry) => (\n                                                <option key={entry.id} value={entry.id}>\n                                                    {entry.name}\n                                                    {entry.floorVisualType === \"effect\" ? \" (Effect)\" : \"\"}\n                                                </option>\n                                            ))}\n                                        </select>\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Map Image</label>\n                                        <select\n                                            value={String(obj.mapAssetKey || \"\").trim().toLowerCase()}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, {\n                                                    mapAssetKey: String(e.target.value || \"\")\n                                                        .trim()\n                                                        .toLowerCase(),\n                                                })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        >\n                                            <option value=\"\">None</option>\n                                            {availableMapImages.map((assetKey) => (\n                                                <option key={assetKey} value={assetKey}>\n                                                    {assetKey}\n                                                </option>\n                                            ))}\n                                        </select>\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Z-Level</label>\n                                        <input\n                                            type=\"number\"\n                                            value={obj.zLevel ?? 0}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, {\n                                                    zLevel: Number(e.target.value),\n                                                })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        />\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Elevation Height</label>\n                                        <input\n                                            type=\"number\"\n                                            min=\"0\"\n                                            value={Math.round(Number(obj.elevationHeight) || 0)}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, {\n                                                    elevationHeight: Number(e.target.value),\n                                                })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        />\n                                    </div>\n\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                        <div>\n                                            <label className=\"text-xs\">Max HP</label>\n                                            <input\n                                                type=\"number\"\n                                                value={obj.maxHP ?? \"\"}\n                                                onChange={(e) =>\n                                                    updateMapObject(obj.id, {\n                                                        maxHP:\n                                                            e.target.value === \"\"\n                                                                ? null\n                                                                : Number(e.target.value),\n                                                    })\n                                                }\n                                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                            />\n                                        </div>\n                                        <div>\n                                            <label className=\"text-xs\">HP</label>\n                                            <input\n                                                type=\"number\"\n                                                value={obj.hp ?? \"\"}\n                                                onChange={(e) =>\n                                                    updateMapObject(obj.id, {\n                                                        hp:\n                                                            e.target.value === \"\"\n                                                                ? null\n                                                                : Number(e.target.value),\n                                                    })\n                                                }\n                                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => applyObjectHPDelta(obj.id, 10)}\n                                            className=\"bg-red-700/70 hover:bg-red-700 text-xs px-2 py-1 rounded\"\n                                        >\n                                            Damage 10\n                                        </button>\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => applyObjectHPDelta(obj.id, -10)}\n                                            className=\"bg-emerald-700/70 hover:bg-emerald-700 text-xs px-2 py-1 rounded\"\n                                        >\n                                            Heal 10\n                                        </button>\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Hitbox Scale</label>\n                                        <input\n                                            type=\"number\"\n                                            min=\"0.1\"\n                                            max=\"5\"\n                                            step=\"0.1\"\n                                            value={obj?.hitbox?.scale ?? 1}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, {\n                                                    hitbox: {\n                                                        ...(obj.hitbox || {}),\n                                                        scale: Number(e.target.value),\n                                                    },\n                                                })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        />\n                                    </div>\n\n                                    <div>\n                                        <label className=\"text-xs\">Z-Index</label>\n                                        <input\n                                            type=\"number\"\n                                            value={obj.z}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, { z: Number(e.target.value) })\n                                            }\n                                            className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                        />\n                                    </div>\n\n                                    {obj.type === \"rect\" ? (\n                                        <div className=\"grid grid-cols-2 gap-2\">\n                                            <div>\n                                                <label className=\"text-xs\">Width</label>\n                                                <input\n                                                    type=\"number\"\n                                                    value={obj.width}\n                                                    onChange={(e) =>\n                                                        updateMapObject(obj.id, { width: Number(e.target.value) })\n                                                    }\n                                                    className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                                />\n                                            </div>\n                                            <div>\n                                                <label className=\"text-xs\">Footprint Height</label>\n                                                <input\n                                                    type=\"number\"\n                                                    value={obj.height}\n                                                    onChange={(e) =>\n                                                        updateMapObject(obj.id, { height: Number(e.target.value) })\n                                                    }\n                                                    className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                                />\n                                            </div>\n                                        </div>\n                                    ) : (\n                                        <div>\n                                            <label className=\"text-xs\">Size</label>\n                                            <input\n                                                type=\"number\"\n                                                value={obj.size}\n                                                onChange={(e) =>\n                                                    updateMapObject(obj.id, { size: Number(e.target.value) })\n                                                }\n                                                className=\"w-full bg-gray-700 px-2 py-1 rounded text-sm\"\n                                            />\n                                        </div>\n                                    )}\n\n                                    <div>\n                                        <label className=\"text-xs\">Color</label>\n                                        <input\n                                            type=\"color\"\n                                            value={obj.color}\n                                            onChange={(e) =>\n                                                updateMapObject(obj.id, { color: e.target.value })\n                                            }\n                                            className=\"w-full h-8 rounded cursor-pointer\"\n                                        />\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default MapEditor;\n\n","import { Tabs } from \"../pageComponents/tabs\";\nimport {\n  Backpack,\n  Map,\n  Feather,\n  Sparkles,\n  Users,\n  NotebookPen,\n  ScrollText,\n  Settings2,\n  Wrench,\n} from \"lucide-react\";\nimport { useGame } from \"../data/gameContext\";\n\nimport Admin from \"./gamesidepanel/admin\";\nimport MapEditor from \"./gamesidepanel/mapeditor\";\nimport { LightingPanel } from \"./gamesidepanel/lighting\";\n\nfunction PlaceholderPanel({ title, subtitle, hint }) {\n  return (\n    <div className=\"h-full min-h-0 overflow-y-auto scrollbar-transparent px-4 py-4\">\n      <div className=\"rounded-xl border border-slate-700/80 bg-slate-900/80 p-4\">\n        <h3 className=\"text-lg font-semibold text-white\">{title}</h3>\n        <p className=\"mt-2 text-sm text-slate-300\">{subtitle}</p>\n        <p className=\"mt-3 text-xs uppercase tracking-wider text-slate-500\">{hint}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default function GameSidePanel() {\n  const { isDM } = useGame();\n\n  return (\n    <Tabs className=\"h-full min-h-0 grid grid-rows-[auto_1fr] border-l border-slate-700 bg-slate-950 text-slate-100\">\n      <Tabs.Nav className=\"bg-slate-900/95 text-slate-100 flex flex-row overflow-x-auto scrollbar-transparent justify-start items-center gap-1 border-b border-slate-700 px-2 py-1 flex-shrink-0\">\n        <Tabs.Tab label=\"Inventory\" index={0}>\n          <Backpack size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Sheet\" index={1}>\n          <ScrollText size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Spells\" index={2}>\n          <Sparkles size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Quests\" index={3}>\n          <Feather size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Map\" index={4}>\n          <Map size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Journal\" index={5}>\n          <NotebookPen size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Party\" index={6}>\n          <Users size={16} />\n        </Tabs.Tab>\n        <Tabs.Tab label=\"Settings\" index={7}>\n          <Settings2 size={16} />\n        </Tabs.Tab>\n        {isDM && (\n          <Tabs.Tab label=\"Admin\" index={8}>\n            <Wrench size={16} />\n          </Tabs.Tab>\n        )}\n        {isDM && (\n          <Tabs.Tab label=\"Map Edit\" index={9}>\n            <Map size={16} />\n          </Tabs.Tab>\n        )}\n      </Tabs.Nav>\n\n      <Tabs.Panels className=\"h-full min-h-0 overflow-hidden\">\n        <Tabs.Panel index={0} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Inventory\"\n            subtitle=\"Consumables, equipment, and loot from the current run.\"\n            hint=\"Item management tools will render here\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={1} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Character Sheet\"\n            subtitle=\"Core stats, passive bonuses, and your active build.\"\n            hint=\"Character details panel\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={2} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Spells\"\n            subtitle=\"Prepared spells, cooldowns, and casting resources.\"\n            hint=\"Spellbook and actions\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={3} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Quests\"\n            subtitle=\"Objective chains and current campaign progression.\"\n            hint=\"Quest tracker\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={4} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Map\"\n            subtitle=\"Quick world summary for the active encounter.\"\n            hint=\"Context-only map data\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={5} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Journal\"\n            subtitle=\"Session notes, lore snippets, and reminders.\"\n            hint=\"Journal timeline\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={6} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Party\"\n            subtitle=\"Player roster and party role snapshots.\"\n            hint=\"Party overview\"\n          />\n        </Tabs.Panel>\n\n        <Tabs.Panel index={7} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n          <PlaceholderPanel\n            title=\"Settings\"\n            subtitle=\"Camera, controls, and personal game preferences.\"\n            hint=\"Session settings\"\n          />\n        </Tabs.Panel>\n\n        {isDM && (\n          <Tabs.Panel index={8} className=\"!p-0 h-full min-h-0 overflow-y-auto scrollbar-transparent\">\n            <Admin />\n          </Tabs.Panel>\n        )}\n\n        {isDM && (\n          <Tabs.Panel index={9} className=\"!p-0 h-full min-h-0 overflow-hidden\">\n            <MapEditor />\n\n          </Tabs.Panel>\n        )}\n      </Tabs.Panels>\n    </Tabs>\n  );\n}\n","import { useRef, useEffect, useState } from \"react\";\nimport { michelangeloEngine } from \"./game/michelangeloEngine\";\nimport { backgroundLayer } from \"./game/Map Layers/0Background\";\nimport { gridlayer } from \"./game/Map Layers/4Grid\";\nimport getImage from \"../handlers/getImage\";\nimport GameSidePanel from \"../pageComponents/game_sidepanel\";\n\n// Configuration\nconst GRID_SIZE = 50;\nconst MIN_SIDE_WIDTH = 200;\nconst MAX_SIDE_WIDTH = 800;\nconst ZOOM_FACTOR = 1.1;\nconst MIN_ZOOM = 0.25;\nconst MAX_ZOOM = 4;\n\n// Layer definitions - single source of truth\nconst LAYER_CONFIG = [\n  { name: \"background\", component: backgroundLayer, zIndex: 0 },\n  { name: \"grid\", component: gridlayer, zIndex: 1 },\n];\n\nfunction Test() {\n  // UI State\n  const [sideWidth, setSideWidth] = useState(320);\n  const [dragging, setDragging] = useState(false);\n  const [fogEnabled, setFogEnabled] = useState(true);\n  const [contextMenu, setContextMenu] = useState(null);\n  const [selectedChar, setSelectedChar] = useState(null);\n  const [lastMouse, setLastMouse] = useState({ x: 0, y: 0 });\n\n  // Refs\n  const spacePressed = useRef(false);\n  const isPanning = useRef(false);\n  const camera = useRef({ x: 0, y: 0, zoom: 1, bgImage: null });\n  const layerRefs = useRef({});\n\n  const mood = \"calm1\";\n\n  // Character data\n  const characters = [\n    {\n      id: \"char1\",\n      name: \"Hero\",\n      position: { x: 25, y: 50 },\n      size: 50,\n      visionDistance: 200,\n      rotation: 45,\n      visionArc: 90,\n      team: \"player\",\n    },\n    {\n      id: \"char2\",\n      name: \"Ally\",\n      position: { x: 100, y: 100 },\n      size: 20,\n      visionDistance: 150,\n      rotation: 180,\n      visionArc: 120,\n      team: \"player\",\n    },\n    {\n      id: \"char3\",\n      name: \"Enemy\",\n      position: { x: 400, y: 300 },\n      size: 30,\n      visionDistance: 100,\n      rotation: 270,\n      visionArc: 90,\n      team: \"enemy\",\n    },\n  ];\n\n  // Load background image\n  useEffect(() => {\n    const img = new Image();\n    img.src = getImage(mood);\n    img.onload = () => {\n      camera.current.bgImage = img;\n    };\n  }, [mood]);\n\n  // Canvas setup utilities\n  const formatCanvas = (canvas) => {\n    const dpr = window.devicePixelRatio || 1;\n    const rect = canvas.getBoundingClientRect();\n    canvas.width = Math.round(rect.width * dpr);\n    canvas.height = Math.round(rect.height * dpr);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    return ctx;\n  };\n\n  // Initialize all canvases\n  useEffect(() => {\n    const resizeAllCanvases = () => {\n      Object.values(layerRefs.current).forEach((canvas) => {\n        if (canvas) formatCanvas(canvas);\n      });\n    };\n\n    resizeAllCanvases();\n    window.addEventListener(\"resize\", resizeAllCanvases);\n    return () => window.removeEventListener(\"resize\", resizeAllCanvases);\n  }, []);\n\n  // Coordinate conversion utilities\n  const degreeToRadian = (degrees) => (degrees * Math.PI) / 180;\n\n  const worldToScreen = (worldX, worldY) => ({\n    x: worldX * camera.current.zoom - camera.current.x,\n    y: worldY * camera.current.zoom - camera.current.y,\n  });\n\n  const screenToWorld = (screenX, screenY) => ({\n    x: (screenX + camera.current.x) / camera.current.zoom,\n    y: (screenY + camera.current.y) / camera.current.zoom,\n  });\n\n  const worldMouseCoords = screenToWorld(lastMouse.x, lastMouse.y);\n\n  // Visibility check for fog of war\n  const isVisible = (x, y) => {\n    if (!fogEnabled) return true;\n\n    const playerChars = characters.filter((c) => c.team === \"player\");\n\n    for (const char of playerChars) {\n      const dx = x - char.position.x;\n      const dy = y - char.position.y;\n      const distSq = dx * dx + dy * dy;\n\n      if (distSq <= char.visionDistance * char.visionDistance) {\n        const angleToPoint = (Math.atan2(dy, dx) * 180) / Math.PI;\n        let angleDiff = angleToPoint - char.rotation;\n\n        // Normalize angle\n        while (angleDiff > 180) angleDiff -= 360;\n        while (angleDiff < -180) angleDiff += 360;\n\n        if (Math.abs(angleDiff) <= char.visionArc / 2) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  // Main render loop\n  useEffect(() => {\n    let raf;\n\n    const loop = () => {\n      const layers = LAYER_CONFIG.map((config) => ({\n        ...config.component,\n        ctx: layerRefs.current[config.name]?.getContext(\"2d\"),\n        canvas: layerRefs.current[config.name],\n      }));\n\n      michelangeloEngine({\n        layers,\n        state: {\n          bgImage: camera.current.bgImage,\n          camera: camera.current,\n        },\n      });\n\n      raf = requestAnimationFrame(loop);\n    };\n\n    loop();\n    return () => cancelAnimationFrame(raf);\n  }, []);\n\n  // Global mouse tracking for side panel resizing\n  useEffect(() => {\n    const onMouseMove = (e) => {\n      if (dragging) {\n        const newWidth = window.innerWidth - e.clientX;\n        setSideWidth(Math.max(MIN_SIDE_WIDTH, Math.min(newWidth, MAX_SIDE_WIDTH)));\n      }\n    };\n\n    const onMouseUp = () => {\n      setDragging(false);\n    };\n\n    if (dragging) {\n      window.addEventListener(\"mousemove\", onMouseMove);\n      window.addEventListener(\"mouseup\", onMouseUp);\n    }\n\n    return () => {\n      window.removeEventListener(\"mousemove\", onMouseMove);\n      window.removeEventListener(\"mouseup\", onMouseUp);\n    };\n  }, [dragging]);\n\n  // Keyboard controls\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      if (e.code === \"Space\") {\n        e.preventDefault();\n        spacePressed.current = true;\n      }\n    };\n\n    const onKeyUp = (e) => {\n      if (e.code === \"Space\") {\n        spacePressed.current = false;\n        isPanning.current = false;\n      }\n    };\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    window.addEventListener(\"keyup\", onKeyUp);\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n      window.removeEventListener(\"keyup\", onKeyUp);\n    };\n  }, []);\n\n  // Mouse handlers\n  const handleMouseDown = (e) => {\n    if (e.button === 2) {\n      e.preventDefault();\n      if (selectedChar) {\n        setContextMenu({ x: e.clientX, y: e.clientY, charId: selectedChar });\n      }\n      return;\n    }\n\n    if (e.button === 1 || (e.button === 0 && spacePressed.current)) {\n      e.preventDefault();\n      isPanning.current = true;\n      return;\n    }\n\n    if (e.button === 0 && !spacePressed.current) {\n      setContextMenu(null);\n      const canvas = layerRefs.current.background;\n      const rect = canvas.getBoundingClientRect();\n      const screenX = e.clientX - rect.left;\n      const screenY = e.clientY - rect.top;\n      const world = screenToWorld(screenX, screenY);\n\n      let foundChar = null;\n      for (const char of characters) {\n        if (!isVisible(char.position.x, char.position.y)) continue;\n        const distSq =\n          (world.x - char.position.x) ** 2 + (world.y - char.position.y) ** 2;\n        if (distSq <= (char.size / 2) ** 2) {\n          foundChar = char.id;\n          break;\n        }\n      }\n      setSelectedChar(foundChar);\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    const dx = e.clientX - lastMouse.x;\n    const dy = e.clientY - lastMouse.y;\n    setLastMouse({ x: e.clientX, y: e.clientY });\n\n    if (isPanning.current) {\n      camera.current.x -= dx;\n      camera.current.y -= dy;\n    }\n  };\n\n  const handleMouseUp = () => {\n    isPanning.current = false;\n  };\n\n  const handleResizerMouseDown = (e) => {\n    e.stopPropagation();\n    setDragging(true);\n  };\n\n  const handleWheel = (e) => {\n    e.preventDefault();\n    setContextMenu(null);\n\n    const worldX = (e.clientX + camera.current.x) / camera.current.zoom;\n    const worldY = (e.clientY + camera.current.y) / camera.current.zoom;\n\n    camera.current.zoom *= e.deltaY < 0 ? ZOOM_FACTOR : 1 / ZOOM_FACTOR;\n    camera.current.zoom = Math.max(MIN_ZOOM, Math.min(camera.current.zoom, MAX_ZOOM));\n\n    camera.current.x = worldX * camera.current.zoom - e.clientX;\n    camera.current.y = worldY * camera.current.zoom - e.clientY;\n  };\n\n  const handleAction = (action) => {\n    const char = characters.find((c) => c.id === contextMenu.charId);\n    console.log(`Action \"${action}\" on character:`, char?.name);\n    setContextMenu(null);\n  };\n\n  // Render selected character info\n  const renderSelectedInfo = () => {\n    if (!selectedChar) return null;\n    const char = characters.find((c) => c.id === selectedChar);\n    if (!char) return null;\n\n    const screen = worldToScreen(char.position.x, char.position.y);\n    const isLeft = screen.x < window.innerWidth / 2;\n\n    return (\n      <div\n        className={`absolute top-4 bg-gray-800 text-white px-4 py-2 rounded shadow-lg z-50 ${\n          isLeft ? \"left-4\" : \"right-4\"\n        }`}\n        style={{ maxWidth: \"200px\" }}\n      >\n        Selected: {char.name}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <div\n        className=\"w-full h-screen relative\"\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseUp}\n        onWheel={handleWheel}\n        onContextMenu={(e) => e.preventDefault()}\n      >\n        {/* Dynamically render all canvas layers */}\n        {LAYER_CONFIG.map((layer) => (\n          <canvas\n            key={layer.name}\n            ref={(el) => (layerRefs.current[layer.name] = el)}\n            className=\"absolute inset-0 w-full h-full\"\n            style={{\n              zIndex: layer.zIndex,\n              backgroundColor: layer.name === \"background\" ? \"#1f2937\" : \"transparent\",\n            }}\n          />\n        ))}\n\n        {/* Context Menu */}\n        {contextMenu && (\n          <div\n            className=\"absolute bg-gray-800 border border-gray-600 rounded shadow-lg z-50\"\n            style={{ left: contextMenu.x, top: contextMenu.y }}\n            onMouseLeave={() => setContextMenu(null)}\n            onContextMenu={(e) => e.preventDefault()}\n          >\n            <div className=\"py-1\">\n              {[\"move\", \"attack\", \"defend\", \"skills\"].map((action) => (\n                <button\n                  key={action}\n                  onClick={() => handleAction(action)}\n                  className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\n                >\n                  <span>\n                    {action === \"move\" && \"\"}\n                    {action === \"attack\" && \"\"}\n                    {action === \"defend\" && \"\"}\n                    {action === \"skills\" && \"\"}\n                  </span>\n                  {action.charAt(0).toUpperCase() + action.slice(1)}\n                </button>\n              ))}\n              <div className=\"border-t border-gray-600 my-1\"></div>\n              <button\n                onClick={() => handleAction(\"info\")}\n                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 flex items-center gap-2\"\n              >\n                <span></span> Info\n              </button>\n            </div>\n          </div>\n        )}\n\n        {renderSelectedInfo()}\n      </div>\n\n      {/* Side Panel */}\n      <div\n        className=\"grid min-h-screen bg-gray-800 absolute top-0 right-0\"\n        style={{ gridTemplateColumns: `1fr 6px ${sideWidth}px`, zIndex: 100 }}\n      >\n        <div\n          className=\"bg-gray-700 cursor-col-resize hover:bg-gray-500 col-start-2\"\n          onMouseDown={handleResizerMouseDown}\n        />\n\n        <div className=\"bg-gray-800 p-4 overflow-y-auto\">\n          <h2 className=\"text-white text-xl font-bold mb-4\">Side Panel</h2>\n          <p className=\"text-gray-300 mb-4\">Selected: {selectedChar || \"None\"}</p>\n\n          <div className=\"space-y-4\">\n            <button\n              onClick={() => setFogEnabled(!fogEnabled)}\n              className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded\"\n            >\n              {fogEnabled ? \"Disable\" : \"Enable\"} Fog of War\n            </button>\n\n            <div className=\"text-gray-300 text-sm\">\n              <p className=\"font-semibold mb-2\">Controls:</p>\n              <ul className=\"space-y-1\">\n                <li> Left click to select</li>\n                <li> Right click for actions</li>\n                <li> Space + drag to pan</li>\n                <li> Scroll to zoom</li>\n                <li> Green = Player team</li>\n                <li> Red = Enemy team</li>\n              </ul>\n            </div>\n\n            <div className=\"text-gray-300 text-sm\">\n              <p className=\"font-semibold mb-2\">Fog of War:</p>\n              <p>Only player characters reveal the map. Enemy units are hidden in fog.</p>\n            </div>\n\n            <div className=\"text-gray-300 text-sm\">\n              <p className=\"font-semibold mb-2\">Mouse Position:</p>\n              <p>Screen: X:{Math.round(lastMouse.x)} Y:{Math.round(lastMouse.y)}</p>\n              <p>\n                World: X:{Math.round(worldMouseCoords.x)} Y:{Math.round(worldMouseCoords.y)}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Test;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8', key: '5wwlr5' }],\n  [\n    'path',\n    {\n      d: 'M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z',\n      key: '1d0kgt',\n    },\n  ],\n];\n\n/**\n * @component @name House\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMjF2LThhMSAxIDAgMCAwLTEtMWgtNGExIDEgMCAwIDAtMSAxdjgiIC8+CiAgPHBhdGggZD0iTTMgMTBhMiAyIDAgMCAxIC43MDktMS41MjhsNy01Ljk5OWEyIDIgMCAwIDEgMi41ODIgMGw3IDUuOTk5QTIgMiAwIDAgMSAyMSAxMHY5YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0yeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/house\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst House = createLucideIcon('house', __iconNode);\n\nexport default House;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm10 17 5-5-5-5', key: '1bsop3' }],\n  ['path', { d: 'M15 12H3', key: '6jk70r' }],\n  ['path', { d: 'M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4', key: 'u53s6r' }],\n];\n\n/**\n * @component @name LogIn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTAgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMTUgMTJIMyIgLz4KICA8cGF0aCBkPSJNMTUgM2g0YTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMmgtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/log-in\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogIn = createLucideIcon('log-in', __iconNode);\n\nexport default LogIn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4',\n      key: 'tonef',\n    },\n  ],\n  ['path', { d: 'M9 18c-4.51 2-5-2-7-2', key: '9comsn' }],\n];\n\n/**\n * @component @name Github\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMjJ2LTRhNC44IDQuOCAwIDAgMC0xLTMuNWMzIDAgNi0yIDYtNS41LjA4LTEuMjUtLjI3LTIuNDgtMS0zLjUuMjgtMS4xNS4yOC0yLjM1IDAtMy41IDAgMC0xIDAtMyAxLjUtMi42NC0uNS01LjM2LS41LTggMEM2IDIgNSAyIDUgMmMtLjMgMS4xNS0uMyAyLjM1IDAgMy41QTUuNDAzIDUuNDAzIDAgMCAwIDQgOWMwIDMuNSAzIDUuNSA2IDUuNS0uMzkuNDktLjY4IDEuMDUtLjg1IDEuNjUtLjE3LjYtLjIyIDEuMjMtLjE1IDEuODV2NCIgLz4KICA8cGF0aCBkPSJNOSAxOGMtNC41MSAyLTUtMi03LTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/github\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=github instead. This icon will be removed in v1.0\n */\nconst Github = createLucideIcon('github', __iconNode);\n\nexport default Github;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z',\n      key: 'c2jq9f',\n    },\n  ],\n  ['rect', { width: '4', height: '12', x: '2', y: '9', key: 'mk3on5' }],\n  ['circle', { cx: '4', cy: '4', r: '2', key: 'bt5ra8' }],\n];\n\n/**\n * @component @name Linkedin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgOGE2IDYgMCAwIDEgNiA2djdoLTR2LTdhMiAyIDAgMCAwLTItMiAyIDIgMCAwIDAtMiAydjdoLTR2LTdhNiA2IDAgMCAxIDYtNnoiIC8+CiAgPHJlY3Qgd2lkdGg9IjQiIGhlaWdodD0iMTIiIHg9IjIiIHk9IjkiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjQiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/linkedin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=linkedin instead. This icon will be removed in v1.0\n */\nconst Linkedin = createLucideIcon('linkedin', __iconNode);\n\nexport default Linkedin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import { useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Github, Linkedin, LogOut, Home, LogIn } from \"lucide-react\";\nimport { SocketContext } from \"../socket.io/context\";\nimport getImage from \"../handlers/getImage\";\n\nconst GITHUB_URL = \"https://github.com/Yisong-Lin-Coding/DnM\";\nconst LINKEDIN_URL = \"https://www.linkedin.com/in/yisong-lin-8605a3357/\";\n\nexport default function Setting() {\n  const socket = useContext(SocketContext);\n  const navigate = useNavigate();\n  const sessionID = sessionStorage.getItem(\"session_ID\");\n  const homeRoute = sessionID ? `/ISK/${sessionID}/home` : \"/\";\n  const loggedIn = Boolean(localStorage.getItem(\"player_ID\"));\n\n  const handleSignOut = () => {\n    const playerID = localStorage.getItem(\"player_ID\");\n    if (playerID) {\n      socket.emit(\"playerData_logOff\", { playerID });\n    }\n\n    localStorage.removeItem(\"player_ID\");\n    localStorage.removeItem(\"player_username\");\n    sessionStorage.removeItem(\"session_ID\");\n    sessionStorage.removeItem(\"adminPermission\");\n    sessionStorage.removeItem(\"lastLocation\");\n    navigate(\"/login\");\n  };\n\n  return (\n    <div className=\"relative min-h-screen w-full\">\n      <div\n        className=\"absolute inset-0 bg-cover bg-center\"\n        style={{ backgroundImage: `url(${getImage(\"loginpage_background\")})` }}\n      />\n\n      <div className=\"relative min-h-screen flex items-center justify-center px-4\">\n        <div className=\"w-full max-w-xl rounded-2xl border border-website-default-700 bg-website-default-900/90 p-8 text-website-neutral-50 backdrop-blur-md shadow-xl\">\n          <h1 className=\"text-2xl font-semibold\">Settings</h1>\n          <p className=\"mt-2 text-sm text-website-neutral-300\">\n            Account and navigation actions are now wired and ready to use.\n          </p>\n\n          <div className=\"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3\">\n            <Link\n              to={homeRoute}\n              className=\"inline-flex items-center justify-center gap-2 rounded-lg border border-website-default-700 bg-website-default-800 px-4 py-3 text-sm hover:bg-website-default-700\"\n            >\n              <Home className=\"size-4\" />\n              Home\n            </Link>\n\n            <Link\n              to=\"/login\"\n              className=\"inline-flex items-center justify-center gap-2 rounded-lg border border-website-default-700 bg-website-default-800 px-4 py-3 text-sm hover:bg-website-default-700\"\n            >\n              <LogIn className=\"size-4\" />\n              Login\n            </Link>\n\n            <a\n              href={GITHUB_URL}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-flex items-center justify-center gap-2 rounded-lg border border-website-default-700 bg-website-default-800 px-4 py-3 text-sm hover:bg-website-default-700\"\n            >\n              <Github className=\"size-4\" />\n              GitHub\n            </a>\n\n            <a\n              href={LINKEDIN_URL}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-flex items-center justify-center gap-2 rounded-lg border border-website-default-700 bg-website-default-800 px-4 py-3 text-sm hover:bg-website-default-700\"\n            >\n              <Linkedin className=\"size-4\" />\n              LinkedIn\n            </a>\n          </div>\n\n          <button\n            type=\"button\"\n            onClick={handleSignOut}\n            disabled={!loggedIn}\n            className=\"mt-6 inline-flex w-full items-center justify-center gap-2 rounded-lg bg-website-specials-500 px-4 py-3 text-sm font-semibold text-white transition-colors hover:bg-website-specials-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <LogOut className=\"size-4\" />\n            Sign Out\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20',\n      key: 'k3hazp',\n    },\n  ],\n];\n\n/**\n * @component @name Book\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxOS41di0xNUEyLjUgMi41IDAgMCAxIDYuNSAySDE5YTEgMSAwIDAgMSAxIDF2MThhMSAxIDAgMCAxLTEgMUg2LjVhMSAxIDAgMCAxIDAtNUgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/book\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Book = createLucideIcon('book', __iconNode);\n\nexport default Book;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 17V5a2 2 0 0 0-2-2H4', key: 'zz82l3' }],\n  [\n    'path',\n    {\n      d: 'M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3',\n      key: '1ph1d7',\n    },\n  ],\n];\n\n/**\n * @component @name Scroll\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMTdWNWEyIDIgMCAwIDAtMi0ySDQiIC8+CiAgPHBhdGggZD0iTTggMjFoMTJhMiAyIDAgMCAwIDItMnYtMWExIDEgMCAwIDAtMS0xSDExYTEgMSAwIDAgMC0xIDF2MWEyIDIgMCAxIDEtNCAwVjVhMiAyIDAgMSAwLTQgMHYyYTEgMSAwIDAgMCAxIDFoMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/scroll\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Scroll = createLucideIcon('scroll', __iconNode);\n\nexport default Scroll;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['polyline', { points: '14.5 17.5 3 6 3 3 6 3 17.5 14.5', key: '1hfsw2' }],\n  ['line', { x1: '13', x2: '19', y1: '19', y2: '13', key: '1vrmhu' }],\n  ['line', { x1: '16', x2: '20', y1: '16', y2: '20', key: '1bron3' }],\n  ['line', { x1: '19', x2: '21', y1: '21', y2: '19', key: '13pww6' }],\n];\n\n/**\n * @component @name Sword\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIxNC41IDE3LjUgMyA2IDMgMyA2IDMgMTcuNSAxNC41IiAvPgogIDxsaW5lIHgxPSIxMyIgeDI9IjE5IiB5MT0iMTkiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMTYiIHgyPSIyMCIgeTE9IjE2IiB5Mj0iMjAiIC8+CiAgPGxpbmUgeDE9IjE5IiB4Mj0iMjEiIHkxPSIyMSIgeTI9IjE5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sword\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sword = createLucideIcon('sword', __iconNode);\n\nexport default Sword;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12.5 17-.5-1-.5 1h1z', key: '3me087' }],\n  [\n    'path',\n    {\n      d: 'M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z',\n      key: '1o5pge',\n    },\n  ],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n];\n\n/**\n * @component @name Skull\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIuNSAxNy0uNS0xLS41IDFoMXoiIC8+CiAgPHBhdGggZD0iTTE1IDIyYTEgMSAwIDAgMCAxLTF2LTFhMiAyIDAgMCAwIDEuNTYtMy4yNSA4IDggMCAxIDAtMTEuMTIgMEEyIDIgMCAwIDAgOCAyMHYxYTEgMSAwIDAgMCAxIDF6IiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjEyIiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/skull\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Skull = createLucideIcon('skull', __iconNode);\n\nexport default Skull;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M3 9h18', key: '1pudct' }],\n  ['path', { d: 'M9 21V9', key: '1oto5p' }],\n];\n\n/**\n * @component @name PanelsTopLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDloMTgiIC8+CiAgPHBhdGggZD0iTTkgMjFWOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/panels-top-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PanelsTopLeft = createLucideIcon('panels-top-left', __iconNode);\n\nexport default PanelsTopLeft;\n","import { useContext } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { \n  Book, Sparkles, Shield, User, Scroll, \n  Sword, Skull, Home, Layout, LogOut \n} from 'lucide-react';\nimport { SocketContext } from \"../socket.io/context\";\n\nexport default function Header_Menu() {\n  const socket = useContext(SocketContext);\n  const navigate = useNavigate();\n  const sessionID = sessionStorage.getItem(\"session_ID\");\n\n  const sessionRoute = (path) => {\n    if (!sessionID) return \"/login\";\n    return `/ISK/${sessionID}${path}`;\n  };\n\n  const handleSignOut = () => {\n    const playerID = localStorage.getItem(\"player_ID\");\n    if (playerID) {\n      socket.emit(\"playerData_logOff\", { playerID });\n    }\n\n    localStorage.removeItem(\"player_ID\");\n    localStorage.removeItem(\"player_username\");\n    sessionStorage.removeItem(\"session_ID\");\n    sessionStorage.removeItem(\"adminPermission\");\n    sessionStorage.removeItem(\"lastLocation\");\n    navigate(\"/login\");\n  };\n\n  // Shared link styling for consistency\n  const itemClass = \"group flex items-center gap-3 text-website-neutral-100 hover:text-website-specials-400 transition-all duration-200 transform hover:translate-x-1\";\n  \n  const sectionHeader = \"text-[10px] uppercase tracking-[0.2em] text-website-neutral-400 font-bold flex items-center justify-between\";\n\n  return (\n    <div className='flex flex-col space-y-10 p-2'>\n      {/* Lookup Section */}\n      <section>\n        <h3 className={sectionHeader}>\n          Lookup\n          <span className=\"h-px flex-1 ml-4 bg-gradient-to-r from-website-specials-500/50 to-transparent\"></span>\n        </h3>\n        \n        <nav className=\"flex flex-col space-y-3 mt-4\">\n          <Link to={sessionRoute(\"/lore/classes\")} className={itemClass}>\n            <Shield size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Classes</span>\n          </Link>\n          <Link to={sessionRoute(\"/lore/backgrounds\")} className={itemClass}>\n            <User size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Backgrounds</span>\n          </Link>\n          <Link to={sessionRoute(\"/lore/races\")} className={itemClass}>\n            <Sparkles size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Races</span>\n          </Link>\n          <Link to={sessionRoute(\"/lore/spells\")} className={itemClass}>\n            <Scroll size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Spells</span>\n          </Link>\n          <Link to={sessionRoute(\"/lore/items\")} className={itemClass}>\n            <Sword size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Items</span>\n          </Link>\n          <Link to={sessionRoute(\"/lore\")} className={itemClass}>\n            <Book size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Lore</span>\n          </Link>\n          <Link to={sessionRoute(\"/lore/enemies\")} className={itemClass}>\n            <Skull size={16} className=\"text-website-specials-500 opacity-70 group-hover:opacity-100\" />\n            <span>Enemies</span>\n          </Link>\n        </nav>\n      </section>\n\n      {/* Navigation Section */}\n      <section>\n        <h3 className={sectionHeader}>\n          System\n          <span className=\"h-px flex-1 ml-4 bg-gradient-to-r from-website-specials-500/50 to-transparent\"></span>\n        </h3>\n        \n        <nav className=\"flex flex-col space-y-3 mt-4\">\n          <Link to={sessionRoute(\"/home\")} className={itemClass}>\n            <Home size={16} className=\"text-website-neutral-400 group-hover:text-website-specials-400\" />\n            <span>Home</span>\n          </Link>\n          <Link to={sessionRoute(\"/lobby\")} className={itemClass}>\n            <Layout size={16} className=\"text-website-neutral-400 group-hover:text-website-specials-400\" />\n            <span>Lobby</span>\n          </Link>\n          <Link to={sessionRoute(\"/settings\")} className={itemClass}>\n            <User size={16} className=\"text-website-neutral-400 group-hover:text-website-specials-400\" />\n            <span>Settings</span>\n          </Link>\n          <button\n            type=\"button\"\n            onClick={handleSignOut}\n            className={`${itemClass} w-full text-left text-website-specials-600 hover:text-website-specials-400 mt-4 pt-4 border-t border-website-default-800`}\n          >\n            <LogOut size={16} />\n            <span>Sign Out</span>\n          </button>\n        </nav>\n      </section>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['polyline', { points: '22 12 16 12 14 15 10 15 8 12 2 12', key: 'o97t9d' }],\n  [\n    'path',\n    {\n      d: 'M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z',\n      key: 'oot6mr',\n    },\n  ],\n];\n\n/**\n * @component @name Inbox\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiAxMiAxNiAxMiAxNCAxNSAxMCAxNSA4IDEyIDIgMTIiIC8+CiAgPHBhdGggZD0iTTUuNDUgNS4xMSAyIDEydjZhMiAyIDAgMCAwIDIgMmgxNmEyIDIgMCAwIDAgMi0ydi02bC0zLjQ1LTYuODlBMiAyIDAgMCAwIDE2Ljc2IDRINy4yNGEyIDIgMCAwIDAtMS43OSAxLjExeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/inbox\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Inbox = createLucideIcon('inbox', __iconNode);\n\nexport default Inbox;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '14sxne' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16', key: '1hlbsb' }],\n  ['path', { d: 'M16 16h5v5', key: 'ccwih5' }],\n];\n\n/**\n * @component @name RefreshCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMCAwLTktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOCIgLz4KICA8cGF0aCBkPSJNMyAzdjVoNSIgLz4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDAgOSA5IDkuNzUgOS43NSAwIDAgMCA2Ljc0LTIuNzRMMjEgMTYiIC8+CiAgPHBhdGggZD0iTTE2IDE2aDV2NSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/refresh-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCcw = createLucideIcon('refresh-ccw', __iconNode);\n\nexport default RefreshCcw;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z',\n      key: 'r04s7s',\n    },\n  ],\n];\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTI1IDIuMjk1YS41My41MyAwIDAgMSAuOTUgMGwyLjMxIDQuNjc5YTIuMTIzIDIuMTIzIDAgMCAwIDEuNTk1IDEuMTZsNS4xNjYuNzU2YS41My41MyAwIDAgMSAuMjk0LjkwNGwtMy43MzYgMy42MzhhMi4xMjMgMi4xMjMgMCAwIDAtLjYxMSAxLjg3OGwuODgyIDUuMTRhLjUzLjUzIDAgMCAxLS43NzEuNTZsLTQuNjE4LTIuNDI4YTIuMTIyIDIuMTIyIDAgMCAwLTEuOTczIDBMNi4zOTYgMjEuMDFhLjUzLjUzIDAgMCAxLS43Ny0uNTZsLjg4MS01LjEzOWEyLjEyMiAyLjEyMiAwIDAgMC0uNjExLTEuODc5TDIuMTYgOS43OTVhLjUzLjUzIDAgMCAxIC4yOTQtLjkwNmw1LjE2NS0uNzU1YTIuMTIyIDIuMTIyIDAgMCAwIDEuNTk3LTEuMTZ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('star', __iconNode);\n\nexport default Star;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551',\n      key: '1miecu',\n    },\n  ],\n];\n\n/**\n * @component @name Paperclip\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgNi04LjQxNCA4LjU4NmEyIDIgMCAwIDAgMi44MjkgMi44MjlsOC40MTQtOC41ODZhNCA0IDAgMSAwLTUuNjU3LTUuNjU3bC04LjM3OSA4LjU1MWE2IDYgMCAxIDAgOC40ODUgOC40ODVsOC4zNzktOC41NTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/paperclip\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Paperclip = createLucideIcon('paperclip', __iconNode);\n\nexport default Paperclip;\n","import { Star, Paperclip, Check } from 'lucide-react';\n\nfunction classNames(...xs) {\n  return xs.filter(Boolean).join(' ');\n}\n\nfunction getInitials(name = '') {\n  const parts = name.trim().split(/\\s+/);\n  const initials = (parts[0]?.[0] || '') + (parts[1]?.[0] || '');\n  return initials.toUpperCase() || 'U';\n}\n\nfunction formatTimestamp(input) {\n  const d = input instanceof Date ? input : new Date(input);\n  if (Number.isNaN(d.getTime())) return '';\n  const now = new Date();\n  const isToday =\n    d.getFullYear() === now.getFullYear() &&\n    d.getMonth() === now.getMonth() &&\n    d.getDate() === now.getDate();\n\n  return isToday \n    ? d.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' })\n    : d.toLocaleDateString([], { month: 'short', day: 'numeric' });\n}\n\nfunction UnreadDot({ show }) {\n  if (!show) return null;\n  return (\n    <span\n      className=\"inline-block h-2 w-2 rounded-full bg-website-specials-500 shadow-[0_0_8px_rgba(233,69,96,0.6)]\"\n      aria-label=\"Unread\"\n    />\n  );\n}\n\nexport default function Mail_Card({\n  sender = { name: 'Sender Name', email: 'sender@example.com', avatarUrl: '' },\n  subject = 'Subject summary',\n  snippet = 'Message content preview...',\n  date = new Date(),\n  unread = false,\n  flagged = false,\n  attachments = 0,\n  selected = false,\n  loading = false,\n  onClick,\n  onToggleSelect,\n}) {\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-[auto_1fr_auto] items-center gap-3 rounded-xl border border-website-default-800 bg-website-default-900/50 p-3 animate-pulse\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-5 w-5 rounded border border-website-default-700 bg-website-default-800\" />\n          <div className=\"h-10 w-10 rounded-full bg-website-default-800\" />\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"h-4 w-3/5 rounded bg-website-default-800\" />\n          <div className=\"h-3 w-4/5 rounded bg-website-default-800/50\" />\n        </div>\n        <div className=\"h-3 w-12 rounded bg-website-default-800\" />\n      </div>\n    );\n  }\n\n  const initials = getInitials(sender?.name || sender?.email);\n  const when = formatTimestamp(date);\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={onClick}\n      className={classNames(\n        'group grid grid-cols-[auto_1fr_auto] items-center gap-3 rounded-xl border p-3 transition-all duration-200 focus:outline-none',\n        selected \n          ? 'border-website-specials-500 bg-website-default-800 ring-1 ring-website-specials-500/20' \n          : 'border-website-default-800 bg-website-default-900 hover:bg-website-default-800 hover:border-website-default-700'\n      )}\n    >\n      <div className=\"flex items-center gap-3\">\n        {typeof onToggleSelect === 'function' && (\n          <button\n            type=\"button\"\n            onClick={(e) => { e.stopPropagation(); onToggleSelect(!selected); }}\n            className={classNames(\n              'flex h-5 w-5 items-center justify-center rounded border transition-colors',\n              selected\n                ? 'border-website-specials-500 bg-website-specials-500 text-white'\n                : 'border-website-default-600 bg-transparent hover:border-website-specials-500'\n            )}\n          >\n            {selected && <Check size={14} strokeWidth={3} />}\n          </button>\n        )}\n\n        <div className=\"relative h-10 w-10 shrink-0\">\n          {sender?.avatarUrl ? (\n            <img\n              src={sender.avatarUrl}\n              alt=\"avatar\"\n              className=\"h-10 w-10 rounded-full object-cover border border-website-default-700\"\n            />\n          ) : (\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-website-highlights-900 text-website-highlights-200 text-xs font-bold border border-website-highlights-700\">\n              {initials}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <span className={classNames(\n            'truncate text-sm tracking-wide',\n            unread ? 'font-bold text-website-neutral-50' : 'font-medium text-website-neutral-300'\n          )}>\n            {subject}\n          </span>\n          {flagged && <Star size={14} className=\"fill-website-specials-500 text-website-specials-500\" />}\n        </div>\n\n        <div className=\"mt-0.5 flex items-center gap-2 text-xs\">\n          <span className={unread ? 'text-website-highlights-300' : 'text-website-neutral-500'}>\n            {sender?.name || sender?.email}\n          </span>\n          <span className=\"text-website-neutral-700\"></span>\n          <span className=\"truncate text-website-neutral-500\" title={snippet}>\n            {snippet}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"flex flex-col items-end justify-between h-full py-0.5\">\n        <span className=\"text-[10px] font-medium uppercase tracking-tighter text-website-neutral-500\">\n          {when}\n        </span>\n        <div className=\"flex items-center gap-2\">\n          {attachments > 0 && <Paperclip size={12} className=\"text-website-neutral-600\" />}\n          <UnreadDot show={unread} />\n        </div>\n      </div>\n    </div>\n  );\n}","import { useCallback, useContext, useEffect, useMemo, useState } from \"react\";\nimport { Inbox, RefreshCcw, Search } from \"lucide-react\";\nimport Mail_Card from \"./mail_card\";\nimport { SocketContext } from \"../socket.io/context\";\nimport { emitWithAck } from \"../pages/campaign/socketEmit\";\n\nexport default function Header_Mail() {\n  const socket = useContext(SocketContext);\n  const playerID = localStorage.getItem(\"player_ID\");\n\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [selectedMessageID, setSelectedMessageID] = useState(\"\");\n  const [busyAction, setBusyAction] = useState(\"\");\n\n  const loadMailbox = useCallback(async ({ silent = false } = {}) => {\n    if (!socket || !playerID) {\n      setLoading(false);\n      setMessages([]);\n      setError(\"Missing player session.\");\n      return false;\n    }\n\n    if (!silent) setLoading(true);\n    const response = await emitWithAck(socket, \"mail_call\", { playerID });\n    setLoading(false);\n\n    if (!response?.success) {\n      setMessages([]);\n      setError(response?.message || \"Failed to load mailbox\");\n      return false;\n    }\n\n    setMessages(Array.isArray(response.messages) ? response.messages : []);\n    setError(\"\");\n    window.dispatchEvent(new CustomEvent(\"mailbox:updated\"));\n    return true;\n  }, [socket, playerID]);\n\n  useEffect(() => {\n    loadMailbox();\n  }, [loadMailbox]);\n\n  const unreadCount = useMemo(\n    () => messages.filter((message) => message?.unread).length,\n    [messages]\n  );\n\n  const inviteCount = useMemo(\n    () =>\n      messages.filter(\n        (message) => message?.kind === \"campaign_invite\" && message?.status === \"pending\"\n      ).length,\n    [messages]\n  );\n\n  const filteredMessages = useMemo(() => {\n    const query = searchText.trim().toLowerCase();\n    return messages.filter((message) => {\n      if (activeTab === \"unread\" && !message?.unread) return false;\n      if (activeTab === \"invites\") {\n        if (message?.kind !== \"campaign_invite\") return false;\n      }\n\n      if (!query) return true;\n\n      const sender = String(message?.from?.username || \"\").toLowerCase();\n      const subject = String(message?.subject || \"\").toLowerCase();\n      const body = String(message?.message || \"\").toLowerCase();\n      return sender.includes(query) || subject.includes(query) || body.includes(query);\n    });\n  }, [messages, activeTab, searchText]);\n\n  const markMessageRead = useCallback(\n    async (messageID) => {\n      if (!messageID || !playerID) return;\n      const response = await emitWithAck(socket, \"mail_markRead\", {\n        playerID,\n        messageID,\n      });\n      if (!response?.success) return;\n\n      setMessages((prev) =>\n        prev.map((message) =>\n          message._id === messageID ? { ...message, unread: false } : message\n        )\n      );\n    },\n    [socket, playerID]\n  );\n\n  const openMessage = useCallback(\n    (message) => {\n      if (!message?._id) return;\n      setSelectedMessageID(message._id);\n      if (message.unread) {\n        markMessageRead(message._id);\n      }\n    },\n    [markMessageRead]\n  );\n\n  const handleInviteAction = useCallback(\n    async (messageID, action) => {\n      if (!messageID || !playerID) return;\n      setBusyAction(`${action}:${messageID}`);\n      setError(\"\");\n      setStatus(\"\");\n\n      const response = await emitWithAck(socket, \"mail_respondInvite\", {\n        playerID,\n        messageID,\n        action,\n      });\n      setBusyAction(\"\");\n\n      if (!response?.success) {\n        setError(response?.message || \"Failed to update invite\");\n        return;\n      }\n\n      if (action === \"accept\") {\n        setStatus(`Joined ${response?.campaignName || \"campaign\"}.`);\n      } else {\n        setStatus(\"Invite declined.\");\n      }\n\n      await loadMailbox({ silent: true });\n      window.dispatchEvent(new CustomEvent(\"mailbox:updated\"));\n    },\n    [socket, playerID, loadMailbox]\n  );\n\n  return (\n    <div className=\"flex flex-col h-[500px] w-full font-body bg-website-default-900\">\n      <div className=\"p-4 border-b border-website-default-800 space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Inbox size={18} className=\"text-website-specials-400\" />\n            <h2 className=\"text-sm font-bold uppercase tracking-widest text-website-neutral-50\">\n              Messenger\n            </h2>\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => loadMailbox()}\n            title=\"Refresh Inbox\"\n            className=\"p-2 rounded-full bg-website-default-800 hover:bg-website-default-700 text-website-neutral-100 transition-colors\"\n          >\n            <RefreshCcw size={16} />\n          </button>\n        </div>\n\n        <div className=\"relative\">\n          <Search\n            className=\"absolute left-3 top-1/2 -translate-y-1/2 text-website-neutral-600\"\n            size={14}\n          />\n          <input\n            type=\"text\"\n            value={searchText}\n            onChange={(event) => setSearchText(event.target.value)}\n            placeholder=\"Search messages...\"\n            className=\"w-full bg-website-default-800 border border-website-default-700 rounded-lg py-1.5 pl-9 pr-3 text-xs text-website-neutral-200 placeholder:text-website-neutral-600 focus:outline-none focus:border-website-highlights-500 transition-colors\"\n          />\n        </div>\n\n        <div className=\"flex gap-4 text-[10px] uppercase font-bold tracking-wider\">\n          <button\n            type=\"button\"\n            onClick={() => setActiveTab(\"all\")}\n            className={activeTab === \"all\" ? \"text-website-specials-500\" : \"text-website-neutral-500 hover:text-website-neutral-300\"}\n          >\n            All\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => setActiveTab(\"unread\")}\n            className={activeTab === \"unread\" ? \"text-website-specials-500\" : \"text-website-neutral-500 hover:text-website-neutral-300\"}\n          >\n            Unread ({unreadCount})\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => setActiveTab(\"invites\")}\n            className={activeTab === \"invites\" ? \"text-website-specials-500\" : \"text-website-neutral-500 hover:text-website-neutral-300\"}\n          >\n            Invites ({inviteCount})\n          </button>\n        </div>\n      </div>\n\n      {(error || status) && (\n        <div className=\"px-3 pt-2 space-y-2\">\n          {error && (\n            <div className=\"rounded border border-red-500/40 bg-red-500/10 px-2 py-1 text-[11px] text-red-300\">\n              {error}\n            </div>\n          )}\n          {status && (\n            <div className=\"rounded border border-emerald-500/40 bg-emerald-500/10 px-2 py-1 text-[11px] text-emerald-300\">\n              {status}\n            </div>\n          )}\n        </div>\n      )}\n\n      <div className=\"flex-1 overflow-y-auto scrollbar-transparent p-2 space-y-2\">\n        {loading && (\n          <>\n            <Mail_Card loading />\n            <Mail_Card loading />\n            <Mail_Card loading />\n          </>\n        )}\n\n        {!loading && filteredMessages.length > 0 && filteredMessages.map((message) => {\n          const messageID = message._id;\n          const isInvite = message.kind === \"campaign_invite\";\n          const invitePending = isInvite && message.status === \"pending\";\n          const actionKeyAccept = `accept:${messageID}`;\n          const actionKeyDecline = `decline:${messageID}`;\n          const isBusy = busyAction === actionKeyAccept || busyAction === actionKeyDecline;\n\n          return (\n            <div key={messageID} className=\"space-y-1\">\n              <Mail_Card\n                unread={Boolean(message.unread)}\n                sender={{ name: message?.from?.username || \"System\" }}\n                subject={message?.subject || \"Untitled Message\"}\n                snippet={message?.snippet || message?.message || \"\"}\n                date={message?.time}\n                selected={selectedMessageID === messageID}\n                onClick={() => openMessage(message)}\n              />\n\n              {selectedMessageID === messageID && (\n                <div className=\"rounded border border-website-default-700 bg-website-default-800/40 px-2 py-2 text-xs text-website-neutral-200 whitespace-pre-wrap\">\n                  {message?.message || \"No message content.\"}\n                  {isInvite && (\n                    <div className=\"mt-2 text-[11px] text-website-neutral-400\">\n                      Campaign: {message?.payload?.campaignName || \"Unknown\"}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {isInvite && (\n                <div className=\"flex items-center justify-between gap-2 rounded border border-website-default-800 bg-website-default-900/60 px-2 py-2\">\n                  <span className=\"text-[11px] text-website-neutral-400\">\n                    Invite status: {message.status}\n                  </span>\n                  {invitePending && (\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        type=\"button\"\n                        onClick={() => handleInviteAction(messageID, \"decline\")}\n                        disabled={isBusy}\n                        className=\"rounded border border-red-500/40 bg-red-500/10 px-2 py-1 text-[11px] font-semibold text-red-300 hover:bg-red-500/20 disabled:opacity-60\"\n                      >\n                        Decline\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleInviteAction(messageID, \"accept\")}\n                        disabled={isBusy}\n                        className=\"rounded border border-emerald-500/40 bg-emerald-500/10 px-2 py-1 text-[11px] font-semibold text-emerald-300 hover:bg-emerald-500/20 disabled:opacity-60\"\n                      >\n                        Accept\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          );\n        })}\n\n        {!loading && filteredMessages.length === 0 && (\n          <div className=\"flex flex-col items-center justify-center h-full text-website-neutral-600 space-y-2 opacity-60\">\n            <Inbox size={42} strokeWidth={1} />\n            <p className=\"text-xs uppercase tracking-widest\">No messages found</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name ShieldCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+CiAgPHBhdGggZD0ibTkgMTIgMiAyIDQtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shield-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldCheck = createLucideIcon('shield-check', __iconNode);\n\nexport default ShieldCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',\n      key: '1i5ecw',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS42NzEgNC4xMzZhMi4zNCAyLjM0IDAgMCAxIDQuNjU5IDAgMi4zNCAyLjM0IDAgMCAwIDMuMzE5IDEuOTE1IDIuMzQgMi4zNCAwIDAgMSAyLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMCAwIDMuODMxIDIuMzQgMi4zNCAwIDAgMS0yLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMC0zLjMxOSAxLjkxNSAyLjM0IDIuMzQgMCAwIDEtNC42NTkgMCAyLjM0IDIuMzQgMCAwIDAtMy4zMi0xLjkxNSAyLjM0IDIuMzQgMCAwIDEtMi4zMy00LjAzMyAyLjM0IDIuMzQgMCAwIDAgMC0zLjgzMUEyLjM0IDIuMzQgMCAwIDEgNi4zNSA2LjA1MWEyLjM0IDIuMzQgMCAwIDAgMy4zMTktMS45MTUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import { useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { User, Settings, ShieldCheck, LogOut, Star } from 'lucide-react';\nimport { SocketContext } from \"../socket.io/context\";\n\nexport default function Header_PFP() {\n  const socket = useContext(SocketContext);\n  const navigate = useNavigate();\n  const sessionID = sessionStorage.getItem(\"session_ID\");\n  const isAdmin = sessionStorage.getItem(\"adminPermission\") === \"true\";\n  const displayName = localStorage.getItem(\"player_username\") || \"Adventurer\";\n\n  const user = {\n    name: displayName,\n    role: isAdmin ? \"Administrator\" : \"Player\",\n    level: isAdmin ? 99 : 1,\n    avatarUrl: null,\n  };\n\n  const sessionRoute = (path) => {\n    if (!sessionID) return \"/login\";\n    return `/ISK/${sessionID}${path}`;\n  };\n\n  const handleSignOut = () => {\n    const playerID = localStorage.getItem(\"player_ID\");\n    if (playerID) {\n      socket.emit(\"playerData_logOff\", { playerID });\n    }\n\n    localStorage.removeItem(\"player_ID\");\n    localStorage.removeItem(\"player_username\");\n    sessionStorage.removeItem(\"session_ID\");\n    sessionStorage.removeItem(\"adminPermission\");\n    sessionStorage.removeItem(\"lastLocation\");\n    navigate(\"/login\");\n  };\n\n  const actionLink = \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all duration-200 hover:bg-website-default-800 group\";\n\n  return (\n    <div className=\"flex flex-col w-full font-body\">\n      {/* User Header Section */}\n      <div className=\"flex items-center gap-4 mb-6 p-1\">\n        <div className=\"relative\">\n          <div className=\"h-12 w-12 rounded-full bg-gradient-to-tr from-website-highlights-600 to-website-specials-500 p-0.5\">\n            <div className=\"flex h-full w-full items-center justify-center rounded-full bg-website-default-900 text-lg font-bold\">\n              {user.avatarUrl ? (\n                <img src={user.avatarUrl} alt=\"avatar\" className=\"rounded-full\" />\n              ) : (\n                user.name.charAt(0).toUpperCase()\n              )}\n            </div>\n          </div>\n          {/* Online Status Glow */}\n          <span className=\"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-website-highlights-500 border-2 border-website-default-900 shadow-[0_0_8px_rgba(15,52,96,0.8)]\"></span>\n        </div>\n        \n        <div className=\"flex flex-col\">\n          <span className=\"text-sm font-bold text-website-neutral-50 leading-tight\">\n            {user.name}\n          </span>\n          <span className=\"text-[11px] text-website-highlights-400 font-medium uppercase tracking-wider\">\n            {user.role}\n          </span>\n        </div>\n      </div>\n\n      {/* Mini Stats Grid */}\n      <div className=\"grid grid-cols-2 gap-2 mb-6\">\n        <div className=\"flex flex-col items-center p-2 rounded-lg bg-website-default-800/50 border border-website-default-700\">\n          <span className=\"text-[10px] uppercase text-website-neutral-500\">Level</span>\n          <span className=\"text-sm font-bold text-website-specials-400\">{user.level}</span>\n        </div>\n        <div className=\"flex flex-col items-center p-2 rounded-lg bg-website-default-800/50 border border-website-default-700\">\n          <span className=\"text-[10px] uppercase text-website-neutral-500\">Reputation</span>\n          <span className=\"text-sm font-bold text-website-highlights-400\">98</span>\n        </div>\n      </div>\n\n      {/* Action List */}\n      <nav className=\"flex flex-col space-y-1 mb-6\">\n        <Link to={sessionRoute(\"/home\")} className={actionLink}>\n          <User size={18} className=\"text-website-neutral-500 group-hover:text-website-specials-500\" />\n          <span className=\"text-website-neutral-200 group-hover:text-website-neutral-50\">Public Profile</span>\n        </Link>\n        <Link to={sessionRoute(\"/lobby\")} className={actionLink}>\n          <ShieldCheck size={18} className=\"text-website-neutral-500 group-hover:text-website-specials-500\" />\n          <span className=\"text-website-neutral-200 group-hover:text-website-neutral-50\">Security</span>\n        </Link>\n        <Link to={sessionRoute(\"/settings\")} className={actionLink}>\n          <Settings size={18} className=\"text-website-neutral-500 group-hover:text-website-specials-500\" />\n          <span className=\"text-website-neutral-200 group-hover:text-website-neutral-50\">Settings</span>\n        </Link>\n      </nav>\n\n      {/* Footer Button */}\n      <button\n        type=\"button\"\n        onClick={handleSignOut}\n        className=\"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-website-specials-500 hover:bg-website-specials-600 text-white text-xs font-bold uppercase tracking-widest transition-colors shadow-lg shadow-website-specials-900/20\"\n      >\n        <LogOut size={14} />\n        Sign Out\n      </button>\n\n      <p className=\"mt-3 text-[10px] text-website-neutral-500 text-center uppercase tracking-widest flex items-center justify-center gap-1\">\n        <Star className=\"size-3\" />\n        Session Active\n      </p>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 12h16', key: '1lakjw' }],\n  ['path', { d: 'M4 18h16', key: '19g7jn' }],\n  ['path', { d: 'M4 6h16', key: '1o0s65' }],\n];\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmgxNiIgLz4KICA8cGF0aCBkPSJNNCAxOGgxNiIgLz4KICA8cGF0aCBkPSJNNCA2aDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('menu', __iconNode);\n\nexport default Menu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 20a6 6 0 0 0-12 0', key: '1qehca' }],\n  ['circle', { cx: '12', cy: '10', r: '4', key: '1h16sb' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name CircleUserRound\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggMjBhNiA2IDAgMCAwLTEyIDAiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMCIgcj0iNCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle-user-round\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleUserRound = createLucideIcon('circle-user-round', __iconNode);\n\nexport default CircleUserRound;\n","import { useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport Header_Menu from \"./header_menu\";\nimport Header_Mail from \"./header_mail\";\nimport Header_PFP from \"./header_pfp\";\nimport { Menu, Mail, CircleUserRound, X } from 'lucide-react';\nimport { SocketContext } from \"../socket.io/context\";\nimport { emitWithAck } from \"../pages/campaign/socketEmit\";\n\r\nexport default function Header({ className = \"\", title }) {\n  const socket = useContext(SocketContext);\n  const [openPanel, setOpenPanel] = useState(null);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const locate = useLocation();\n  const headerRef = useRef(null);\n\r\n  const isMenuOpen = openPanel === \"menu\";\r\n  const isMailOpen = openPanel === \"mail\";\r\n  const isProfileOpen = openPanel === \"profile\";\r\n\r\n  const togglePanel = (panel) => {\n    setOpenPanel((prev) => (prev === panel ? null : panel));\n  };\n\n  const refreshUnreadCount = useCallback(async () => {\n    const playerID = localStorage.getItem(\"player_ID\");\n    if (!socket || !playerID) {\n      setUnreadCount(0);\n      return;\n    }\n\n    const response = await emitWithAck(socket, \"mail_call\", { playerID });\n    if (!response?.success) return;\n    setUnreadCount(Number(response?.unreadCount) || 0);\n  }, [socket]);\n\r\n  useEffect(() => {\r\n    function onDocMouseDown(e) {\r\n      if (headerRef.current && !headerRef.current.contains(e.target)) {\r\n        setOpenPanel(null);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", onDocMouseDown);\r\n    return () => document.removeEventListener(\"mousedown\", onDocMouseDown);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function onKeyDown(e) {\r\n      if (e.key === \"Escape\") setOpenPanel(null);\r\n    }\r\n    window.addEventListener(\"keydown\", onKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\r\n  }, []);\r\n\r\n  useEffect(() => {\n    setOpenPanel(null);\n  }, [locate.key]);\n\n  useEffect(() => {\n    refreshUnreadCount();\n  }, [refreshUnreadCount, locate.key]);\n\n  useEffect(() => {\n    if (!isMailOpen) return;\n    refreshUnreadCount();\n  }, [isMailOpen, refreshUnreadCount]);\n\n  useEffect(() => {\n    const onMailboxUpdated = () => {\n      refreshUnreadCount();\n    };\n    window.addEventListener(\"mailbox:updated\", onMailboxUpdated);\n    return () => window.removeEventListener(\"mailbox:updated\", onMailboxUpdated);\n  }, [refreshUnreadCount]);\n\r\n  const pageTitle = useMemo(() => {\r\n    const path = locate?.pathname || \"/\";\r\n    const parts = path.split(\"/\").filter(Boolean);\r\n    if (parts.length === 0) return \"Home\";\r\n    const last = decodeURIComponent(parts[parts.length - 1]);\r\n    return last.charAt(0).toUpperCase() + last.slice(1);\r\n  }, [locate?.pathname]);\r\n\r\n  // Refined Popover Classes\r\n  const popoverClasses = (isOpen, side = \"left\") =>\r\n    [\r\n      \"absolute top-full bg-website-default-900/95 backdrop-blur-md shadow-2xl transition-all duration-300 border-t-2 border-website-specials-500 z-50\",\r\n      side === \"left\" ? \"left-0 border-r border-website-default-700\" : \"right-0 border-l border-website-default-700\",\r\n      isOpen\r\n        ? \"opacity-100 translate-y-0 visible\"\r\n        : \"opacity-0 -translate-y-2 invisible pointer-events-none\",\r\n    ].join(\" \");\r\n\r\n  // Shared Button Style\r\n  const btnStyle = (isActive) => \r\n    `p-4 transition-colors duration-200 hover:bg-website-default-800 flex items-center justify-center ${\r\n      isActive ? \"text-website-specials-500 bg-website-default-800\" : \"text-website-neutral-100\"\r\n    }`;\r\n\r\n  return (\r\n    <header\r\n      ref={headerRef}\r\n      className={`font-body bg-website-default-900 w-full h-16 text-white flex justify-between items-stretch sticky top-0 border-b border-website-default-700 z-50 ${className}`}\r\n    >\r\n      {/* Left: Menu */}\r\n      <div className=\"relative flex\">\r\n        <button\r\n          type=\"button\"\r\n          className={btnStyle(isMenuOpen)}\r\n          onClick={() => togglePanel(\"menu\")}\r\n          aria-expanded={isMenuOpen}\r\n        >\r\n          {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\r\n        </button>\r\n\r\n        <div className={`${popoverClasses(isMenuOpen, \"left\")} w-64 p-2`}>\r\n          <Header_Menu />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Center: Page Title */}\r\n      <div className=\"flex items-center justify-center\">\r\n        <h1 className=\"text-lg font-semibold tracking-wide uppercase text-website-neutral-50\">\r\n          {title || pageTitle}\r\n        </h1>\r\n      </div>\r\n\r\n      {/* Right: Actions */}\r\n      <div className=\"flex items-stretch\">\r\n        {/* Mail */}\r\n        <div className=\"relative flex\">\r\n          <button\r\n            type=\"button\"\r\n            className={btnStyle(isMailOpen)}\r\n            onClick={() => togglePanel(\"mail\")}\n          >\n            <div className=\"relative\">\n              <Mail size={24} />\n              {unreadCount > 0 && (\n                <span className=\"absolute -top-2 -right-2 flex h-4 min-w-4 px-1\">\n                  <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-website-specials-400 opacity-75\"></span>\n                  <span className=\"relative inline-flex rounded-full h-4 min-w-4 px-1 bg-website-specials-500 text-[10px] items-center justify-center font-bold\">\n                    {unreadCount > 9 ? \"9+\" : unreadCount}\n                  </span>\n                </span>\n              )}\n            </div>\n          </button>\n\r\n          <div className={`${popoverClasses(isMailOpen, \"right\")} w-[350px] p-4 max-h-[80vh] overflow-y-auto scrollbar-transparent`}>\r\n            <Header_Mail />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Profile */}\r\n        <div className=\"relative flex border-l border-website-default-800\">\r\n          <button\r\n            type=\"button\"\r\n            className={btnStyle(isProfileOpen)}\r\n            onClick={() => togglePanel(\"profile\")}\r\n          >\r\n            <CircleUserRound size={24} />\r\n          </button>\r\n\r\n          <div className={`${popoverClasses(isProfileOpen, \"right\")} w-64 p-4`}>\r\n            <Header_PFP />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3', key: '1u773s' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name CircleQuestionMark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOS4wOSA5YTMgMyAwIDAgMSA1LjgzIDFjMCAyLTMgMy0zIDMiIC8+CiAgPHBhdGggZD0iTTEyIDE3aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle-question-mark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleQuestionMark = createLucideIcon('circle-question-mark', __iconNode);\n\nexport default CircleQuestionMark;\n","import { Link } from \"react-router-dom\";\r\nimport { Github, Linkedin, HelpCircle, Home } from 'lucide-react';\r\n\r\nexport default function Footer({ className = \"\" }) {\r\n  const linkClass = \"flex items-center gap-2 px-4 py-1 text-website-neutral-100 hover:text-website-specials-500 transition-colors duration-200\";\r\n  \r\n  return (\r\n    <footer className={`w-full bg-website-default-900 border-t border-website-default-700 font-body py-10 px-4 ${className}`}>\r\n      <div className=\"max-w-6xl mx-auto flex flex-col items-center gap-8\">\r\n        \r\n        {/* Navigation Links */}\r\n        <nav className=\"flex flex-wrap justify-center items-center divide-x divide-website-default-700 uppercase tracking-widest text-xs font-semibold\">\r\n          <Link to=\"/\" className={linkClass}>\r\n            <Home size={14} />\r\n            Home\r\n          </Link>\r\n          \r\n          <a \r\n            href=\"https://github.com/Yisong-Lin-Coding/DnM\" \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\" \r\n            className={linkClass}\r\n          >\r\n            <HelpCircle size={14} />\r\n            Help\r\n          </a>\r\n          \r\n          <a \r\n            href=\"https://github.com/Yisong-Lin-Coding/DnM\" \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\" \r\n            className={linkClass}\r\n          >\r\n            <Github size={14} />\r\n            Github\r\n          </a>\r\n          \r\n          <a \r\n            href=\"https://www.linkedin.com/in/yisong-lin-8605a3357/\" \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\" \r\n            className={linkClass}\r\n          >\r\n            <Linkedin size={14} />\r\n            Linkedin\r\n          </a>\r\n        </nav>\r\n\r\n        {/* Separator Line */}\r\n        <div className=\"w-16 h-px bg-website-specials-500/50\" />\r\n\r\n        {/* Legal / Copyright */}\r\n        <div className=\"max-w-2xl text-center\">\r\n          <p className=\"text-website-neutral-500 text-[11px] leading-relaxed uppercase tracking-tighter opacity-80\">\r\n            All game mechanics and content from the System Reference Document are Open Game Content \r\n            under the <span className=\"text-website-neutral-300\">Open Game License v1.0a</span>. \r\n            All other content is Product Identity of <span className=\"text-website-specials-400\">Yisong Lin</span> \r\n            &copy; {new Date().getFullYear()} and may not be used without permission.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}","import Header from \"./header\"\r\nimport Footer from \"./footer\";\r\nexport default function Body({children, className=\"\"}){\r\n\r\n\r\n    return(\r\n        <div className={`grid grid-cols-[1fr_5fr_1fr] grid-rows-[auto_1fr_auto] overflow-x-hidden max-w-screen min-h-screen bg-website-default-900 text-center shadow-lg text-website-default-100  justify-center ${className}`}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nBody.Header = function BodyHeader({children, className=\"\", title}){\r\n\r\n    return(\r\n        <Header className={`col-span-3 row-start-1 ${className}`} title ={title}>\r\n      {children}\r\n    </Header>\r\n    )\r\n}\r\n\r\nBody.Left = function BodyLeft({children, className=\"\"}){\r\n\r\n    return(\r\n        <div className={`col-start-1 row-start-2 ${className}`}>{children}</div>\r\n    )\r\n}\r\n\r\nBody.Right = function BodyRight({children, className=\"\"}){\r\n    \r\n    return(\r\n        <div className={`col-start-3 row-start-2 ${className}`}>{children}</div>\r\n    )\r\n}\r\n\r\nBody.Center = function BodyCenter({children, className=\"\"}){\r\n\r\n    return(\r\n        <div className={`col-start-2 row-start-2 ${className}`}>{children}</div>\r\n    )\r\n}\r\n\r\nBody.Footer = function BodyFooter({children, className=\"\"}){\r\n\r\n    return(\r\n        <Footer className={`col-span-3 row-start-3 w-full  -mx-8 ${className}`}>{children}</Footer>\r\n    )\r\n}","import { Link, useParams } from \"react-router-dom\";\nimport {\n  Book,\n  Shield,\n  User,\n  Sparkles,\n  Scroll,\n  Sword,\n  Skull,\n  Github,\n  Linkedin,\n} from \"lucide-react\";\nimport Body from \"../../pageComponents/bodySkeleton\";\nimport Header from \"../../pageComponents/header\";\n\nconst GITHUB_URL = \"https://github.com/Yisong-Lin-Coding/DnM\";\nconst LINKEDIN_URL = \"https://www.linkedin.com/in/yisong-lin-8605a3357/\";\n\nconst TOPICS = {\n  lore: {\n    label: \"Lore\",\n    icon: Book,\n    description:\n      \"World notes, setting references, and system context for your campaigns.\",\n  },\n  classes: {\n    label: \"Classes\",\n    icon: Shield,\n    description:\n      \"Class overviews, progression notes, and playstyle references.\",\n  },\n  backgrounds: {\n    label: \"Backgrounds\",\n    icon: User,\n    description:\n      \"Character background guides and story-first templates.\",\n  },\n  races: {\n    label: \"Races\",\n    icon: Sparkles,\n    description:\n      \"Race and lineage references, traits, and feature notes.\",\n  },\n  spells: {\n    label: \"Spells\",\n    icon: Scroll,\n    description:\n      \"Spell lookup and magical rules references for play.\",\n  },\n  items: {\n    label: \"Items\",\n    icon: Sword,\n    description:\n      \"Item catalogs, equipment notes, and inventory references.\",\n  },\n  enemies: {\n    label: \"Enemies\",\n    icon: Skull,\n    description:\n      \"Enemy concepts, encounter references, and challenge ideas.\",\n  },\n};\n\nconst TOPIC_ORDER = [\"lore\", \"classes\", \"backgrounds\", \"races\", \"spells\", \"items\", \"enemies\"];\n\nexport default function LoreMenu() {\n  const { topic } = useParams();\n  const safeTopic = TOPICS[topic] ? topic : \"lore\";\n  const sessionID = sessionStorage.getItem(\"session_ID\");\n  const baseRoute = sessionID ? `/ISK/${sessionID}/lore` : \"/login\";\n  const activeTopic = TOPICS[safeTopic];\n  const ActiveIcon = activeTopic.icon;\n\n  return (\n    <Body className=\"bg-website-default-900 text-website-default-100\">\n      <Header className=\"col-span-3\" title=\"Lore Directory\" />\n      <Body.Left className=\"row-span-1 col-start-1\" />\n\n      <Body.Center className=\"row-span-1 col-start-2 min-h-screen px-6 py-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\n          {TOPIC_ORDER.map((key) => {\n            const item = TOPICS[key];\n            const Icon = item.icon;\n            const isActive = safeTopic === key;\n            const to = key === \"lore\" ? baseRoute : `${baseRoute}/${key}`;\n\n            return (\n              <Link\n                key={key}\n                to={to}\n                className={`rounded-xl border p-4 text-left transition-colors ${\n                  isActive\n                    ? \"border-website-specials-500 bg-website-specials-500/10\"\n                    : \"border-website-default-700 bg-website-default-800/60 hover:bg-website-default-800\"\n                }`}\n              >\n                <div className=\"flex items-center gap-2 text-website-neutral-50 font-semibold\">\n                  <Icon className=\"size-4\" />\n                  {item.label}\n                </div>\n                <p className=\"text-sm text-website-neutral-300 mt-2\">{item.description}</p>\n              </Link>\n            );\n          })}\n        </div>\n\n        <div className=\"mt-8 rounded-xl border border-website-default-700 bg-website-default-800/60 p-6 text-left\">\n          <div className=\"flex items-center gap-2 text-lg font-semibold text-website-neutral-50\">\n            <ActiveIcon className=\"size-5 text-website-specials-400\" />\n            {activeTopic.label}\n          </div>\n          <p className=\"mt-3 text-sm text-website-neutral-300\">\n            {activeTopic.description}\n          </p>\n          <p className=\"mt-2 text-sm text-website-neutral-400\">\n            This section is now routable and can be expanded with data-backed content next.\n          </p>\n\n          <div className=\"mt-6 flex flex-wrap gap-3\">\n            <a\n              href={GITHUB_URL}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-flex items-center gap-2 rounded-md border border-website-default-600 px-3 py-2 text-sm hover:bg-website-default-700\"\n            >\n              <Github className=\"size-4\" />\n              Project GitHub\n            </a>\n            <a\n              href={LINKEDIN_URL}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-flex items-center gap-2 rounded-md border border-website-default-600 px-3 py-2 text-sm hover:bg-website-default-700\"\n            >\n              <Linkedin className=\"size-4\" />\n              Creator LinkedIn\n            </a>\n          </div>\n        </div>\n      </Body.Center>\n\n      <Body.Right className=\"col-start-3\" />\n      <Body.Footer className=\"col-span-3\" />\n    </Body>\n  );\n}\n","import getMapImage from \"../../../handlers/getMapImage\";\n\nconst TERRAIN_ORDER = {\n  floor: 0,\n  obstacle: 2,\n  wall: 3,\n};\n\nconst TERRAIN_STYLE = {\n  floor: {\n    fillAlpha: 1,\n    strokeColor: \"#7DD3FC\",\n    lineWidth: 1.5,\n    lineDash: [6, 6],\n    labelColor: \"#7DD3FC\",\n  },\n  wall: {\n    fillAlpha: 1,\n    strokeColor: \"#FCA5A5\",\n    lineWidth: 3,\n    lineDash: [],\n    labelColor: \"#FCA5A5\",\n  },\n  obstacle: {\n    fillAlpha: 0.42,\n    strokeColor: \"#E5E7EB\",\n    lineWidth: 2,\n    lineDash: [3, 4],\n    labelColor: \"#E5E7EB\",\n  },\n};\n\nconst FLOOR_EFFECT_STYLE = {\n  fillAlpha: 0.34,\n  strokeColor: \"#FCD34D\",\n  lineWidth: 2,\n  lineDash: [4, 4],\n  labelColor: \"#FCD34D\",\n};\n\nconst RESIZE_HANDLE_RADIUS_PX = 8;\nconst HEIGHT_HANDLE_OFFSET_PX = 32;\n\nexport const clamp = (value, min, max) => Math.max(min, Math.min(max, value));\n\nexport const normalizeTerrainType = (value) => {\n  const terrainType = String(value || \"\").trim().toLowerCase();\n  if (terrainType === \"floor\" || terrainType === \"wall\" || terrainType === \"obstacle\") {\n    return terrainType;\n  }\n  return \"obstacle\";\n};\n\nconst normalizeFloorVisualType = (value) =>\n  String(value || \"\").trim().toLowerCase() === \"effect\" ? \"effect\" : \"base\";\n\nconst normalizeLightingDirection = (value = {}) => {\n  const x = clamp(Number(value?.x) || 0, -1, 1);\n  const y = clamp(Number(value?.y) || 0, -1, 1);\n  const magnitude = Math.hypot(x, y);\n  if (magnitude <= 1 || magnitude === 0) return { x, y };\n  return {\n    x: x / magnitude,\n    y: y / magnitude,\n  };\n};\n\nconst normalizeLightSourceType = (value) =>\n  String(value || \"\").trim().toLowerCase() === \"point\" ? \"point\" : \"directional\";\n\nexport const normalizeLighting = (lighting = {}) => {\n  const rawSources = Array.isArray(lighting?.sources) ? lighting.sources : [];\n  let sources = rawSources.map((entry, index) => normalizeLightingSource(entry, index));\n\n  if (sources.length === 0) {\n    if (lighting?.source && typeof lighting.source === \"object\" && !Array.isArray(lighting.source)) {\n      sources = [normalizeLightingSource(lighting.source, 0)];\n    } else {\n      sources = [normalizeLightingSource({ type: \"directional\", x: 0.5, y: -0.5 }, 0)];\n    }\n  }\n\n  return {\n    enabled:        lighting?.enabled !== false,\n    ambient:        clamp(Number(lighting?.ambient)        ?? 0.24, 0, 0.95),\n    shadowEnabled:  lighting?.shadowEnabled !== false,\n    shadowStrength: clamp(Number(lighting?.shadowStrength) ?? 0.62, 0, 1),\n    shadowSoftness: clamp(Number(lighting?.shadowSoftness) ?? 0.55, 0, 1),\n    shadowLength:   clamp(Number(lighting?.shadowLength)   ?? 0.9,  0, 2),\n    shadowBlend:    clamp(Number(lighting?.shadowBlend)    ?? 0.68, 0, 1),\n    sources,\n  };\n};\n\nconst normalizeLightingSource = (raw = {}, fallbackIndex = 0) => {\n  const source = raw && typeof raw === \"object\" && !Array.isArray(raw) ? raw : {};\n  const type = normalizeLightSourceType(source.type);\n\n  const normalized = {\n    id: String(source.id || `light_${fallbackIndex + 1}`).trim() || `light_${fallbackIndex + 1}`,\n    name:\n      String(source.name || (type === \"point\" ? `Lamp ${fallbackIndex + 1}` : `Light ${fallbackIndex + 1}`))\n        .trim() || (type === \"point\" ? `Lamp ${fallbackIndex + 1}` : `Light ${fallbackIndex + 1}`),\n    type,\n    enabled: source.enabled !== false,\n    intensity: clamp(Number(source.intensity) ?? 0.8, 0, 2),\n    blend:     clamp(Number(source.blend)     ?? 0.7, 0, 1),\n    color: String(source.color || \"#ffffff\").trim() || \"#ffffff\",\n  };\n\n  if (type === \"point\") {\n    normalized.worldX = Number(source.worldX ?? source.position?.x) || 0;\n    normalized.worldY = Number(source.worldY ?? source.position?.y) || 0;\n    normalized.range  = Math.max(10, Number(source.range) || 420);\n  } else {\n    const direction = normalizeLightingDirection({ x: source.x, y: source.y });\n    normalized.x = direction.x;\n    normalized.y = direction.y;\n  }\n\n  return normalized;\n};\n\nexport const getObjectZLevel = (obj) => Math.round(Number(obj?.zLevel) || 0);\n\nexport const getObjectElevationHeight = (obj) => Math.max(0, Number(obj?.elevationHeight) || 0);\n\nexport const getObjectRadiusLikeValue = (obj) => {\n  if (!obj) return 20;\n  if (String(obj.type || \"circle\").toLowerCase() === \"rect\") {\n    return Math.max(20, Math.max(Number(obj.width) || 0, Number(obj.height) || 0) / 2);\n  }\n  return Math.max(20, Number(obj.size) || 0);\n};\n\nexport const getObjectBoundsWorld = (obj = {}) => {\n  const objectType = String(obj?.type || \"circle\").toLowerCase();\n  const x = Number(obj?.x) || 0;\n  const y = Number(obj?.y) || 0;\n\n  if (objectType === \"rect\") {\n    const halfWidth  = Math.max(1, Number(obj?.width)  || 0) / 2;\n    const halfHeight = Math.max(1, Number(obj?.height) || 0) / 2;\n    return {\n      minX: x - halfWidth,\n      maxX: x + halfWidth,\n      minY: y - halfHeight,\n      maxY: y + halfHeight,\n    };\n  }\n\n  const radius = Math.max(1, Number(obj?.size) || 0);\n  return {\n    minX: x - radius,\n    maxX: x + radius,\n    minY: y - radius,\n    maxY: y + radius,\n  };\n};\n\nexport const worldToScreen = (camera, worldX, worldY) => ({\n  x: worldX * camera.zoom - camera.x,\n  y: worldY * camera.zoom - camera.y,\n});\n\nexport const getLowerLevelOpacity = (distance) => {\n  if (!Number.isFinite(distance) || distance <= 0) return 1;\n  return Math.max(0.1, 0.26 - (distance - 1) * 0.05);\n};\n\nconst buildFloorTypesByID = (floorTypes = []) => {\n  const byID = new Map();\n  (Array.isArray(floorTypes) ? floorTypes : []).forEach((entry) => {\n    const id = String(entry?.id || \"\").trim();\n    if (!id || byID.has(id)) return;\n    byID.set(id, entry);\n  });\n  return byID;\n};\n\nexport const resolveFloorVisualType = (obj, floorTypesByID) => {\n  if (normalizeTerrainType(obj?.terrainType) !== \"floor\") return \"base\";\n  const floorTypeID = String(obj?.floorTypeId || \"\").trim();\n  const floorType   = floorTypesByID.get(floorTypeID);\n  return normalizeFloorVisualType(floorType?.floorVisualType || floorType?.visualType);\n};\n\nconst getTerrainSortOrder = (obj, floorTypesByID) => {\n  const terrain = normalizeTerrainType(obj?.terrainType);\n  if (terrain !== \"floor\") {\n    return TERRAIN_ORDER[terrain] ?? 2;\n  }\n  const floorVisualType = resolveFloorVisualType(obj, floorTypesByID);\n  return floorVisualType === \"effect\" ? 1 : 0;\n};\n\nconst getTerrainStyle = (terrainType, floorVisualType = \"base\") => {\n  const base = TERRAIN_STYLE[terrainType] || TERRAIN_STYLE.obstacle;\n  if (terrainType === \"floor\" && floorVisualType === \"effect\") {\n    return { ...base, ...FLOOR_EFFECT_STYLE };\n  }\n  return base;\n};\n\nconst drawObjectHPBar = (ctx, obj, camera, screenX, screenY) => {\n  const maxHP = Number(obj?.maxHP);\n  const hp    = Number(obj?.hp);\n  if (!Number.isFinite(maxHP) || maxHP <= 0 || !Number.isFinite(hp)) return;\n\n  const ratio  = Math.max(0, Math.min(1, hp / maxHP));\n  const width  = Math.max(18, Math.min(72, getObjectRadiusLikeValue(obj) * camera.zoom * 1.4));\n  const height = 6;\n  const y      = screenY - getObjectRadiusLikeValue(obj) * camera.zoom - 14;\n  const x      = screenX - width / 2;\n\n  ctx.save();\n  ctx.fillStyle = \"rgba(0,0,0,0.65)\";\n  ctx.fillRect(x, y, width, height);\n  ctx.fillStyle = ratio > 0.4 ? \"#22c55e\" : ratio > 0.15 ? \"#f59e0b\" : \"#ef4444\";\n  ctx.fillRect(x, y, width * ratio, height);\n  ctx.strokeStyle = \"rgba(255,255,255,0.7)\";\n  ctx.lineWidth   = 1;\n  ctx.strokeRect(x, y, width, height);\n  ctx.restore();\n};\n\nconst MAP_IMAGE_CACHE = new Map();\n\nconst normalizeMapAssetKey = (value) =>\n  String(value || \"\")\n    .trim()\n    .toLowerCase();\n\nconst getCachedMapImage = (mapAssetKey) => {\n  const key = normalizeMapAssetKey(mapAssetKey);\n  if (!key) return null;\n\n  const existing = MAP_IMAGE_CACHE.get(key);\n  if (existing) {\n    return existing.status === \"ready\" ? existing.image : null;\n  }\n\n  const source = getMapImage(key);\n  if (!source) {\n    MAP_IMAGE_CACHE.set(key, { status: \"missing\", image: null });\n    return null;\n  }\n\n  if (typeof Image === \"undefined\") {\n    MAP_IMAGE_CACHE.set(key, { status: \"error\", image: null });\n    return null;\n  }\n\n  const image = new Image();\n  const entry = { status: \"loading\", image };\n  MAP_IMAGE_CACHE.set(key, entry);\n  image.onload  = () => { entry.status = \"ready\"; };\n  image.onerror = () => { entry.status = \"error\"; };\n  image.src = source;\n  return null;\n};\n\nconst drawRectMapImage = (ctx, obj, camera, image) => {\n  if (!image) return null;\n  const screenX = (Number(obj?.x) || 0) * camera.zoom - camera.x;\n  const screenY = (Number(obj?.y) || 0) * camera.zoom - camera.y;\n  const width   = Math.max(1, (Number(obj?.width)  || 0) * camera.zoom);\n  const height  = Math.max(1, (Number(obj?.height) || 0) * camera.zoom);\n\n  ctx.imageSmoothingEnabled = true;\n  ctx.drawImage(image, screenX - width / 2, screenY - height / 2, width, height);\n  return { screenX, screenY };\n};\n\nexport const drawShape = (ctx, obj, camera, style = {}) => {\n  const screenX    = (Number(obj?.x) || 0) * camera.zoom - camera.x;\n  const screenY    = (Number(obj?.y) || 0) * camera.zoom - camera.y;\n  const objectType = String(obj?.type || \"circle\").toLowerCase();\n  const fill       = style.fill !== false;\n  const stroke     = style.stroke !== false;\n\n  if (objectType === \"circle\") {\n    const radius = (Number(obj?.size) || 0) * camera.zoom;\n    ctx.beginPath();\n    ctx.arc(screenX, screenY, Math.max(1, radius), 0, Math.PI * 2);\n    if (fill)   ctx.fill();\n    if (stroke) ctx.stroke();\n    return { screenX, screenY };\n  }\n\n  if (objectType === \"rect\") {\n    const width  = Math.max(1, (Number(obj?.width)  || 0) * camera.zoom);\n    const height = Math.max(1, (Number(obj?.height) || 0) * camera.zoom);\n    if (fill)   ctx.fillRect(  screenX - width / 2, screenY - height / 2, width, height);\n    if (stroke) ctx.strokeRect(screenX - width / 2, screenY - height / 2, width, height);\n    return { screenX, screenY };\n  }\n\n  const size = Math.max(1, (Number(obj?.size) || 0) * camera.zoom);\n  ctx.beginPath();\n  ctx.moveTo(screenX,          screenY - size);\n  ctx.lineTo(screenX - size,   screenY + size);\n  ctx.lineTo(screenX + size,   screenY + size);\n  ctx.closePath();\n  if (fill)   ctx.fill();\n  if (stroke) ctx.stroke();\n  return { screenX, screenY };\n};\n\n\n// \n// RAY CAST SHADOW ENGINE\n// \n//\n// How it works (the simple version for a new programmer):\n//\n//   Imagine standing at a lamp in a dark room. You swing a flashlight beam\n//   360. Every time the beam hits a wall, it stops. The shape of all the\n//   lit floor  formed by those stopping points  is the \"visibility polygon.\"\n//   Everything OUTSIDE that polygon is in shadow.\n//\n//   POINT LIGHTS   full 2-D ray-cast visibility polygon.\n//\n//   DIRECTIONAL LIGHTS (sun)  \"shadow volume\" per edge: find which faces of\n//   each object point toward the sun, then extrude those edges away from the\n//   sun like a stretched shadow on the floor.\n//\n// Key terms:\n//   segment   a line from point A to point B (one wall / edge)\n//   ray       a line from the light in one direction (infinite to start)\n//   t         how far along the ray the hit is (t=0 is the light, t=1 is\n//               one \"unit\" away)\n//   angle     direction of the ray measured in radians from the right (+X)\n//   visibility polygon  the exact lit-area polygon, shaped by all the walls\n//\n// \n\n\n//  1. CONVERT OBJECTS TO LINE SEGMENTS \n//\n// Every solid object becomes a list of [A, B] edge pairs in WORLD coordinates.\n// Circles are approximated as regular N-sided polygons (the eye can't tell the\n// difference at typical zoom levels, and 16 sides is plenty).\n\n/**\n * Returns all edges of `obj` as pairs of world-space {x, y} points.\n *\n * Supports: rect, circle (approximated), triangle (and any unknown type).\n *\n * @param {object} obj\n * @param {number} [circleSegments=16]  How many polygon sides to use for circles.\n *                                      Higher = smoother but more rays to cast.\n * @returns {Array<[{x,y},{x,y}]>}\n */\nconst getObjectSegmentsWorld = (obj, circleSegments = 16) => {\n  const objectType = String(obj?.type || \"circle\").toLowerCase();\n  const cx = Number(obj?.x) || 0;\n  const cy = Number(obj?.y) || 0;\n  const segs = [];\n\n  // Helper: turn an array of corner points into closed polygon segments.\n  // e.g. [A, B, C, D]  [[A,B], [B,C], [C,D], [D,A]]\n  const buildPolySegs = (pts) => {\n    for (let i = 0; i < pts.length; i++) {\n      segs.push([pts[i], pts[(i + 1) % pts.length]]);\n    }\n  };\n\n  if (objectType === \"rect\") {\n    const hw = Math.max(1, Number(obj?.width)  || 0) / 2;\n    const hh = Math.max(1, Number(obj?.height) || 0) / 2;\n    // Corners in clockwise order (top-left  top-right  bottom-right  bottom-left).\n    // CW winding matters for the directional shadow normal calculation below.\n    buildPolySegs([\n      { x: cx - hw, y: cy - hh },\n      { x: cx + hw, y: cy - hh },\n      { x: cx + hw, y: cy + hh },\n      { x: cx - hw, y: cy + hh },\n    ]);\n    return segs;\n  }\n\n  if (objectType === \"circle\") {\n    const r = Math.max(1, Number(obj?.size) || 0);\n    const pts = [];\n    for (let i = 0; i < circleSegments; i++) {\n      const a = (i / circleSegments) * Math.PI * 2;\n      pts.push({ x: cx + Math.cos(a) * r, y: cy + Math.sin(a) * r });\n    }\n    buildPolySegs(pts);\n    return segs;\n  }\n\n  // Triangle fallback  also used for any unrecognised shape.\n  const s = Math.max(1, Number(obj?.size) || 0);\n  buildPolySegs([\n    { x: cx,     y: cy - s },\n    { x: cx - s, y: cy + s },\n    { x: cx + s, y: cy + s },\n  ]);\n  return segs;\n};\n\n\n//  2. MATHS PRIMITIVES \n\n// The 2-D cross product of two vectors (ax,ay) and (bx,by).\n//\n// Think of it as: \"how much does B veer to the left of A?\"\n//   positive  B is to the left of A\n//   negative  B is to the right\n//   zero      B is parallel to A\n//\n// We use this to solve the system of equations for ray-segment intersection.\nconst cross2d = (ax, ay, bx, by) => ax * by - ay * bx;\n\n/**\n * Finds the intersection of a ray with a line segment.\n *\n * Ray: starts at (ox, oy) and travels in direction (dx, dy).\n * Segment: runs from (ax, ay) to (bx, by).\n *\n * We parameterize both:\n *   Any point on the ray     = (ox, oy) + t * (dx, dy)   t  0\n *   Any point on the segment = (ax, ay) + u * ((bx-ax), (by-ay))   0  u  1\n *\n * Setting them equal and solving gives us t and u.\n * If both are in range  they intersect.\n *\n * @returns {number}  Parameter `t` along the ray where the hit occurs,\n *                    or `Infinity` if no intersection.\n */\nconst raySegmentT = (ox, oy, dx, dy, ax, ay, bx, by) => {\n  const rx    = bx - ax;\n  const ry    = by - ay;\n  const denom = cross2d(dx, dy, rx, ry);\n\n  // If denom  0 the ray and segment are parallel  no intersection.\n  if (Math.abs(denom) < 1e-10) return Infinity;\n\n  const tx = ax - ox;\n  const ty = ay - oy;\n\n  const t = cross2d(tx, ty, rx, ry) / denom; // distance along ray\n  const u = cross2d(tx, ty, dx, dy) / denom; // position along segment (0..1)\n\n  // t < 0 means the hit is behind the ray origin.\n  // u outside [0,1] means the hit is off the ends of the segment.\n  if (t < -1e-8 || u < -1e-8 || u > 1 + 1e-8) return Infinity;\n\n  return Math.max(0, t);\n};\n\n/**\n * Fires a ray from (ox,oy) in direction (dx,dy) and returns the world-space\n * point where it hits the nearest segment, or the `maxRange` endpoint if\n * nothing is in the way.\n *\n * Used by the visibility polygon: rays start at the light source and travel\n * outward, so every legitimate hit has t > 0.\n */\nconst castRay = (ox, oy, dx, dy, segments, maxRange) => {\n  let nearest = maxRange;\n\n  for (const [a, b] of segments) {\n    const t = raySegmentT(ox, oy, dx, dy, a.x, a.y, b.x, b.y);\n    if (t < nearest) nearest = t;\n  }\n\n  return { x: ox + dx * nearest, y: oy + dy * nearest };\n};\n\n/**\n * Like castRay but ignores hits closer than `minT`.\n *\n * Used by directional shadow clipping: the ray starts ON the surface of the\n * casting object, so its own edges register a hit at t  0.  Skipping those\n * near-zero hits means \"don't clip the shadow against the object that casts it.\"\n *\n * A minT of 0.5 world-units is large enough to clear self-hits on any wall\n * thickness we use (walls are never thinner than 1 world-unit), and small\n * enough never to skip a legitimate nearby occluder.\n *\n * @returns {number} world-space distance t to the first real occluder, or maxRange\n */\nconst castRayBeyond = (ox, oy, dx, dy, segments, maxRange, minT = 0.5) => {\n  let nearest = maxRange;\n\n  for (const [a, b] of segments) {\n    const t = raySegmentT(ox, oy, dx, dy, a.x, a.y, b.x, b.y);\n    if (t > minT && t < nearest) nearest = t;\n  }\n\n  return nearest;\n};\n\n\n//  3. COMPUTE VISIBILITY POLYGON \n//\n// This is the core of the ray-cast algorithm.\n//\n// The key insight: we only need to cast rays at CORNER ANGLES, not at every\n// degree. Between any two corners, the nearest wall doesn't change, so the\n// lit boundary is a straight line  no extra rays needed.\n//\n// We cast THREE rays per corner: one dead-on, one a hair to the left, one a\n// hair to the right. Without the offset rays, we'd miss the thin slivers of\n// light that peek through at wall edges.\n//\n// A boundary box at the light's range edge ensures every ray terminates within\n// a finite area even when it misses all obstacles.\n\n/**\n * @param {number}   lx         Light world X\n * @param {number}   ly         Light world Y\n * @param {Array}    segments   All obstacle segments: [ [{x,y},{x,y}], ... ]\n * @param {number}   range      World-unit radius\n * @param {object}   camera     { x, y, zoom }\n * @returns {Array}  Screen-space points [{x,y}], already sorted by angle,\n *                   forming the illuminated polygon.\n */\nconst computeVisibilityPolygon = (lx, ly, segments, range, camera) => {\n  const ANGLE_EPSILON = 0.0001; // radians  tiny offset to capture wall edges\n\n  //  Build a bounding box just past the light's range \n  // Every ray must hit *something*, so we add four walls at the range edge.\n  // Without this, a ray aimed into empty space would travel infinitely.\n  const pad = 2; // small extra margin so the box itself casts no visible edge\n  const bx0 = lx - range - pad;\n  const by0 = ly - range - pad;\n  const bx1 = lx + range + pad;\n  const by1 = ly + range + pad;\n\n  const boundaryCorners = [\n    { x: bx0, y: by0 }, // top-left\n    { x: bx1, y: by0 }, // top-right\n    { x: bx1, y: by1 }, // bottom-right\n    { x: bx0, y: by1 }, // bottom-left\n  ];\n  const boundarySegs = boundaryCorners.map((c, i) => [\n    c,\n    boundaryCorners[(i + 1) % 4],\n  ]);\n\n  // All segments: obstacle walls + bounding box\n  const allSegs = [...segments, ...boundarySegs];\n\n  //  Collect every corner angle \n  const angles = [];\n  for (const [a, b] of allSegs) {\n    for (const pt of [a, b]) {\n      const distSq = (pt.x - lx) ** 2 + (pt.y - ly) ** 2;\n      // Skip corners that are way beyond the light's reach (saves rays)\n      if (distSq > (range * 1.6) ** 2) continue;\n\n      const base = Math.atan2(pt.y - ly, pt.x - lx);\n      angles.push(base - ANGLE_EPSILON);\n      angles.push(base);\n      angles.push(base + ANGLE_EPSILON);\n    }\n  }\n\n  // Sort angles so we sweep around the light in order\n  angles.sort((a, b) => a - b);\n\n  //  Cast a ray at every angle \n  const zoom   = camera.zoom;\n  const camX   = camera.x;\n  const camY   = camera.y;\n\n  return angles.map((angle) => {\n    const dx  = Math.cos(angle);\n    const dy  = Math.sin(angle);\n    const hit = castRay(lx, ly, dx, dy, allSegs, range + pad);\n\n    // Convert world-space hit  screen-space for drawing\n    return {\n      angle,\n      x: hit.x * zoom - camX,\n      y: hit.y * zoom - camY,\n    };\n  });\n};\n\n\n//  4. POINT LIGHT  RAY-CAST SHADOW \n//\n// The shadow area = the light's range disc  MINUS  the visibility polygon.\n//\n// We draw both in the same canvas path and use the EVEN-ODD fill rule:\n//\n//   Sub-path 1  range circle, any winding.\n//   Sub-path 2  visibility polygon, opposite winding so even-odd treats it\n//                as a hole.\n//\n// Even-odd fill counting for any point P:\n//   P outside circle                        0 crossings  transparent  \n//   P inside circle, outside vis-poly       1 crossing   shadow       \n//   P inside circle AND inside vis-poly     2 crossings  transparent  \n//\n// CRITICAL SIZING RULE\n// \n// The circle radius and the boundary box used inside computeVisibilityPolygon\n// must agree exactly.  If the circle is even 1px larger than the vis-poly can\n// reach, that rim is never punched out  permanent ring of shadow.\n//\n// computeVisibilityPolygon clips rays at (range + BOUNDARY_PAD) world units.\n// The circle is drawn at range * zoom screen pixels.\n// Since (range + BOUNDARY_PAD) * zoom > range * zoom, the vis-poly always\n// extends a bit beyond the circle  the circle is always fully covered. \n//\n// DO NOT add any extra pixels to the circle radius.  Even \"+ 1\" will break it.\n//\n// Edge softness is applied with ctx.shadowBlur AFTER the fill so it does not\n// change the effective size of either sub-path.\n\nconst drawPointLightRaycastShadow = (\n  ctx,\n  lightSource,\n  allSegments,\n  camera,\n  lighting,\n  opacity\n) => {\n  if (!lightSource.enabled) return;\n\n  const zoom      = camera.zoom;\n  const lx        = Number(lightSource.worldX) || 0;\n  const ly        = Number(lightSource.worldY) || 0;\n  const range     = Math.max(10, Number(lightSource.range) || 420);\n  const intensity = clamp(Number(lightSource.intensity) ?? 0.8, 0, 2);\n  const blend     = clamp(Number(lightSource.blend)     ?? 0.7, 0, 1);\n\n  const visPoints = computeVisibilityPolygon(lx, ly, allSegments, range, camera);\n  if (visPoints.length < 3) return;\n\n  const shadowAlpha = clamp(\n    lighting.shadowStrength * blend * intensity * opacity * 0.78,\n    0, 0.9\n  );\n\n  // Screen-space light position.\n  // Circle radius MUST exactly match what computeVisibilityPolygon can cover.\n  const lsx         = lx * zoom - camera.x;\n  const lsy         = ly * zoom - camera.y;\n  const screenRange = range * zoom; //  no extra padding here\n\n  // Softness via shadowBlur (applied post-fill, doesn't affect path geometry)\n  const blurPx = Math.round(lighting.shadowSoftness * 6);\n\n  ctx.save();\n  ctx.fillStyle   = `rgba(0,0,0,${shadowAlpha})`;\n  if (blurPx > 0) {\n    ctx.shadowColor = `rgba(0,0,0,${shadowAlpha})`;\n    ctx.shadowBlur  = blurPx;\n  }\n\n  ctx.beginPath();\n\n  // Sub-path 1: range circle\n  ctx.arc(lsx, lsy, screenRange, 0, Math.PI * 2, false);\n\n  // Sub-path 2: visibility polygon in reverse order\n  // The winding direction is opposite to the circle so even-odd treats the\n  // overlap as empty (lit).  Reversing the sorted-by-angle array achieves this.\n  const last = visPoints[visPoints.length - 1];\n  ctx.moveTo(last.x, last.y);\n  for (let i = visPoints.length - 2; i >= 0; i--) {\n    ctx.lineTo(visPoints[i].x, visPoints[i].y);\n  }\n  ctx.closePath();\n\n  ctx.fill(\"evenodd\");\n  ctx.restore();\n};\n\n\n//  5. DIRECTIONAL LIGHT  SHADOW VOLUMES WITH WALL CLIPPING \n//\n// For a parallel-rays sun/moon, we find which edges of each solid face the\n// light (using outward normals), then extrude those edges in the shadow\n// direction to form shadow quads on the floor.\n//\n// WALL CLIPPING (the new part):\n// Before, we extruded every edge a fixed `shadowLength` and the shadow would\n// pass straight through any blocking wall.  Now, for each shadow edge endpoint\n// we cast a ray from that endpoint in the shadow direction through every OTHER\n// object's segments.  We cap the extrusion at the nearest hit so the shadow\n// stops when it reaches another wall.\n//\n//    Wall A casts shadow [ Wall B ]\n//                          shadow stops here\n//\n// The ray is cast using castRayBeyond (minT = 0.5 world-units) which skips\n// the edge's own surface.  Without that skip, the edge endpoint would\n// immediately \"hit itself\" and all shadows would have length zero.\n//\n// @param otherSegs  Segments belonging to every solid EXCEPT this one.\n//                   Must be world-space.  Built by drawRaycastShadowLayer.\n\nconst drawDirectionalShadowVolumes = (\n  ctx,\n  obj,\n  camera,\n  lightSource,\n  lighting,\n  opacity,\n  otherSegs   //  new: segments of all OTHER solids for clipping\n) => {\n  if (!lightSource.enabled) return;\n\n  const objectHeight = getObjectElevationHeight(obj) * 10;\n  if (objectHeight <= 0) return;\n\n  const zoom      = camera.zoom;\n  const lightX    = Number(lightSource.x) || 0;\n  const lightY    = Number(lightSource.y) || 0;\n  const lightTilt = clamp(Math.hypot(lightX, lightY), 0, 1);\n\n  if (lightTilt < 0.04) {\n    ctx.save();\n    ctx.fillStyle   = \"#000000\";\n    ctx.globalAlpha = clamp(\n      (objectHeight / 420) * 0.15 * opacity * lighting.shadowStrength *\n        clamp(Number(lightSource.blend) ?? 0.7, 0, 1),\n      0.01, 0.18\n    );\n    ctx.shadowColor = \"rgba(0,0,0,0.4)\";\n    ctx.shadowBlur  = Math.round(4 * lighting.shadowSoftness * zoom);\n    drawShape(ctx, obj, camera, { fill: true, stroke: false });\n    ctx.restore();\n    return;\n  }\n\n  const intensity = clamp(Number(lightSource.intensity) ?? 0.8, 0, 2);\n  const blend     = clamp(Number(lightSource.blend)     ?? 0.7, 0, 1);\n\n  // Shadow direction is away from the light (unit vector in world space)\n  const shadowDirX = -lightX / lightTilt;\n  const shadowDirY = -lightY / lightTilt;\n\n  // Maximum shadow reach in WORLD units (divide out the zoom factor)\n  const maxWorldReach =\n    objectHeight *\n    Math.pow(lightTilt, 1.2) *\n    (0.5 + intensity * 0.6) *\n    lighting.shadowLength;\n\n  const baseAlpha = clamp(\n    (objectHeight / 200) * opacity * lighting.shadowStrength * blend * lightTilt * 0.5,\n    0.02, 0.45\n  );\n\n  const blurPx = Math.round(2 + maxWorldReach * 0.03 * lighting.shadowSoftness);\n\n  const segs = getObjectSegmentsWorld(obj);\n\n  ctx.save();\n  ctx.fillStyle   = \"#000000\";\n  ctx.globalAlpha = baseAlpha;\n  if (blurPx > 0) {\n    ctx.shadowColor = \"#000000\";\n    ctx.shadowBlur  = blurPx;\n  }\n\n  for (const [a, b] of segs) {\n    // Outward normal of this edge (CW polygon  outward points away from interior)\n    //   normalX =  (B.y - A.y)\n    //   normalY = -(B.x - A.x)\n    const normalX =  (b.y - a.y);\n    const normalY = -(b.x - a.x);\n\n    // Positive dot product  this face sees the light  it casts a shadow\n    const facingLight = normalX * lightX + normalY * lightY;\n    if (facingLight <= 0) continue;\n\n    //  Clip shadow length against other walls \n    // Cast a ray from each world-space edge endpoint in the shadow direction.\n    // The ray is allowed to travel at most maxWorldReach world-units.\n    // castRayBeyond skips hits within 0.5 world-units of the start so the\n    // edge doesn't clip against its own surface.\n    const tA = (otherSegs && otherSegs.length > 0)\n      ? castRayBeyond(a.x, a.y, shadowDirX, shadowDirY, otherSegs, maxWorldReach)\n      : maxWorldReach;\n    const tB = (otherSegs && otherSegs.length > 0)\n      ? castRayBeyond(b.x, b.y, shadowDirX, shadowDirY, otherSegs, maxWorldReach)\n      : maxWorldReach;\n\n    //  Convert to screen space \n    // Edge base vertices\n    const ax = a.x * zoom - camera.x;\n    const ay = a.y * zoom - camera.y;\n    const bx = b.x * zoom - camera.x;\n    const by = b.y * zoom - camera.y;\n\n    // Extruded (shadow-tip) vertices  clamped to the nearest occluding wall\n    const ax2 = (a.x + shadowDirX * tA) * zoom - camera.x;\n    const ay2 = (a.y + shadowDirY * tA) * zoom - camera.y;\n    const bx2 = (b.x + shadowDirX * tB) * zoom - camera.x;\n    const by2 = (b.y + shadowDirY * tB) * zoom - camera.y;\n\n    // Draw the shadow quad: base-edge A  B, then shadow-tip B'  A'\n    ctx.beginPath();\n    ctx.moveTo(ax,  ay);\n    ctx.lineTo(bx,  by);\n    ctx.lineTo(bx2, by2);\n    ctx.lineTo(ax2, ay2);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  ctx.restore();\n};\n\n\n//  6. PUBLIC ENTRY POINT FOR THE SHADOW LAYER \n//\n// Call this ONCE with the complete set of solid objects for a z-level.\n// Never call per-object  ray casting and directional wall-clipping both need\n// global scene geometry.\n\nexport const drawRaycastShadowLayer = (\n  ctx,\n  allSolids,\n  camera,\n  lighting,\n  opacity = 1\n) => {\n  if (!lighting?.enabled || !lighting?.shadowEnabled) return;\n  if (!Array.isArray(lighting?.sources) || lighting.sources.length === 0) return;\n  if (!allSolids || allSolids.length === 0) return;\n\n  //  Build per-object segment arrays ONCE \n  //\n  // We need two things:\n  //   allSegments   flat list used by the point-light visibility polygon\n  //   segsByIndex   parallel array used by directional clipping, where\n  //                  segsByIndex[i] holds only the segments of allSolids[i]\n  //\n  // Keeping per-object arrays means directional shadow clipping can pass\n  // \"every segment EXCEPT this object's own\" to the ray test, preventing\n  // a wall from clipping its own shadow at the base.\n\n  const segsByIndex = allSolids.map((solid) => getObjectSegmentsWorld(solid));\n  const allSegments = segsByIndex.flat();\n\n  lighting.sources.forEach((source) => {\n    if (!source?.enabled) return;\n\n    if (source.type === \"point\") {\n      drawPointLightRaycastShadow(ctx, source, allSegments, camera, lighting, opacity);\n      return;\n    }\n\n    if (source.type === \"directional\") {\n      allSolids.forEach((solid, i) => {\n        // Build occluder list: all segments EXCEPT this solid's own.\n        // This prevents the wall from treating its own back-face as a blocker\n        // and collapsing its shadow to zero length.\n        const otherSegs = [];\n        for (let j = 0; j < segsByIndex.length; j++) {\n          if (j !== i) {\n            for (const seg of segsByIndex[j]) otherSegs.push(seg);\n          }\n        }\n        drawDirectionalShadowVolumes(ctx, solid, camera, source, lighting, opacity, otherSegs);\n      });\n    }\n  });\n};\n\n\n// \n// LEGACY PER-OBJECT SHADOW FUNCTIONS\n// \n//\n// These are kept because drawMapObject (the inline map editor renderer) calls\n// drawObjectMultiSourceShadows per-object for the immediate object preview.\n// They are NOT used by mapShadowsLayer anymore.\n//\n// Note that per-object shadows can't do proper ray casting (no global geometry\n// knowledge), so they still use the \"shadow volume\" approach for both light\n// types  which is a good approximation for the editor's needs.\n\nconst drawObjectShadowFromDirectionalLight = (ctx, obj, camera, lightSource, lighting, opacity = 1) => {\n  if (!lightSource.enabled) return;\n  const objectHeight = getObjectElevationHeight(obj) * 10;\n  if (objectHeight <= 0) return;\n  // Legacy path: no otherSegs  shadows won't clip at walls but that's\n  // acceptable for the per-object editor preview.\n  drawDirectionalShadowVolumes(ctx, obj, camera, lightSource, lighting, opacity, null);\n};\n\nconst drawObjectShadowFromPointLight = (ctx, obj, camera, lightSource, lighting, opacity = 1) => {\n  if (!lightSource.enabled) return;\n  const objectHeight = getObjectElevationHeight(obj) * 10;\n  if (objectHeight <= 0) return;\n\n  // Fallback: use directional-style shadow volume aimed away from the point light.\n  // (True ray casting requires all geometry at once, unavailable here.)\n  const zoom   = Number(camera?.zoom) || 1;\n  const objX   = Number(obj?.x)  || 0;\n  const objY   = Number(obj?.y)  || 0;\n  const lightX = Number(lightSource?.worldX) || 0;\n  const lightY = Number(lightSource?.worldY) || 0;\n  const range  = Math.max(10, Number(lightSource?.range) || 420);\n\n  const dx       = objX - lightX;\n  const dy       = objY - lightY;\n  const distance = Math.hypot(dx, dy);\n  if (distance > range) return;\n\n  const falloff   = Math.max(0, 1 - distance / range);\n  if (falloff < 0.05) return;\n\n  const intensity = clamp(Number(lightSource?.intensity) ?? 0.8, 0, 2);\n  const blend     = clamp(Number(lightSource?.blend)     ?? 0.7, 0, 1);\n  const shadowDirX = distance > 0 ? dx / distance : 0;\n  const shadowDirY = distance > 0 ? dy / distance : 0;\n  const tilt = falloff;\n\n  // Synthesize a fake directional source pointing away from the light\n  const fakeDirectional = {\n    enabled:   true,\n    x:         -shadowDirX,\n    y:         -shadowDirY,\n    intensity: intensity * falloff,\n    blend,\n  };\n\n  drawDirectionalShadowVolumes(ctx, obj, camera, fakeDirectional, lighting, opacity);\n};\n\nexport const drawObjectMultiSourceShadows = (ctx, obj, camera, lighting, opacity = 1) => {\n  if (!lighting?.enabled || !lighting?.shadowEnabled) return;\n  if (!Array.isArray(lighting?.sources) || lighting.sources.length === 0) return;\n\n  lighting.sources.forEach((lightSource) => {\n    if (!lightSource || !lightSource.enabled) return;\n    if (lightSource.type === \"directional\") {\n      drawObjectShadowFromDirectionalLight(ctx, obj, camera, lightSource, lighting, opacity);\n      return;\n    }\n    if (lightSource.type === \"point\") {\n      drawObjectShadowFromPointLight(ctx, obj, camera, lightSource, lighting, opacity);\n    }\n  });\n};\n\n\n// \n// EVERYTHING BELOW THIS LINE IS UNCHANGED FROM THE ORIGINAL FILE\n// \n\nexport const drawResizeGuides = (ctx, obj, camera) => {\n  const bounds       = getObjectBoundsWorld(obj);\n  const topLeft      = worldToScreen(camera, bounds.minX, bounds.minY);\n  const topRight     = worldToScreen(camera, bounds.maxX, bounds.minY);\n  const bottomLeft   = worldToScreen(camera, bounds.minX, bounds.maxY);\n  const bottomRight  = worldToScreen(camera, bounds.maxX, bounds.maxY);\n  const topCenter    = worldToScreen(camera, (bounds.minX + bounds.maxX) / 2, bounds.minY);\n  const heightHandle = { x: topCenter.x, y: topCenter.y - HEIGHT_HANDLE_OFFSET_PX };\n\n  ctx.save();\n  ctx.setLineDash([6, 4]);\n  ctx.strokeStyle = \"#93c5fd\";\n  ctx.lineWidth   = 1.5;\n  ctx.strokeRect(\n    topLeft.x,\n    topLeft.y,\n    Math.max(1, topRight.x   - topLeft.x),\n    Math.max(1, bottomLeft.y - topLeft.y)\n  );\n\n  ctx.setLineDash([]);\n  const cornerHandles = [topLeft, topRight, bottomRight, bottomLeft];\n  cornerHandles.forEach((handle) => {\n    ctx.beginPath();\n    ctx.fillStyle   = \"#ffffff\";\n    ctx.strokeStyle = \"#2563eb\";\n    ctx.lineWidth   = 2;\n    ctx.arc(handle.x, handle.y, RESIZE_HANDLE_RADIUS_PX, 0, Math.PI * 2);\n    ctx.fill();\n    ctx.stroke();\n  });\n\n  ctx.beginPath();\n  ctx.moveTo(topCenter.x, topCenter.y);\n  ctx.lineTo(heightHandle.x, heightHandle.y);\n  ctx.strokeStyle = \"#f59e0b\";\n  ctx.lineWidth   = 1.5;\n  ctx.stroke();\n\n  ctx.fillStyle   = \"#fbbf24\";\n  ctx.strokeStyle = \"#92400e\";\n  ctx.lineWidth   = 1.5;\n  ctx.fillRect(  heightHandle.x - 7, heightHandle.y - 7, 14, 14);\n  ctx.strokeRect(heightHandle.x - 7, heightHandle.y - 7, 14, 14);\n  ctx.restore();\n};\n\nexport const drawMapObject = (ctx, obj, camera, options = {}) => {\n  const {\n    isGhost      = false,\n    showLabel    = true,\n    baseOpacity  = 1,\n    isSelected   = false,\n    floorVisualType = \"base\",\n    lighting     = null,\n    drawShadows  = true,\n  } = options;\n  const opacity      = Math.max(0.05, Math.min(1, baseOpacity));\n  const terrainType  = normalizeTerrainType(obj?.terrainType);\n  const terrainStyle = getTerrainStyle(terrainType, floorVisualType);\n  const terrainLabel =\n    terrainType === \"floor\" && floorVisualType === \"effect\"\n      ? \"FLOOR FX\"\n      : terrainType.toUpperCase();\n  const mapAssetKey      = normalizeMapAssetKey(obj?.mapAssetKey);\n  const objectType       = String(obj?.type || \"circle\").toLowerCase();\n  const mapImage         = objectType === \"rect\" ? getCachedMapImage(mapAssetKey) : null;\n  const isMapImageObject = Boolean(mapImage);\n  const objectHeight     = Math.round(getObjectElevationHeight(obj));\n\n  ctx.save();\n\n  if (drawShadows && !isGhost && lighting) {\n    drawObjectMultiSourceShadows(ctx, obj, camera, lighting, opacity);\n  }\n\n  ctx.strokeStyle = terrainStyle.strokeColor;\n  ctx.lineWidth   = terrainStyle.lineWidth;\n  ctx.setLineDash(terrainStyle.lineDash);\n  ctx.fillStyle   = obj?.color || \"#3B82F6\";\n  ctx.globalAlpha = opacity * terrainStyle.fillAlpha;\n  const point = isMapImageObject\n    ? drawRectMapImage(ctx, obj, camera, mapImage)\n    : drawShape(ctx, obj, camera, { fill: true, stroke: false });\n  ctx.globalAlpha = opacity;\n  drawShape(ctx, obj, camera, { fill: false, stroke: true });\n\n  if (isSelected) {\n    ctx.setLineDash([]);\n    ctx.lineWidth   = Math.max(4, terrainStyle.lineWidth + 2);\n    ctx.strokeStyle = \"#FDE047\";\n    drawShape(ctx, obj, camera, { fill: false, stroke: true });\n  }\n\n  if (showLabel && point) {\n    ctx.setLineDash([]);\n    ctx.fillStyle   = terrainStyle.labelColor;\n    ctx.font        = \"12px Arial\";\n    ctx.textAlign   = \"center\";\n    ctx.globalAlpha = opacity;\n    const objectLabelType = mapAssetKey ? `MAP:${mapAssetKey}` : terrainLabel;\n    const objectLabel = `${objectLabelType} | Z:${Math.round(Number(obj?.z) || 0)} | L:${Math.round(\n      Number(obj?.zLevel) || 0\n    )} | H:${objectHeight}`;\n    ctx.fillText(\n      objectLabel,\n      point.screenX,\n      point.screenY + getObjectRadiusLikeValue(obj) * camera.zoom + 14\n    );\n  }\n\n  if (!isGhost && point) {\n    drawObjectHPBar(ctx, obj, camera, point.screenX, point.screenY);\n  }\n\n  ctx.restore();\n};\n\nexport const drawBlockedMovePreview = (ctx, obj, camera) => {\n  if (!obj || !camera) return;\n\n  const point = {\n    screenX: (Number(obj?.x) || 0) * camera.zoom - camera.x,\n    screenY: (Number(obj?.y) || 0) * camera.zoom - camera.y,\n  };\n\n  ctx.save();\n  ctx.strokeStyle = \"#ef4444\";\n  ctx.fillStyle   = \"rgba(239,68,68,0.16)\";\n  ctx.lineWidth   = 3;\n  ctx.setLineDash([8, 6]);\n  ctx.globalAlpha = 0.95;\n  drawShape(ctx, obj, camera, { fill: true, stroke: true });\n  ctx.setLineDash([]);\n  ctx.fillStyle  = \"#fecaca\";\n  ctx.font       = \"11px Arial\";\n  ctx.textAlign  = \"center\";\n  ctx.fillText(\n    \"Collision\",\n    point.screenX,\n    point.screenY - getObjectRadiusLikeValue(obj) * camera.zoom - 10\n  );\n  ctx.restore();\n};\n\nconst buildMapRenderData = (state = {}) => {\n  const mapObjects         = Array.isArray(state?.mapObjects)  ? state.mapObjects  : [];\n  const floorTypes         = Array.isArray(state?.floorTypes)  ? state.floorTypes  : [];\n  const floorTypesByID     = buildFloorTypesByID(floorTypes);\n  const currentZLevel      = Math.round(Number(state?.currentZLevel) || 0);\n  const minVisibleLowerLevel = currentZLevel >= 0 ? 0 : currentZLevel;\n  const selectedMapObjectID  = String(state?.selectedMapObjectID ?? \"\");\n\n  const sortedObjects = [...mapObjects].sort((a, b) => {\n    const levelDiff = getObjectZLevel(a) - getObjectZLevel(b);\n    if (levelDiff !== 0) return levelDiff;\n    const zDiff = (Number(a?.z) || 0) - (Number(b?.z) || 0);\n    if (zDiff !== 0) return zDiff;\n    return getTerrainSortOrder(a, floorTypesByID) - getTerrainSortOrder(b, floorTypesByID);\n  });\n\n  const lowerLevelObjects = sortedObjects.filter((obj) => {\n    const level = getObjectZLevel(obj);\n    return level < currentZLevel && level >= minVisibleLowerLevel;\n  });\n  const activeObjects = sortedObjects.filter((obj) => getObjectZLevel(obj) === currentZLevel);\n\n  const lowerLevelFloors  = lowerLevelObjects.filter(\n    (obj) => normalizeTerrainType(obj?.terrainType) === \"floor\"\n  );\n  const lowerLevelSolids  = lowerLevelObjects.filter(\n    (obj) => normalizeTerrainType(obj?.terrainType) !== \"floor\"\n  );\n  const activeFloors = activeObjects.filter((obj) => normalizeTerrainType(obj?.terrainType) === \"floor\");\n  const activeSolids = activeObjects.filter((obj) => normalizeTerrainType(obj?.terrainType) !== \"floor\");\n  const selectedActiveObject =\n    activeObjects.find((obj) => String(obj?.id ?? \"\") === selectedMapObjectID) || null;\n\n  return {\n    camera: state?.camera || null,\n    floorTypesByID,\n    currentZLevel,\n    selectedMapObjectID,\n    blockedMovePreview:  state?.blockedMovePreview  || null,\n    showResizeHandles:   Boolean(state?.showResizeHandles),\n    lowerLevelFloors,\n    lowerLevelSolids,\n    activeFloors,\n    activeSolids,\n    activeObjects,\n    selectedActiveObject,\n  };\n};\n\nexport const getMapRenderData = (state = {}, frame = null) => {\n  if (!frame || typeof frame !== \"object\") {\n    return buildMapRenderData(state);\n  }\n\n  if (!frame.cache || typeof frame.cache !== \"object\") {\n    frame.cache = {};\n  }\n\n  if (frame.cache.mapRenderData) {\n    return frame.cache.mapRenderData;\n  }\n\n  const data = buildMapRenderData(state);\n  frame.cache.mapRenderData = data;\n  return data;\n};\n\nexport const shouldRedrawMapLayer = (state, prevState, options = {}) => {\n  const {\n    includeLighting  = false,\n    includeSelection = false,\n    includeOverlay   = false,\n  } = options;\n\n  const c = state?.camera;\n  const p = prevState?.camera;\n  if (!c || !p) return true;\n\n  if (c.x !== p.x || c.y !== p.y || c.zoom !== p.zoom) return true;\n  if (state.mapObjects   !== prevState.mapObjects)   return true;\n  if (state.floorTypes   !== prevState.floorTypes)   return true;\n  if (state.currentZLevel !== prevState.currentZLevel) return true;\n\n  if (includeSelection && state.selectedMapObjectID !== prevState.selectedMapObjectID) {\n    return true;\n  }\n\n  if (includeOverlay) {\n    if (state.blockedMovePreview !== prevState.blockedMovePreview) return true;\n    if (state.showResizeHandles  !== prevState.showResizeHandles)  return true;\n  }\n\n  if (includeLighting && state.lighting !== prevState.lighting) return true;\n\n  return false;\n};","import {\n  drawMapObject,\n  getLowerLevelOpacity,\n  getMapRenderData,\n  getObjectZLevel,\n  resolveFloorVisualType,\n  shouldRedrawMapLayer,\n} from \"./mapLayerShared\";\n\nexport const mapFloorLayer = {\n  id: \"mapFloors\",\n\n  shouldRedraw(state, prevState) {\n    return shouldRedrawMapLayer(state, prevState, { includeSelection: true });\n  },\n\n  draw(ctx, canvas, state, frame) {\n    const renderData = getMapRenderData(state, frame);\n    const {\n      camera,\n      floorTypesByID,\n      currentZLevel,\n      selectedMapObjectID,\n      lowerLevelFloors,\n      activeFloors,\n    } = renderData;\n\n    if (!camera || !canvas || canvas.width === 0 || canvas.height === 0) {\n      return;\n    }\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    lowerLevelFloors.forEach((obj) => {\n      const distance = currentZLevel - getObjectZLevel(obj);\n      drawMapObject(ctx, obj, camera, {\n        isGhost: true,\n        showLabel: false,\n        baseOpacity: getLowerLevelOpacity(distance),\n        floorVisualType: resolveFloorVisualType(obj, floorTypesByID),\n        drawShadows: false,\n      });\n    });\n\n    activeFloors.forEach((obj) => {\n      drawMapObject(ctx, obj, camera, {\n        isGhost: false,\n        showLabel: true,\n        baseOpacity: 1,\n        isSelected: String(obj?.id ?? \"\") === String(selectedMapObjectID ?? \"\"),\n        floorVisualType: resolveFloorVisualType(obj, floorTypesByID),\n        drawShadows: false,\n      });\n    });\n  },\n};\n","import {\n  drawMapObject,\n  getLowerLevelOpacity,\n  getMapRenderData,\n  getObjectZLevel,\n  resolveFloorVisualType,\n  shouldRedrawMapLayer,\n} from \"./mapLayerShared\";\n\nexport const mapSolidsLayer = {\n  id: \"mapSolids\",\n\n  shouldRedraw(state, prevState) {\n    return shouldRedrawMapLayer(state, prevState, {\n      includeSelection: true,\n    });\n  },\n\n  draw(ctx, canvas, state, frame) {\n    const renderData = getMapRenderData(state, frame);\n    const {\n      camera,\n      floorTypesByID,\n      currentZLevel,\n      selectedMapObjectID,\n      lowerLevelSolids,\n      activeSolids,\n    } = renderData;\n\n    if (!camera || !canvas || canvas.width === 0 || canvas.height === 0) {\n      return;\n    }\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    lowerLevelSolids.forEach((obj) => {\n      const distance = currentZLevel - getObjectZLevel(obj);\n      drawMapObject(ctx, obj, camera, {\n        isGhost: true,\n        showLabel: false,\n        baseOpacity: getLowerLevelOpacity(distance),\n        floorVisualType: resolveFloorVisualType(obj, floorTypesByID),\n        drawShadows: false,\n      });\n    });\n\n    activeSolids.forEach((obj) => {\n      drawMapObject(ctx, obj, camera, {\n        isGhost: false,\n        showLabel: true,\n        baseOpacity: 1,\n        isSelected: String(obj?.id ?? \"\") === String(selectedMapObjectID ?? \"\"),\n        floorVisualType: resolveFloorVisualType(obj, floorTypesByID),\n        drawShadows: false,\n      });\n    });\n  },\n};\n","// Lighting layer with COLORED light support\n\nconst DEFAULT_LIGHTING = {\n  enabled: true,\n  ambient: 0.24,\n  sources: [\n    {\n      id: \"sun\",\n      type: \"directional\",\n      enabled: true,\n      x: 0.5,\n      y: -0.5,\n      intensity: 0.8,\n      blend: 0.7,\n      color: \"#ffffff\",\n    },\n  ],\n};\n\nconst clamp = (value, min, max) => Math.max(min, Math.min(max, value));\n\nconst normalizeDirectionalVector = (value = {}) => {\n  const x = clamp(Number(value?.x) || 0, -1, 1);\n  const y = clamp(Number(value?.y) || 0, -1, 1);\n  const magnitude = Math.hypot(x, y);\n  if (magnitude === 0 || magnitude <= 1) return { x, y };\n  return { x: x / magnitude, y: y / magnitude };\n};\n\nconst normalizeLightingSource = (raw = {}, fallbackIndex = 0) => {\n  const source = raw && typeof raw === \"object\" && !Array.isArray(raw) ? raw : {};\n  const type = String(source.type || \"\").trim().toLowerCase() === \"point\" ? \"point\" : \"directional\";\n\n  const normalized = {\n    id:        String(source.id   || `light_${fallbackIndex + 1}`).trim() || `light_${fallbackIndex + 1}`,\n    name:      String(source.name || `Light ${fallbackIndex + 1}`).trim() || `Light ${fallbackIndex + 1}`,\n    type,\n    enabled:   source.enabled !== false,\n    intensity: clamp(Number(source.intensity) ?? 0.8, 0, 2),\n    blend:     clamp(Number(source.blend)     ?? 0.7, 0, 1),\n    color:     String(source.color || \"#ffffff\").trim() || \"#ffffff\",\n  };\n\n  if (type === \"point\") {\n    normalized.worldX = Number(source.worldX ?? source.position?.x) || 0;\n    normalized.worldY = Number(source.worldY ?? source.position?.y) || 0;\n    normalized.range  = clamp(Number(source.range) || 420, 10, 5000);\n    return normalized;\n  }\n\n  const direction = normalizeDirectionalVector(source);\n  normalized.x = direction.x;\n  normalized.y = direction.y;\n  return normalized;\n};\n\nconst normalizeLighting = (lighting = {}) => {\n  const safe = lighting && typeof lighting === \"object\" ? lighting : {};\n  const rawSources = Array.isArray(safe.sources) ? safe.sources : [];\n  let sources = rawSources.map((entry, index) => normalizeLightingSource(entry, index));\n\n  if (sources.length === 0) {\n    if (safe.source && typeof safe.source === \"object\" && !Array.isArray(safe.source)) {\n      sources = [normalizeLightingSource(safe.source, 0)];\n    } else {\n      sources = [normalizeLightingSource({ ...DEFAULT_LIGHTING.sources[0] }, 0)];\n    }\n  }\n\n  return {\n    enabled: safe.enabled !== false,\n    ambient: clamp(Number(safe.ambient) ?? DEFAULT_LIGHTING.ambient, 0, 0.9),\n    sources,\n  };\n};\n\n// Parse hex color to RGB\nconst hexToRgb = (hex) => {\n  const normalized = String(hex || \"#ffffff\").trim();\n  const match = normalized.match(/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i);\n  if (!match) return { r: 255, g: 255, b: 255 };\n  return {\n    r: parseInt(match[1], 16),\n    g: parseInt(match[2], 16),\n    b: parseInt(match[3], 16),\n  };\n};\n\nconst drawDirectionalLightContribution = (ctx, width, height, source, ambientAlpha) => {\n  const direction = normalizeDirectionalVector(source);\n  const tilt      = clamp(Math.hypot(direction.x, direction.y), 0, 1);\n  const strength  = clamp(source.intensity * source.blend, 0, 2);\n  const rgb       = hexToRgb(source.color);\n\n  if (tilt < 0.02) {\n    const overheadLift = clamp(strength * (0.08 + ambientAlpha * 0.22), 0.01, 0.18);\n    ctx.fillStyle = `rgba(${rgb.r},${rgb.g},${rgb.b},${overheadLift})`;\n    ctx.fillRect(0, 0, width, height);\n    return;\n  }\n\n  const centerX        = width / 2;\n  const centerY        = height / 2;\n  const sourceDistance = Math.max(width, height) * (0.22 + tilt * 0.82);\n  const lightX         = centerX + direction.x * sourceDistance;\n  const lightY         = centerY + direction.y * sourceDistance;\n  const darkX          = centerX - direction.x * sourceDistance;\n  const darkY          = centerY - direction.y * sourceDistance;\n  const gradient       = ctx.createLinearGradient(lightX, lightY, darkX, darkY);\n  const maxLift        = clamp((0.1 + tilt * 0.85) * strength, 0.02, 0.9);\n\n  gradient.addColorStop(0,    `rgba(${rgb.r},${rgb.g},${rgb.b},${clamp(maxLift * 0.95, 0.01, 0.9)})`);\n  gradient.addColorStop(0.58, `rgba(${rgb.r},${rgb.g},${rgb.b},${clamp(maxLift * 0.45, 0.01, 0.7)})`);\n  gradient.addColorStop(1,    `rgba(${rgb.r},${rgb.g},${rgb.b},0)`);\n\n  ctx.fillStyle = gradient;\n  ctx.fillRect(0, 0, width, height);\n};\n\nconst drawPointLightContribution = (ctx, width, height, camera, source) => {\n  const zoom     = Number(camera?.zoom) || 1;\n  const camX     = Number(camera?.x)    || 0;\n  const camY     = Number(camera?.y)    || 0;\n  const centerX  = source.worldX * zoom - camX;\n  const centerY  = source.worldY * zoom - camY;\n  const radius   = Math.max(8, source.range * zoom);\n  const strength = clamp(source.intensity * source.blend, 0, 2);\n  const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);\n  const rgb      = hexToRgb(source.color);\n\n  gradient.addColorStop(0,    `rgba(${rgb.r},${rgb.g},${rgb.b},${clamp(0.95 * strength, 0.02, 0.95)})`);\n  gradient.addColorStop(0.62, `rgba(${rgb.r},${rgb.g},${rgb.b},${clamp(0.28 * strength, 0.01, 0.50)})`);\n  gradient.addColorStop(1,    `rgba(${rgb.r},${rgb.g},${rgb.b},0)`);\n\n  const minX = Math.max(0, centerX - radius);\n  const minY = Math.max(0, centerY - radius);\n  const boxW = Math.min(width - minX, radius * 2);\n  const boxH = Math.min(height - minY, radius * 2);\n  if (boxW <= 0 || boxH <= 0) return;\n\n  ctx.fillStyle = gradient;\n  ctx.fillRect(minX, minY, boxW, boxH);\n};\n\nexport const lightingLayer = {\n  id: \"lighting\",\n\n  shouldRedraw() {\n    return true;\n  },\n\n  draw(ctx, canvas, state) {\n    if (!ctx || !canvas || canvas.width === 0 || canvas.height === 0) return;\n\n    const width  = canvas.width;\n    const height = canvas.height;\n\n    ctx.clearRect(0, 0, width, height);\n\n    const lighting = normalizeLighting(state?.lighting || DEFAULT_LIGHTING);\n    if (!lighting.enabled) return;\n\n    const camera       = state?.camera || { x: 0, y: 0, zoom: 1 };\n    const ambientAlpha = clamp(lighting.ambient, 0, 0.9);\n\n    ctx.save();\n\n    // Base darkness\n    ctx.fillStyle = `rgba(0,0,0,${ambientAlpha})`;\n    ctx.fillRect(0, 0, width, height);\n\n    // Carve light out of darkness using destination-out, then add color with lighten\n    ctx.globalCompositeOperation = \"destination-out\";\n    lighting.sources.forEach((source) => {\n      if (!source?.enabled) return;\n      if (String(source.type) === \"point\") {\n        drawPointLightContribution(ctx, width, height, camera, source);\n        return;\n      }\n      drawDirectionalLightContribution(ctx, width, height, source, ambientAlpha);\n    });\n\n    // Now add colored light using lighten mode\n    ctx.globalCompositeOperation = \"lighten\";\n    lighting.sources.forEach((source) => {\n      if (!source?.enabled) return;\n      // Only add color if it's not white\n      const rgb = hexToRgb(source.color);\n      if (rgb.r === 255 && rgb.g === 255 && rgb.b === 255) return;\n      \n      if (String(source.type) === \"point\") {\n        const zoom     = Number(camera?.zoom) || 1;\n        const camX     = Number(camera?.x)    || 0;\n        const camY     = Number(camera?.y)    || 0;\n        const centerX  = source.worldX * zoom - camX;\n        const centerY  = source.worldY * zoom - camY;\n        const radius   = Math.max(8, source.range * zoom);\n        const strength = clamp(source.intensity * source.blend * 0.3, 0, 1);\n        const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);\n\n        gradient.addColorStop(0, `rgba(${rgb.r},${rgb.g},${rgb.b},${strength})`);\n        gradient.addColorStop(0.6, `rgba(${rgb.r},${rgb.g},${rgb.b},${strength * 0.3})`);\n        gradient.addColorStop(1, `rgba(${rgb.r},${rgb.g},${rgb.b},0)`);\n\n        const minX = Math.max(0, centerX - radius);\n        const minY = Math.max(0, centerY - radius);\n        const boxW = Math.min(width - minX, radius * 2);\n        const boxH = Math.min(height - minY, radius * 2);\n        if (boxW > 0 && boxH > 0) {\n          ctx.fillStyle = gradient;\n          ctx.fillRect(minX, minY, boxW, boxH);\n        }\n      } else {\n        // Directional colored light\n        const direction = normalizeDirectionalVector(source);\n        const tilt      = clamp(Math.hypot(direction.x, direction.y), 0, 1);\n        if (tilt < 0.02) return;\n        \n        const strength = clamp(source.intensity * source.blend * 0.2, 0, 0.4);\n        const centerX  = width / 2;\n        const centerY  = height / 2;\n        const sourceDistance = Math.max(width, height) * (0.22 + tilt * 0.82);\n        const lightX   = centerX + direction.x * sourceDistance;\n        const lightY   = centerY + direction.y * sourceDistance;\n        const darkX    = centerX - direction.x * sourceDistance;\n        const darkY    = centerY - direction.y * sourceDistance;\n        const gradient = ctx.createLinearGradient(lightX, lightY, darkX, darkY);\n\n        gradient.addColorStop(0, `rgba(${rgb.r},${rgb.g},${rgb.b},${strength})`);\n        gradient.addColorStop(0.6, `rgba(${rgb.r},${rgb.g},${rgb.b},${strength * 0.3})`);\n        gradient.addColorStop(1, `rgba(${rgb.r},${rgb.g},${rgb.b},0)`);\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, width, height);\n      }\n    });\n\n    ctx.globalCompositeOperation = \"source-over\";\n\n    // Soft vignette\n    const vignette = ctx.createRadialGradient(\n      width / 2, height / 2, Math.max(10, Math.min(width, height) * 0.22),\n      width / 2, height / 2, Math.max(width, height) * 0.95,\n    );\n    vignette.addColorStop(0, \"rgba(0,0,0,0)\");\n    vignette.addColorStop(1, `rgba(0,0,0,${clamp(ambientAlpha * 0.22, 0.02, 0.2)})`);\n    ctx.fillStyle = vignette;\n    ctx.fillRect(0, 0, width, height);\n\n    ctx.restore();\n  },\n};","import { backgroundLayer } from \"./0Background\";\nimport { mapFloorLayer } from \"./1Map\";\nimport { mapSolidsLayer } from \"./2Enviornment\";\nimport { mapShadowsLayer } from \"./3Shadows\";\nimport { gridlayer } from \"./4Grid\";\nimport { lightingLayer } from \"./7lighting\";\nimport { mapEffectsLayer } from \"./8Effects\";\n\nexport const GAME_LAYER_REGISTRY = [\n  { name: \"background\", component: backgroundLayer, zIndex: 0 },\n  { name: \"grid\", component: gridlayer, zIndex: 1 },\n  { name: \"mapFloors\", component: mapFloorLayer, zIndex: 2 },\n  { name: \"mapShadows\", component: mapShadowsLayer, zIndex: 3 },\n  { name: \"mapSolids\", component: mapSolidsLayer, zIndex: 4 },\n  { name: \"lighting\", component: lightingLayer, zIndex: 5 },\n  { name: \"mapEffects\", component: mapEffectsLayer, zIndex: 6 },\n];\n\nexport const bindLayerCanvases = (registry = [], layerRefs = {}) =>\n  (Array.isArray(registry) ? registry : []).map((entry) => {\n    const canvas = layerRefs?.[entry.name] || null;\n    return {\n      ...entry.component,\n      ctx: canvas?.getContext(\"2d\"),\n      canvas,\n    };\n  });\n","import {\n  drawRaycastShadowLayer,\n  getLowerLevelOpacity,\n  getMapRenderData,\n  getObjectZLevel,\n  normalizeLighting,\n  shouldRedrawMapLayer,\n} from \"./mapLayerShared\";\n\n// IMPORTANT  LAYER ORDER:\n// This layer MUST be registered between the floors layer and the solids\n// (environment) layer. Shadows fall on the floor and should be covered by\n// the walls/obstacles that cast them, not drawn on top of them.\n//\n// Correct order:  0Background  1Map  2Shadows  3Environment  ...\n// Wrong order:    0Background  1Map  3Environment  3Shadows  ...\n\nexport const mapShadowsLayer = {\n  id: \"mapShadows\",\n\n  shouldRedraw(state, prevState) {\n    return shouldRedrawMapLayer(state, prevState, { includeLighting: true });\n  },\n\n  draw(ctx, canvas, state, frame) {\n    // Always clear first  stale shadows from the previous frame must never persist.\n    if (!ctx || !canvas || canvas.width === 0 || canvas.height === 0) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    const renderData = getMapRenderData(state, frame);\n    const { camera, currentZLevel, lowerLevelSolids, activeSolids } = renderData;\n\n    if (!camera) return;\n\n    const lighting = normalizeLighting(state?.lighting || {});\n    if (!lighting?.enabled || !lighting?.shadowEnabled) return;\n\n    ctx.save();\n\n    //  Lower-level solids \n    //\n    // Objects on floors BELOW the current z-level cast faint shadows upward.\n    // We group them by their z-level so each group gets the right opacity.\n    //\n    // Why group by level instead of per-object?\n    //   Ray casting needs ALL geometry for a given pass so walls occlude each\n    //   other correctly. Grouping by z-level is the natural batch boundary \n    //   objects on the same level share the same light occlusion context.\n    if (lowerLevelSolids.length > 0) {\n      // Build a Map: zLevel  [solids at that level]\n      const byLevel = new Map();\n      lowerLevelSolids.forEach((obj) => {\n        const level = getObjectZLevel(obj);\n        if (!byLevel.has(level)) byLevel.set(level, []);\n        byLevel.get(level).push(obj);\n      });\n\n      byLevel.forEach((solids, level) => {\n        const distance = currentZLevel - level; // how many floors below\n        const opacity  = getLowerLevelOpacity(distance) * 0.82;\n        drawRaycastShadowLayer(ctx, solids, camera, lighting, opacity);\n      });\n    }\n\n    //  Active-level solids \n    //\n    // Objects on the current floor cast full-strength ray-cast shadows.\n    // Pass the ENTIRE activeSolids array at once  the algorithm needs global\n    // geometry so that walls properly block each other's shadows.\n    if (activeSolids.length > 0) {\n      drawRaycastShadowLayer(ctx, activeSolids, camera, lighting, 1);\n    }\n\n    ctx.restore();\n  },\n};","import {\n  drawBlockedMovePreview,\n  drawResizeGuides,\n  getMapRenderData,\n  getObjectZLevel,\n  shouldRedrawMapLayer,\n} from \"./mapLayerShared\";\n\nexport const mapEffectsLayer = {\n  id: \"mapEffects\",\n\n  shouldRedraw(state, prevState) {\n    return shouldRedrawMapLayer(state, prevState, {\n      includeSelection: true,\n      includeOverlay: true,\n    });\n  },\n\n  draw(ctx, canvas, state, frame) {\n    const renderData = getMapRenderData(state, frame);\n    const {\n      camera,\n      currentZLevel,\n      blockedMovePreview,\n      showResizeHandles,\n      selectedMapObjectID,\n      selectedActiveObject,\n    } = renderData;\n\n    if (!camera || !canvas || canvas.width === 0 || canvas.height === 0) {\n      return;\n    }\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    if (blockedMovePreview && getObjectZLevel(blockedMovePreview) === currentZLevel) {\n      drawBlockedMovePreview(ctx, blockedMovePreview, camera);\n    }\n\n    if (showResizeHandles && selectedMapObjectID && selectedActiveObject) {\n      drawResizeGuides(ctx, selectedActiveObject, camera);\n    }\n  },\n};\n","import { useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { michelangeloEngine } from \"./michelangeloEngine\";\nimport { GAME_LAYER_REGISTRY, bindLayerCanvases } from \"./Map Layers/layerRegistry\";\nimport getImage from \"../../handlers/getImage\";\nimport GameSidePanel from \"../../pageComponents/game_sidepanel\";\nimport { useGame } from \"../../data/gameContext\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { emitWithAck } from \"../campaign/socketEmit\";\n\nconst MIN_SIDE_WIDTH = 200;\nconst MAX_SIDE_WIDTH = 800;\nconst ZOOM_FACTOR = 1.1;\nconst MIN_ZOOM = 0.25;\nconst MAX_ZOOM = 4;\nconst PAN_SPEED = 13;\nconst CLICK_DRAG_THRESHOLD_PX = 6;\nconst MIN_RECT_WORLD_SIZE = 8;\nconst MIN_SHAPE_WORLD_SIZE = 4;\nconst AUTO_SAVE_DEBOUNCE_MS = 900;\nconst INFO_PANEL_WIDTH = 320;\nconst INFO_PANEL_MIN_LEFT = 12;\nconst INFO_PANEL_MIN_TOP = 12;\nconst INFO_PANEL_MAX_BOTTOM_PADDING = 120;\nconst RESIZE_HANDLE_HIT_RADIUS_PX = 15;\nconst HEIGHT_HANDLE_OFFSET_PX = 32;\n\nconst DEFAULT_MAX_HP_BY_TERRAIN = {\n    floor: 500,\n    wall: 1200,\n    obstacle: 700,\n};\n\nfunction isPointInsideTriangle(worldX, worldY, objX, objY, size) {\n    const p0 = { x: objX, y: objY - size };\n    const p1 = { x: objX - size, y: objY + size };\n    const p2 = { x: objX + size, y: objY + size };\n\n    const area = (a, b, c) => (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);\n    const p = { x: worldX, y: worldY };\n    const s1 = area(p, p0, p1);\n    const s2 = area(p, p1, p2);\n    const s3 = area(p, p2, p0);\n    const hasNeg = s1 < 0 || s2 < 0 || s3 < 0;\n    const hasPos = s1 > 0 || s2 > 0 || s3 > 0;\n    return !(hasNeg && hasPos);\n}\n\nfunction isPointInsideMapObject(worldX, worldY, obj) {\n    if (!obj) return false;\n\n    const type = String(obj?.hitbox?.type || obj.type || \"circle\").toLowerCase();\n    const hitboxScale = Math.max(0.1, Number(obj?.hitbox?.scale) || 1);\n    const x = (Number(obj.x) || 0) + (Number(obj?.hitbox?.offsetX) || 0);\n    const y = (Number(obj.y) || 0) + (Number(obj?.hitbox?.offsetY) || 0);\n\n    if (type === \"rect\") {\n        const width = Math.max(1, (Number(obj.width) || 0) * hitboxScale);\n        const height = Math.max(1, (Number(obj.height) || 0) * hitboxScale);\n        return Math.abs(worldX - x) <= width / 2 && Math.abs(worldY - y) <= height / 2;\n    }\n\n    if (type === \"triangle\") {\n        const size = Math.max(1, (Number(obj.size) || 0) * hitboxScale);\n        return isPointInsideTriangle(worldX, worldY, x, y, size);\n    }\n\n    const radius = Math.max(1, (Number(obj.size) || 0) * hitboxScale);\n    const dx = worldX - x;\n    const dy = worldY - y;\n    return dx * dx + dy * dy <= radius * radius;\n}\n\nfunction findTopMapObjectAt(worldX, worldY, mapObjects = []) {\n    const terrainPriority = (terrainType) => {\n        const terrain = String(terrainType || \"\").toLowerCase();\n        if (terrain === \"obstacle\") return 3;\n        if (terrain === \"wall\") return 2;\n        if (terrain === \"floor\") return 1;\n        return 0;\n    };\n    const sorted = [...mapObjects].sort((a, b) => {\n        const zDiff = (Number(b?.z) || 0) - (Number(a?.z) || 0);\n        if (zDiff !== 0) return zDiff;\n        return terrainPriority(b?.terrainType) - terrainPriority(a?.terrainType);\n    });\n    return sorted.find((obj) => isPointInsideMapObject(worldX, worldY, obj)) || null;\n}\n\nfunction toEntityID(value) {\n    return String(value ?? \"\").trim();\n}\n\nfunction isSameEntity(a, b) {\n    if (!a || !b) return false;\n    return String(a.type || \"\") === String(b.type || \"\") && toEntityID(a.id) === toEntityID(b.id);\n}\n\nfunction getObjectZLevel(obj) {\n    return Math.round(Number(obj?.zLevel) || 0);\n}\n\nfunction getMapObjectBounds(obj) {\n    const objectType = String(obj?.type || \"circle\").toLowerCase();\n    const x = Number(obj?.x) || 0;\n    const y = Number(obj?.y) || 0;\n\n    if (objectType === \"rect\") {\n        const halfWidth = Math.max(1, Number(obj?.width) || 0) / 2;\n        const halfHeight = Math.max(1, Number(obj?.height) || 0) / 2;\n        return {\n            minX: x - halfWidth,\n            maxX: x + halfWidth,\n            minY: y - halfHeight,\n            maxY: y + halfHeight,\n        };\n    }\n\n    const radius = Math.max(1, Number(obj?.size) || 0);\n    return {\n        minX: x - radius,\n        maxX: x + radius,\n        minY: y - radius,\n        maxY: y + radius,\n    };\n}\n\nfunction doBoundsOverlap(a, b) {\n    return a.minX < b.maxX && a.maxX > b.minX && a.minY < b.maxY && a.maxY > b.minY;\n}\n\nfunction isWallObject(obj) {\n    return String(obj?.terrainType || \"\").trim().toLowerCase() === \"wall\";\n}\n\nfunction wouldWallOverlapAtPosition(candidate, objects = [], ignoreId = null) {\n    if (!isWallObject(candidate)) return false;\n\n    const candidateBounds = getMapObjectBounds(candidate);\n    const candidateLevel = getObjectZLevel(candidate);\n    const ignoreKey = ignoreId == null ? \"\" : toEntityID(ignoreId);\n\n    return (Array.isArray(objects) ? objects : []).some((obj) => {\n        if (!isWallObject(obj)) return false;\n        if (getObjectZLevel(obj) !== candidateLevel) return false;\n        if (ignoreKey && toEntityID(obj?.id) === ignoreKey) return false;\n        return doBoundsOverlap(candidateBounds, getMapObjectBounds(obj));\n    });\n}\n\nfunction worldToScreenWithCamera(cameraSnapshot, worldX, worldY) {\n    return {\n        x: worldX * cameraSnapshot.zoom - cameraSnapshot.x,\n        y: worldY * cameraSnapshot.zoom - cameraSnapshot.y,\n    };\n}\n\nfunction buildResizeHandlesForObject(obj, cameraSnapshot) {\n    if (!obj || !cameraSnapshot) return [];\n    const bounds = getMapObjectBounds(obj);\n    const topLeft = worldToScreenWithCamera(cameraSnapshot, bounds.minX, bounds.minY);\n    const topRight = worldToScreenWithCamera(cameraSnapshot, bounds.maxX, bounds.minY);\n    const bottomRight = worldToScreenWithCamera(cameraSnapshot, bounds.maxX, bounds.maxY);\n    const bottomLeft = worldToScreenWithCamera(cameraSnapshot, bounds.minX, bounds.maxY);\n    const topCenter = worldToScreenWithCamera(\n        cameraSnapshot,\n        (bounds.minX + bounds.maxX) / 2,\n        bounds.minY\n    );\n\n    return [\n        { id: \"nw\", x: topLeft.x, y: topLeft.y },\n        { id: \"ne\", x: topRight.x, y: topRight.y },\n        { id: \"se\", x: bottomRight.x, y: bottomRight.y },\n        { id: \"sw\", x: bottomLeft.x, y: bottomLeft.y },\n        { id: \"height\", x: topCenter.x, y: topCenter.y - HEIGHT_HANDLE_OFFSET_PX },\n    ];\n}\n\nfunction findResizeHandleAtScreenPoint(screenX, screenY, handles = []) {\n    return handles.find((handle) => {\n        const dx = screenX - handle.x;\n        const dy = screenY - handle.y;\n        return dx * dx + dy * dy <= RESIZE_HANDLE_HIT_RADIUS_PX * RESIZE_HANDLE_HIT_RADIUS_PX;\n    }) || null;\n}\n\nfunction getResizeAnchorForHandle(handleID, bounds) {\n    if (!bounds) return null;\n    if (handleID === \"nw\") return { x: bounds.maxX, y: bounds.maxY };\n    if (handleID === \"ne\") return { x: bounds.minX, y: bounds.maxY };\n    if (handleID === \"se\") return { x: bounds.minX, y: bounds.minY };\n    if (handleID === \"sw\") return { x: bounds.maxX, y: bounds.minY };\n    return null;\n}\n\nfunction isTypingTarget(target) {\n    if (!target || typeof target !== \"object\") return false;\n    const tag = String(target.tagName || \"\").toUpperCase();\n    if (tag === \"INPUT\" || tag === \"TEXTAREA\" || tag === \"SELECT\") return true;\n    return Boolean(target.isContentEditable);\n}\n\nfunction resolveDMPermission(response, playerID) {\n    const explicitPermission = response?.permissions?.isDM;\n    if (typeof explicitPermission === \"boolean\") return explicitPermission;\n    if (typeof explicitPermission === \"string\") {\n        const normalized = explicitPermission.trim().toLowerCase();\n        if (normalized === \"true\") return true;\n        if (normalized === \"false\") return false;\n    }\n\n    const dmID = String(response?.campaign?.dmId || \"\").trim();\n    const normalizedPlayerID = String(playerID || \"\").trim();\n    return Boolean(dmID && normalizedPlayerID && dmID === normalizedPlayerID);\n}\n\nfunction buildPlacementFromDrag(placementConfig, startWorld, endWorld) {\n    const type = String(placementConfig?.type || \"circle\").toLowerCase();\n    const centerX = (startWorld.x + endWorld.x) / 2;\n    const centerY = (startWorld.y + endWorld.y) / 2;\n    const deltaX = Math.abs(endWorld.x - startWorld.x);\n    const deltaY = Math.abs(endWorld.y - startWorld.y);\n\n    if (type === \"rect\") {\n        return {\n            x: Math.round(centerX),\n            y: Math.round(centerY),\n            overrides: {\n                width: Math.max(MIN_RECT_WORLD_SIZE, Math.round(deltaX)),\n                height: Math.max(MIN_RECT_WORLD_SIZE, Math.round(deltaY)),\n            },\n        };\n    }\n\n    const size = Math.max(MIN_SHAPE_WORLD_SIZE, Math.round(Math.max(deltaX, deltaY) / 2));\n    return {\n        x: Math.round(centerX),\n        y: Math.round(centerY),\n        overrides: { size },\n    };\n}\n\nfunction GameComponent() {\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n    const { gameID, sessionID } = useParams();\n    const playerID = localStorage.getItem(\"player_ID\");\n\n    const safeSessionID = sessionID || sessionStorage.getItem(\"session_ID\") || \"default\";\n\n    const {\n    selectedChar,\n    selectCharacter,\n    fogEnabled,\n    characters,\n    lastMouse,\n    setLastMouse,\n    camera,\n    handleCharacterAction,\n    mapObjects,\n    addMapObject,\n    updateMapObject,\n    deleteMapObject,\n    updateCharacter,\n    moveCharacter,\n    isDM,\n    setIsDM,\n    backgroundKey,\n    floorTypes,\n    replaceFloorTypes,\n    lighting,\n    currentZLevel,\n    stepZLevelUp,\n    stepZLevelDown,\n    mapObjectPlacement,\n    clearMapObjectPlacement,\n    placePendingMapObjectAt,\n    lightPlacement,        // ADD THIS\n    placeLightAt,          // ADD THIS\n    clearLightPlacement,   // ADD THIS\n    loadGameSnapshot,\n    } = useGame();\n\n    const [sideWidth, setSideWidth] = useState(320);\n    const [dragging, setDragging] = useState(false);\n    const [contextMenu, setContextMenu] = useState(null);\n    const [selectedEntity, setSelectedEntity] = useState(null);\n    const [dragTarget, setDragTarget] = useState(null);\n    const [gameContextError, setGameContextError] = useState(\"\");\n    const [loadingGameContext, setLoadingGameContext] = useState(true);\n    const [placementDrag, setPlacementDrag] = useState(null);\n    const [autoSaveStatus, setAutoSaveStatus] = useState(\"\");\n    const [turnNumber, setTurnNumber] = useState(1);\n    const [infoPanelPosition, setInfoPanelPosition] = useState(null);\n    const [infoPanelDrag, setInfoPanelDrag] = useState(null);\n    const [blockedMovePreview, setBlockedMovePreview] = useState(null);\n    const [resizeTarget, setResizeTarget] = useState(null);\n\n    const isPanning = useRef(false);\n    const layerRefs = useRef({});\n    const layerBindingsRef = useRef([]);\n    const prevStateRef = useRef(null);\n    const applyingServerStateRef = useRef(false);\n    const skipNextAutoSaveRef = useRef(false);\n    const syncingWorldRef = useRef(false);\n    const autoSavingRef = useRef(false);\n    const autoSaveTimerRef = useRef(null);\n    const hasAutoSaveBaselineRef = useRef(false);\n    const latestSnapshotRef = useRef({\n        mapObjects: [],\n        backgroundKey: \"\",\n        characters: [],\n        floorTypes: [],\n        currentZLevel: 0,\n        lighting: null,\n    });\n    const keysPressed = useRef({\n        KeyW: false,\n        KeyA: false,\n        KeyS: false,\n        KeyD: false,\n        KeyQ: false,\n        KeyE: false,\n    });\n\n    const runAutoSave = useCallback(\n        async (trigger = \"map_change\") => {\n            if (!socket || !playerID || !gameID || !isDM || loadingGameContext) return;\n            if (autoSavingRef.current) return;\n\n            autoSavingRef.current = true;\n            const now = new Date();\n            const snapshotSource = latestSnapshotRef.current || {};\n            const triggerLabel = trigger === \"turn_done\" ? \"turn end\" : \"map change\";\n\n            const response = await emitWithAck(socket, \"campaign_saveGame\", {\n                playerID,\n                campaignID: gameID,\n                name: `Auto Save ${now.toLocaleString()}`,\n                description: \"Automatic save from active game session\",\n                snapshot: {\n                    mapObjects: Array.isArray(snapshotSource.mapObjects)\n                        ? snapshotSource.mapObjects\n                        : [],\n                    backgroundKey: String(snapshotSource.backgroundKey || \"\"),\n                    characters: Array.isArray(snapshotSource.characters)\n                        ? snapshotSource.characters\n                        : [],\n                    currentZLevel: Number(snapshotSource.currentZLevel) || 0,\n                    floorTypes: Array.isArray(snapshotSource.floorTypes)\n                        ? snapshotSource.floorTypes\n                        : [],\n                    lighting:\n                        snapshotSource.lighting && typeof snapshotSource.lighting === \"object\"\n                            ? snapshotSource.lighting\n                            : undefined,\n                },\n                metadata: {\n                    source: \"autosave\",\n                    trigger,\n                },\n                makeActive: true,\n                isAutoSave: true,\n            });\n\n            autoSavingRef.current = false;\n\n            if (!response?.success) {\n                setAutoSaveStatus(`Autosave failed: ${response?.message || \"Unknown error\"}`);\n                return;\n            }\n\n            setAutoSaveStatus(`Autosaved (${triggerLabel}) ${now.toLocaleTimeString()}`);\n        },\n        [socket, playerID, gameID, isDM, loadingGameContext]\n    );\n\n    const scheduleAutoSave = useCallback(\n        (trigger = \"map_change\", options = {}) => {\n            const immediate = Boolean(options?.immediate);\n            if (autoSaveTimerRef.current) {\n                clearTimeout(autoSaveTimerRef.current);\n                autoSaveTimerRef.current = null;\n            }\n\n            if (immediate) {\n                runAutoSave(trigger);\n                return;\n            }\n\n            setAutoSaveStatus(\"Autosave queued...\");\n            autoSaveTimerRef.current = setTimeout(() => {\n                autoSaveTimerRef.current = null;\n                runAutoSave(trigger);\n            }, AUTO_SAVE_DEBOUNCE_MS);\n        },\n        [runAutoSave]\n    );\n\n    const handleTurnDone = useCallback(() => {\n        if (!isDM) return;\n        setTurnNumber((prev) => prev + 1);\n        scheduleAutoSave(\"turn_done\", { immediate: true });\n    }, [isDM, scheduleAutoSave]);\n\n    useEffect(\n        () => () => {\n            if (autoSaveTimerRef.current) {\n                clearTimeout(autoSaveTimerRef.current);\n                autoSaveTimerRef.current = null;\n            }\n        },\n        []\n    );\n\n    useEffect(() => {\n        const selectedBackgroundKey = String(backgroundKey || \"gray\").toLowerCase();\n        const backgroundImage = getImage(selectedBackgroundKey);\n        if (!backgroundImage) {\n            camera.current.bgImage = null;\n            return;\n        }\n\n        const img = new Image();\n        img.src = backgroundImage;\n        img.onload = () => {\n            camera.current.bgImage = img;\n        };\n    }, [backgroundKey, camera]);\n\n    useEffect(() => {\n        let cancelled = false;\n\n        async function bootstrapGameContext() {\n            if (!socket || !playerID || !gameID) {\n                if (!cancelled) {\n                    setLoadingGameContext(false);\n                    setGameContextError(\"Missing game context. Rejoin from lobby.\");\n                }\n                return;\n            }\n\n            const response = await emitWithAck(socket, \"campaign_getGameContext\", {\n                playerID,\n                campaignID: gameID,\n            });\n\n            if (cancelled) return;\n\n            if (!response?.success) {\n                setLoadingGameContext(false);\n                setIsDM(false);\n                setGameContextError(response?.message || \"Failed to load campaign permissions\");\n                return;\n            }\n\n            const canEdit = resolveDMPermission(response, playerID);\n            setIsDM(canEdit);\n            setGameContextError(\"\");\n            setLoadingGameContext(false);\n\n            if (Array.isArray(response?.floorTypes)) {\n                replaceFloorTypes(response.floorTypes);\n            }\n\n            const initialSnapshot =\n                response?.engineState?.snapshot && typeof response.engineState.snapshot === \"object\"\n                    ? response.engineState.snapshot\n                    : response?.snapshot || {};\n            applyingServerStateRef.current = true;\n            skipNextAutoSaveRef.current = true;\n            loadGameSnapshot(initialSnapshot);\n        }\n\n        bootstrapGameContext();\n\n        return () => {\n            cancelled = true;\n        };\n    }, [socket, playerID, gameID, setIsDM, loadGameSnapshot, replaceFloorTypes]);\n\n    useEffect(() => {\n        if (!socket || !gameID) return undefined;\n\n        const handleServerWorldUpdate = (payload = {}) => {\n            if (String(payload?.campaignID || \"\") !== String(gameID)) return;\n            const snapshot =\n                payload?.engineState?.snapshot && typeof payload.engineState.snapshot === \"object\"\n                    ? payload.engineState.snapshot\n                    : null;\n            if (!snapshot) return;\n\n            if (Array.isArray(payload?.floorTypes)) {\n                replaceFloorTypes(payload.floorTypes);\n            }\n            applyingServerStateRef.current = true;\n            skipNextAutoSaveRef.current = true;\n            loadGameSnapshot(snapshot);\n        };\n\n        socket.on(\"campaign_gameStateUpdated\", handleServerWorldUpdate);\n        return () => {\n            socket.off(\"campaign_gameStateUpdated\", handleServerWorldUpdate);\n        };\n    }, [socket, gameID, loadGameSnapshot, replaceFloorTypes]);\n\n    useEffect(() => {\n        if (!socket || !playerID || !gameID || !isDM || loadingGameContext) return undefined;\n        if (applyingServerStateRef.current) {\n            applyingServerStateRef.current = false;\n            return undefined;\n        }\n\n        const timer = setTimeout(async () => {\n            if (syncingWorldRef.current) return;\n            syncingWorldRef.current = true;\n\n            const response = await emitWithAck(socket, \"campaign_gameSyncWorld\", {\n                playerID,\n                campaignID: gameID,\n                statePatch: {\n                    mapObjects,\n                    backgroundKey,\n                    characters,\n                    floorTypes,\n                    lighting,\n                },\n            });\n            syncingWorldRef.current = false;\n\n            if (!response?.success) {\n                if (response?.message) {\n                    setGameContextError((prev) => prev || response.message);\n                }\n                return;\n            }\n\n            const snapshot =\n                response?.engineState?.snapshot && typeof response.engineState.snapshot === \"object\"\n                    ? response.engineState.snapshot\n                    : null;\n            if (!snapshot) return;\n\n            setGameContextError(\"\");\n\n            if (Array.isArray(response?.floorTypes)) {\n                replaceFloorTypes(response.floorTypes);\n            }\n            applyingServerStateRef.current = true;\n            skipNextAutoSaveRef.current = true;\n            loadGameSnapshot(snapshot);\n        }, 160);\n\n        return () => clearTimeout(timer);\n    }, [\n        socket,\n        playerID,\n        gameID,\n        isDM,\n        loadingGameContext,\n        mapObjects,\n        backgroundKey,\n        characters,\n        floorTypes,\n        lighting,\n        loadGameSnapshot,\n        replaceFloorTypes,\n    ]);\n\n    useEffect(() => {\n        if (!socket || !playerID || !gameID || !isDM || loadingGameContext) return;\n\n        if (skipNextAutoSaveRef.current) {\n            skipNextAutoSaveRef.current = false;\n            hasAutoSaveBaselineRef.current = true;\n            return;\n        }\n\n        if (!hasAutoSaveBaselineRef.current) {\n            hasAutoSaveBaselineRef.current = true;\n            return;\n        }\n\n        scheduleAutoSave(\"map_change\");\n    }, [\n        socket,\n        playerID,\n        gameID,\n        isDM,\n        loadingGameContext,\n        mapObjects,\n        backgroundKey,\n        characters,\n        floorTypes,\n        lighting,\n        currentZLevel,\n        scheduleAutoSave,\n    ]);\n\n    const formatCanvas = (canvas) => {\n        const dpr = window.devicePixelRatio || 1;\n        const rect = canvas.getBoundingClientRect();\n        canvas.width = Math.round(rect.width * dpr);\n        canvas.height = Math.round(rect.height * dpr);\n        const ctx = canvas.getContext(\"2d\");\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n        return ctx;\n    };\n\n    useEffect(() => {\n        const resizeAllCanvases = () => {\n            Object.values(layerRefs.current).forEach((canvas) => {\n                if (canvas) formatCanvas(canvas);\n            });\n        };\n\n        resizeAllCanvases();\n        window.addEventListener(\"resize\", resizeAllCanvases);\n        return () => window.removeEventListener(\"resize\", resizeAllCanvases);\n    }, []);\n\n    const worldToScreen = (worldX, worldY) => ({\n        x: worldX * camera.current.zoom - camera.current.x,\n        y: worldY * camera.current.zoom - camera.current.y,\n    });\n\n    const screenToWorld = (screenX, screenY) => ({\n        x: (screenX + camera.current.x) / camera.current.zoom,\n        y: (screenY + camera.current.y) / camera.current.zoom,\n    });\n\n    const getWorldFromMouseEvent = (event) => {\n        const canvas = layerRefs.current.background;\n        if (!canvas) return null;\n        const rect = canvas.getBoundingClientRect();\n        const screenX = event.clientX - rect.left;\n        const screenY = event.clientY - rect.top;\n        return screenToWorld(screenX, screenY);\n    };\n\n    const getScreenFromMouseEvent = (event) => {\n        const canvas = layerRefs.current.background;\n        if (!canvas) return null;\n        const rect = canvas.getBoundingClientRect();\n        return {\n            x: event.clientX - rect.left,\n            y: event.clientY - rect.top,\n        };\n    };\n\n    const isVisible = (x, y) => {\n        if (!fogEnabled) return true;\n\n        const playerChars = characters.filter((c) => c.team === \"player\");\n\n        for (const char of playerChars) {\n            const dx = x - char.position.x;\n            const dy = y - char.position.y;\n            const distSq = dx * dx + dy * dy;\n\n            if (distSq <= char.visionDistance * char.visionDistance) {\n                const angleToPoint = (Math.atan2(dy, dx) * 180) / Math.PI;\n                let angleDiff = angleToPoint - char.rotation;\n\n                while (angleDiff > 180) angleDiff -= 360;\n                while (angleDiff < -180) angleDiff += 360;\n\n                if (Math.abs(angleDiff) <= char.visionArc / 2) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    };\n\n    const findCharacterAt = (worldX, worldY, includeHidden = false) => {\n        const list = includeHidden ? characters : characters.filter((char) => isVisible(char.position.x, char.position.y));\n        for (let i = list.length - 1; i >= 0; i -= 1) {\n            const char = list[i];\n            const dx = worldX - char.position.x;\n            const dy = worldY - char.position.y;\n            const radius = Math.max(1, Number(char.size) || 0) / 2;\n            if (dx * dx + dy * dy <= radius * radius) {\n                return char;\n            }\n        }\n        return null;\n    };\n\n    const activeMapObjects = useMemo(\n        () => mapObjects.filter((obj) => getObjectZLevel(obj) === currentZLevel),\n        [mapObjects, currentZLevel]\n    );\n\n    const floorTypesByID = useMemo(() => {\n        const byID = new Map();\n        (Array.isArray(floorTypes) ? floorTypes : []).forEach((entry) => {\n            const id = String(entry?.id || \"\").trim();\n            if (!id || byID.has(id)) return;\n            byID.set(id, entry);\n        });\n        return byID;\n    }, [floorTypes]);\n\n    const findInteractionTargetAt = (worldX, worldY, includeHiddenCharacters = false) => {\n        const characterTarget = findCharacterAt(worldX, worldY, includeHiddenCharacters);\n        if (characterTarget) {\n            return {\n                type: \"character\",\n                id: characterTarget.id,\n            };\n        }\n\n        const mapObjectTarget = findTopMapObjectAt(worldX, worldY, activeMapObjects);\n        if (mapObjectTarget) {\n            return {\n                type: \"mapObject\",\n                id: mapObjectTarget.id,\n            };\n        }\n\n        return null;\n    };\n\n    const selectedEntityData = useMemo(() => {\n        if (!selectedEntity?.type) return null;\n\n        if (selectedEntity.type === \"character\") {\n            const character = characters.find(\n                (char) => toEntityID(char?.id) === toEntityID(selectedEntity.id)\n            );\n            if (!character) return null;\n            return {\n                type: \"character\",\n                id: character.id,\n                entity: character,\n            };\n        }\n\n        if (selectedEntity.type === \"mapObject\") {\n            const object = mapObjects.find(\n                (obj) => toEntityID(obj?.id) === toEntityID(selectedEntity.id)\n            );\n            if (!object) return null;\n            const floorType = floorTypesByID.get(String(object?.floorTypeId || \"\").trim()) || null;\n            return {\n                type: \"mapObject\",\n                id: object.id,\n                entity: object,\n                floorType,\n            };\n        }\n\n        return null;\n    }, [selectedEntity, characters, mapObjects, floorTypesByID]);\n\n    useEffect(() => {\n        latestSnapshotRef.current = {\n            mapObjects,\n            backgroundKey,\n            characters,\n            floorTypes,\n            currentZLevel,\n            lighting,\n        };\n    }, [mapObjects, backgroundKey, characters, floorTypes, currentZLevel, lighting]);\n\n    useEffect(() => {\n        if (!selectedEntity) return;\n        if (selectedEntityData) return;\n        setSelectedEntity(null);\n    }, [selectedEntity, selectedEntityData]);\n\n    const clampInfoPanelPosition = useCallback(\n        (x, y) => {\n            const maxX = Math.max(\n                INFO_PANEL_MIN_LEFT,\n                window.innerWidth - sideWidth - INFO_PANEL_WIDTH - INFO_PANEL_MIN_LEFT\n            );\n            const maxY = Math.max(\n                INFO_PANEL_MIN_TOP,\n                window.innerHeight - INFO_PANEL_MAX_BOTTOM_PADDING\n            );\n            return {\n                x: Math.max(INFO_PANEL_MIN_LEFT, Math.min(Math.round(x), Math.round(maxX))),\n                y: Math.max(INFO_PANEL_MIN_TOP, Math.min(Math.round(y), Math.round(maxY))),\n            };\n        },\n        [sideWidth]\n    );\n\n    useEffect(() => {\n        if (!selectedEntityData?.type) {\n            setInfoPanelDrag(null);\n            return;\n        }\n        setInfoPanelPosition((prev) => {\n            if (prev && Number.isFinite(prev.x) && Number.isFinite(prev.y)) {\n                return clampInfoPanelPosition(prev.x, prev.y);\n            }\n            return clampInfoPanelPosition(\n                window.innerWidth - sideWidth - INFO_PANEL_WIDTH - INFO_PANEL_MIN_LEFT,\n                INFO_PANEL_MIN_TOP\n            );\n        });\n    }, [selectedEntityData, sideWidth, clampInfoPanelPosition]);\n\n    useEffect(() => {\n        const onResize = () => {\n            setInfoPanelPosition((prev) =>\n                prev ? clampInfoPanelPosition(prev.x, prev.y) : prev\n            );\n        };\n        window.addEventListener(\"resize\", onResize);\n        return () => window.removeEventListener(\"resize\", onResize);\n    }, [clampInfoPanelPosition]);\n\n    useEffect(() => {\n        if (!infoPanelDrag) return undefined;\n\n        const onMouseMove = (event) => {\n            const next = clampInfoPanelPosition(\n                event.clientX - infoPanelDrag.offsetX,\n                event.clientY - infoPanelDrag.offsetY\n            );\n            setInfoPanelPosition(next);\n        };\n\n        const onMouseUp = () => setInfoPanelDrag(null);\n\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"mouseup\", onMouseUp);\n\n        return () => {\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"mouseup\", onMouseUp);\n        };\n    }, [infoPanelDrag, clampInfoPanelPosition]);\n\n    useEffect(() => {\n        if (!selectedChar) return;\n        setSelectedEntity((prev) => {\n            const next = { type: \"character\", id: selectedChar };\n            if (isSameEntity(prev, next)) return prev;\n            return next;\n        });\n    }, [selectedChar]);\n\n    useEffect(() => {\n        let raf;\n\n        const loop = () => {\n            const missingCanvas = GAME_LAYER_REGISTRY.some((entry) => !layerRefs.current[entry.name]);\n            if (missingCanvas) {\n                raf = requestAnimationFrame(loop);\n                return;\n            }\n\n            if (!camera?.current) {\n                raf = requestAnimationFrame(loop);\n                return;\n            }\n\n            const needsRebind =\n                layerBindingsRef.current.length !== GAME_LAYER_REGISTRY.length ||\n                GAME_LAYER_REGISTRY.some((entry, index) => {\n                    const binding = layerBindingsRef.current[index];\n                    const canvas = layerRefs.current[entry.name];\n                    return !binding || binding.canvas !== canvas || !binding.ctx;\n                });\n\n            if (needsRebind) {\n                layerBindingsRef.current = bindLayerCanvases(\n                    GAME_LAYER_REGISTRY,\n                    layerRefs.current\n                );\n            }\n\n            const layers = layerBindingsRef.current;\n\n            const cameraSnapshot = {\n                x: Number(camera.current.x) || 0,\n                y: Number(camera.current.y) || 0,\n                zoom: Number(camera.current.zoom) || 1,\n                bgImage: camera.current.bgImage || null,\n            };\n            const selectedMapObjectID =\n                selectedEntity?.type === \"mapObject\" ? toEntityID(selectedEntity.id) : \"\";\n\n            const currentState = {\n                bgImage: cameraSnapshot.bgImage,\n                backgroundKey,\n                camera: cameraSnapshot,\n                mapObjects,\n                floorTypes,\n                currentZLevel,\n                selectedMapObjectID,\n                blockedMovePreview,\n                lighting,\n                showResizeHandles: isDM,\n            };\n\n            michelangeloEngine({\n                layers,\n                frame: {\n                    state: currentState,\n                    prevState: prevStateRef.current,\n                    cache: {},\n                },\n            });\n\n            prevStateRef.current = currentState;\n            raf = requestAnimationFrame(loop);\n        };\n\n        loop();\n        return () => cancelAnimationFrame(raf);\n    }, [camera, mapObjects, floorTypes, currentZLevel, selectedEntity, blockedMovePreview, lighting, backgroundKey, isDM]);\n\n    useEffect(() => {\n        const onMouseMove = (event) => {\n            if (dragging) {\n                const newWidth = window.innerWidth - event.clientX;\n                setSideWidth(Math.max(MIN_SIDE_WIDTH, Math.min(newWidth, MAX_SIDE_WIDTH)));\n            }\n        };\n\n        const onMouseUp = () => {\n            setDragging(false);\n        };\n\n        if (dragging) {\n            window.addEventListener(\"mousemove\", onMouseMove);\n            window.addEventListener(\"mouseup\", onMouseUp);\n        }\n\n        return () => {\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"mouseup\", onMouseUp);\n        };\n    }, [dragging]);\n\n    useEffect(() => {\n        const onKeyDown = (event) => {\n            if (isTypingTarget(event.target)) return;\n            if (keysPressed.current.hasOwnProperty(event.code)) {\n                keysPressed.current[event.code] = true;\n                event.preventDefault();\n            }\n        };\n\n        const onKeyUp = (event) => {\n            if (isTypingTarget(event.target)) return;\n            if (keysPressed.current.hasOwnProperty(event.code)) {\n                keysPressed.current[event.code] = false;\n                event.preventDefault();\n            }\n        };\n\n        window.addEventListener(\"keydown\", onKeyDown);\n        window.addEventListener(\"keyup\", onKeyUp);\n\n        return () => {\n            window.removeEventListener(\"keydown\", onKeyDown);\n            window.removeEventListener(\"keyup\", onKeyUp);\n        };\n    }, []);\n\n    useEffect(() => {\n        const onKeyDown = (event) => {\n            if (isTypingTarget(event.target)) return;\n\n            if (event.code === \"Space\") {\n                event.preventDefault();\n                stepZLevelUp();\n                return;\n            }\n\n            if (event.code === \"ShiftLeft\" || event.code === \"ShiftRight\") {\n                event.preventDefault();\n                stepZLevelDown();\n                return;\n            }\n\n            const dx = PAN_SPEED;\n            const dy = PAN_SPEED;\n\n            if (keysPressed.current.KeyW) camera.current.y -= dy;\n            if (keysPressed.current.KeyS) camera.current.y += dy;\n            if (keysPressed.current.KeyA) camera.current.x -= dx;\n            if (keysPressed.current.KeyD) camera.current.x += dx;\n\n            if (keysPressed.current.KeyQ) {\n                camera.current.zoom *= 1 / ZOOM_FACTOR;\n                camera.current.zoom = Math.max(MIN_ZOOM, Math.min(camera.current.zoom, MAX_ZOOM));\n            }\n            if (keysPressed.current.KeyE) {\n                camera.current.zoom *= ZOOM_FACTOR;\n                camera.current.zoom = Math.max(MIN_ZOOM, Math.min(camera.current.zoom, MAX_ZOOM));\n            }\n        };\n\n        window.addEventListener(\"keydown\", onKeyDown);\n        return () => {\n            window.removeEventListener(\"keydown\", onKeyDown);\n        };\n    }, [camera, stepZLevelDown, stepZLevelUp]);\n\n    useEffect(() => {\n        const onEscape = (event) => {\n            if (event.key !== \"Escape\") return;\n            setContextMenu(null);\n            setDragTarget(null);\n            setResizeTarget(null);\n            setPlacementDrag(null);\n            setBlockedMovePreview(null);\n            setSelectedEntity(null);\n            selectCharacter(null);\n            clearMapObjectPlacement();\n            clearLightPlacement();\n        };\n\n        window.addEventListener(\"keydown\", onEscape);\n        return () => window.removeEventListener(\"keydown\", onEscape);\n    }, [clearMapObjectPlacement, selectCharacter]);\n\n    useEffect(() => {\n        if (!mapObjectPlacement) {\n            setPlacementDrag(null);\n        }\n    }, [mapObjectPlacement]);\n\n    const selectEntity = useCallback(\n        (target) => {\n            if (!target?.type) {\n                setSelectedEntity(null);\n                selectCharacter(null);\n                return;\n            }\n\n            const next = { type: target.type, id: target.id };\n            setSelectedEntity(next);\n            if (next.type === \"character\") {\n                selectCharacter(next.id);\n            } else {\n                selectCharacter(null);\n            }\n        },\n        [selectCharacter]\n    );\n\n    const handleMouseDown = (event) => {\n        const world = getWorldFromMouseEvent(event);\n        if (!world) return;\n        setBlockedMovePreview(null);\n\n        if (event.button === 2) {\n            event.preventDefault();\n            const target =\n                findInteractionTargetAt(world.x, world.y, isDM) ||\n                (selectedEntity?.type ? selectedEntity : null);\n            if (target) {\n                setContextMenu({\n                    x: event.clientX,\n                    y: event.clientY,\n                    world: { x: world.x, y: world.y },\n                    target: {\n                        type: target.type,\n                        id: target.id,\n                    },\n                });\n            } else {\n                setContextMenu(null);\n            }\n            return;\n        }\n\n        if (event.button === 1) {\n            event.preventDefault();\n            isPanning.current = true;\n            return;\n        }\n\n        if (event.button !== 0) {\n            return;\n        }\n\n        setContextMenu(null);\n\n        if (isDM && mapObjectPlacement) {\n            setPlacementDrag({\n                startWorld: { x: world.x, y: world.y },\n                currentWorld: { x: world.x, y: world.y },\n                startClient: { x: event.clientX, y: event.clientY },\n            });\n            return;\n        }\n        if (isDM && lightPlacement) {\n            placeLightAt(world.x, world.y);\n            return;\n        }\n\n        if (isDM && selectedEntityData?.type === \"mapObject\") {\n            const selectedObject = selectedEntityData.entity;\n            if (selectedObject && getObjectZLevel(selectedObject) === currentZLevel) {\n                const screen = getScreenFromMouseEvent(event);\n                const cameraSnapshot = {\n                    x: Number(camera.current?.x) || 0,\n                    y: Number(camera.current?.y) || 0,\n                    zoom: Number(camera.current?.zoom) || 1,\n                };\n                const handles = buildResizeHandlesForObject(selectedObject, cameraSnapshot);\n                const hitHandle = screen\n                    ? findResizeHandleAtScreenPoint(screen.x, screen.y, handles)\n                    : null;\n                if (hitHandle) {\n                    setDragTarget(null);\n                    setBlockedMovePreview(null);\n                    if (hitHandle.id === \"height\") {\n                        setResizeTarget({\n                            type: \"height\",\n                            id: selectedObject.id,\n                            startClientY: event.clientY,\n                            startHeight: Math.round(Number(selectedObject?.elevationHeight) || 0),\n                        });\n                        return;\n                    }\n\n                    const bounds = getMapObjectBounds(selectedObject);\n                    const anchor = getResizeAnchorForHandle(hitHandle.id, bounds);\n                    if (anchor) {\n                        setResizeTarget({\n                            type: \"shape\",\n                            id: selectedObject.id,\n                            handle: hitHandle.id,\n                            anchorX: anchor.x,\n                            anchorY: anchor.y,\n                        });\n                        return;\n                    }\n                }\n            }\n        }\n\n        const target = findInteractionTargetAt(world.x, world.y, isDM);\n        if (!target) {\n            selectEntity(null);\n            return;\n        }\n\n        selectEntity(target);\n\n        if (!isDM) return;\n\n        if (target.type === \"mapObject\") {\n            const objectTarget = activeMapObjects.find(\n                (obj) => toEntityID(obj?.id) === toEntityID(target.id)\n            );\n            if (!objectTarget) return;\n            setDragTarget({\n                type: \"mapObject\",\n                id: objectTarget.id,\n                offsetX: world.x - (Number(objectTarget.x) || 0),\n                offsetY: world.y - (Number(objectTarget.y) || 0),\n            });\n            return;\n        }\n\n        if (target.type === \"character\") {\n            const characterTarget = characters.find(\n                (char) => toEntityID(char?.id) === toEntityID(target.id)\n            );\n            if (!characterTarget) return;\n            setDragTarget({\n                type: \"character\",\n                id: characterTarget.id,\n                offsetX: world.x - (Number(characterTarget?.position?.x) || 0),\n                offsetY: world.y - (Number(characterTarget?.position?.y) || 0),\n            });\n        }\n    };\n\n    const handleMouseMove = (event) => {\n        setLastMouse({ x: event.clientX, y: event.clientY });\n\n        if (resizeTarget && isDM) {\n            const objectTarget = mapObjects.find(\n                (obj) => toEntityID(obj?.id) === toEntityID(resizeTarget.id)\n            );\n            if (!objectTarget) return;\n\n            setBlockedMovePreview(null);\n\n            if (resizeTarget.type === \"height\") {\n                const zoom = Number(camera.current?.zoom) || 1;\n                const deltaHeight = (resizeTarget.startClientY - event.clientY) / Math.max(0.1, zoom);\n                const nextHeight = Math.max(\n                    0,\n                    Math.round((Number(resizeTarget.startHeight) || 0) + deltaHeight)\n                );\n                updateMapObject(resizeTarget.id, {\n                    elevationHeight: nextHeight,\n                });\n                return;\n            }\n\n            const world = getWorldFromMouseEvent(event);\n            if (!world) return;\n\n            const anchorX = Number(resizeTarget.anchorX);\n            const anchorY = Number(resizeTarget.anchorY);\n            const minX = Math.min(anchorX, world.x);\n            const maxX = Math.max(anchorX, world.x);\n            const minY = Math.min(anchorY, world.y);\n            const maxY = Math.max(anchorY, world.y);\n            const centerX = (minX + maxX) / 2;\n            const centerY = (minY + maxY) / 2;\n            const objectType = String(objectTarget?.type || \"circle\").toLowerCase();\n\n            if (objectType === \"rect\") {\n                updateMapObject(resizeTarget.id, {\n                    x: Math.round(centerX),\n                    y: Math.round(centerY),\n                    width: Math.max(MIN_RECT_WORLD_SIZE, Math.round(maxX - minX)),\n                    height: Math.max(MIN_RECT_WORLD_SIZE, Math.round(maxY - minY)),\n                });\n                return;\n            }\n\n            updateMapObject(resizeTarget.id, {\n                x: Math.round(centerX),\n                y: Math.round(centerY),\n                size: Math.max(\n                    MIN_SHAPE_WORLD_SIZE,\n                    Math.round(Math.max(maxX - minX, maxY - minY) / 2)\n                ),\n            });\n            return;\n        }\n\n        if (placementDrag && isDM && mapObjectPlacement) {\n            const world = getWorldFromMouseEvent(event);\n            if (!world) return;\n\n            setPlacementDrag((prev) =>\n                prev\n                    ? {\n                          ...prev,\n                          currentWorld: { x: world.x, y: world.y },\n                      }\n                    : prev\n            );\n            return;\n        }\n\n        if (dragTarget && isDM) {\n            const world = getWorldFromMouseEvent(event);\n            if (!world) return;\n            const targetX = world.x - dragTarget.offsetX;\n            const targetY = world.y - dragTarget.offsetY;\n\n            if (dragTarget.type === \"mapObject\") {\n                const objectTarget = mapObjects.find(\n                    (obj) => toEntityID(obj?.id) === toEntityID(dragTarget.id)\n                );\n                if (!objectTarget) {\n                    setBlockedMovePreview(null);\n                    return;\n                }\n                const candidate = {\n                    ...objectTarget,\n                    x: Math.round(targetX),\n                    y: Math.round(targetY),\n                };\n                if (wouldWallOverlapAtPosition(candidate, mapObjects, objectTarget.id)) {\n                    setBlockedMovePreview(candidate);\n                    return;\n                }\n                setBlockedMovePreview(null);\n                updateMapObject(dragTarget.id, {\n                    x: candidate.x,\n                    y: candidate.y,\n                });\n                return;\n            }\n\n            if (dragTarget.type === \"character\") {\n                setBlockedMovePreview(null);\n                moveCharacter(dragTarget.id, Math.round(targetX), Math.round(targetY));\n                return;\n            }\n        }\n\n        if (isPanning.current) {\n            const dx = event.clientX - lastMouse.x;\n            const dy = event.clientY - lastMouse.y;\n            camera.current.x -= dx;\n            camera.current.y -= dy;\n        }\n    };\n\n    const handleMouseUp = (event) => {\n        if (placementDrag && isDM && mapObjectPlacement) {\n            const fallbackWorld = placementDrag.currentWorld || placementDrag.startWorld;\n            const releaseWorld = getWorldFromMouseEvent(event) || fallbackWorld;\n            const endClientX =\n                typeof event?.clientX === \"number\" ? event.clientX : placementDrag.startClient.x;\n            const endClientY =\n                typeof event?.clientY === \"number\" ? event.clientY : placementDrag.startClient.y;\n            const dragDistancePx = Math.hypot(\n                endClientX - placementDrag.startClient.x,\n                endClientY - placementDrag.startClient.y\n            );\n\n            if (dragDistancePx <= CLICK_DRAG_THRESHOLD_PX) {\n                placePendingMapObjectAt(placementDrag.startWorld.x, placementDrag.startWorld.y, {\n                    zLevel: currentZLevel,\n                });\n            } else {\n                const draggedPlacement = buildPlacementFromDrag(\n                    mapObjectPlacement,\n                    placementDrag.startWorld,\n                    releaseWorld\n                );\n                placePendingMapObjectAt(\n                    draggedPlacement.x,\n                    draggedPlacement.y,\n                    {\n                        ...draggedPlacement.overrides,\n                        zLevel: currentZLevel,\n                    }\n                );\n            }\n\n            setPlacementDrag(null);\n        }\n\n        isPanning.current = false;\n        setDragTarget(null);\n        setResizeTarget(null);\n        setBlockedMovePreview(null);\n    };\n\n    const handleResizerMouseDown = (event) => {\n        event.stopPropagation();\n        setDragging(true);\n    };\n\n    const handleWheel = (event) => {\n        event.preventDefault();\n        setContextMenu(null);\n\n        const worldX = (event.clientX + camera.current.x) / camera.current.zoom;\n        const worldY = (event.clientY + camera.current.y) / camera.current.zoom;\n\n        camera.current.zoom *= event.deltaY < 0 ? ZOOM_FACTOR : 1 / ZOOM_FACTOR;\n        camera.current.zoom = Math.max(MIN_ZOOM, Math.min(camera.current.zoom, MAX_ZOOM));\n\n        camera.current.x = worldX * camera.current.zoom - event.clientX;\n        camera.current.y = worldY * camera.current.zoom - event.clientY;\n    };\n\n    const applyObjectHPDelta = async (objectID, amount) => {\n        if (!socket || !playerID || !gameID) return;\n\n        const response = await emitWithAck(socket, \"campaign_gameDamageObject\", {\n            playerID,\n            campaignID: gameID,\n            objectID,\n            amount,\n        });\n\n        if (!response?.success) {\n            if (response?.message) {\n                setGameContextError((prev) => prev || response.message);\n            }\n            return;\n        }\n\n        const snapshot =\n            response?.engineState?.snapshot && typeof response.engineState.snapshot === \"object\"\n                ? response.engineState.snapshot\n                : null;\n        if (!snapshot) return;\n        applyingServerStateRef.current = true;\n        skipNextAutoSaveRef.current = true;\n        loadGameSnapshot(snapshot);\n        setGameContextError(\"\");\n    };\n\n    const handleContextAction = async (action) => {\n        const target = contextMenu?.target;\n        const contextWorld =\n            contextMenu?.world &&\n            Number.isFinite(Number(contextMenu.world.x)) &&\n            Number.isFinite(Number(contextMenu.world.y))\n                ? {\n                      x: Number(contextMenu.world.x),\n                      y: Number(contextMenu.world.y),\n                  }\n                : null;\n        if (!target?.type) return;\n        setContextMenu(null);\n\n        if (target.type === \"character\") {\n            const character = characters.find(\n                (char) => toEntityID(char?.id) === toEntityID(target.id)\n            );\n            if (!character) return;\n\n            if (action === \"info\") {\n                selectEntity(target);\n                return;\n            }\n\n            if (action === \"center\") {\n                const zoom = Number(camera.current?.zoom) || 1;\n                camera.current.x = (Number(character?.position?.x) || 0) * zoom - window.innerWidth / 2;\n                camera.current.y = (Number(character?.position?.y) || 0) * zoom - window.innerHeight / 2;\n                return;\n            }\n\n            if (action === \"placeHere\" && isDM && contextWorld) {\n                moveCharacter(character.id, Math.round(contextWorld.x), Math.round(contextWorld.y));\n                selectEntity({ type: \"character\", id: character.id });\n                return;\n            }\n\n            if (action === \"toggleTeam\" && isDM) {\n                const nextTeam = String(character?.team || \"player\").toLowerCase() === \"enemy\"\n                    ? \"player\"\n                    : \"enemy\";\n                updateCharacter(character.id, { team: nextTeam });\n                selectEntity({ type: \"character\", id: character.id });\n                return;\n            }\n\n            if (action === \"endTurn\" && isDM) {\n                handleTurnDone();\n                return;\n            }\n\n            handleCharacterAction(character.id, action);\n            return;\n        }\n\n        if (target.type === \"mapObject\") {\n            const object = mapObjects.find((obj) => toEntityID(obj?.id) === toEntityID(target.id));\n            if (!object) return;\n\n            if (action === \"inspect\") {\n                selectEntity(target);\n                return;\n            }\n\n            if (action === \"center\") {\n                const zoom = Number(camera.current?.zoom) || 1;\n                camera.current.x = (Number(object?.x) || 0) * zoom - window.innerWidth / 2;\n                camera.current.y = (Number(object?.y) || 0) * zoom - window.innerHeight / 2;\n                return;\n            }\n\n            if (action === \"damage10\") {\n                await applyObjectHPDelta(object.id, 10);\n                return;\n            }\n            if (action === \"heal10\") {\n                await applyObjectHPDelta(object.id, -10);\n                return;\n            }\n            if (action === \"delete\" && isDM) {\n                deleteMapObject(object.id);\n                setSelectedEntity((prev) => (isSameEntity(prev, target) ? null : prev));\n                return;\n            }\n            if (action === \"duplicate\" && isDM) {\n                const clone = { ...object };\n                delete clone.id;\n                addMapObject({\n                    ...clone,\n                    x: Math.round(Number(object?.x) || 0) + 24,\n                    y: Math.round(Number(object?.y) || 0) + 24,\n                });\n                return;\n            }\n            if (action === \"bringForward\" && isDM) {\n                updateMapObject(object.id, {\n                    z: Math.round(Number(object?.z) || 0) + 1,\n                });\n                return;\n            }\n            if (action === \"sendBackward\" && isDM) {\n                updateMapObject(object.id, {\n                    z: Math.round(Number(object?.z) || 0) - 1,\n                });\n                return;\n            }\n            if (action === \"toggleIndestructible\" && isDM) {\n                if (object?.maxHP == null) {\n                    const terrain = String(object?.terrainType || \"obstacle\").toLowerCase();\n                    const restoredHP =\n                        DEFAULT_MAX_HP_BY_TERRAIN[terrain] || DEFAULT_MAX_HP_BY_TERRAIN.obstacle;\n                    updateMapObject(object.id, {\n                        maxHP: restoredHP,\n                        hp: restoredHP,\n                    });\n                } else {\n                    updateMapObject(object.id, {\n                        maxHP: null,\n                        hp: null,\n                    });\n                }\n            }\n        }\n    };\n\n    const handleInfoPanelMouseDown = useCallback(\n        (event) => {\n            if (event.button !== 0) return;\n            if (!infoPanelPosition) return;\n            event.preventDefault();\n            event.stopPropagation();\n            setInfoPanelDrag({\n                offsetX: event.clientX - infoPanelPosition.x,\n                offsetY: event.clientY - infoPanelPosition.y,\n            });\n        },\n        [infoPanelPosition]\n    );\n\n    const renderSelectedInfo = () => {\n        if (!selectedEntityData?.type) return null;\n        const panelPos =\n            infoPanelPosition ||\n            clampInfoPanelPosition(\n                window.innerWidth - sideWidth - INFO_PANEL_WIDTH - INFO_PANEL_MIN_LEFT,\n                INFO_PANEL_MIN_TOP\n            );\n\n        if (selectedEntityData.type === \"character\") {\n            const char = selectedEntityData.entity;\n            return (\n                <div\n                    className=\"absolute rounded border border-slate-600 bg-slate-900/95 text-white shadow-lg z-[132] w-[320px]\"\n                    style={{ left: panelPos.x, top: panelPos.y }}\n                    onMouseDown={(event) => event.stopPropagation()}\n                >\n                    <div\n                        className=\"px-3 py-2 border-b border-slate-700 flex items-center justify-between cursor-move select-none\"\n                        onMouseDown={handleInfoPanelMouseDown}\n                    >\n                        <p className=\"text-sm font-semibold\">Selected Character</p>\n                        <button\n                            type=\"button\"\n                            onMouseDown={(event) => event.stopPropagation()}\n                            onClick={() => selectEntity(null)}\n                            className=\"text-xs text-slate-300 hover:text-white\"\n                        >\n                            Close\n                        </button>\n                    </div>\n                    <div className=\"px-3 py-2 text-xs space-y-1\">\n                        <p className=\"text-sm font-semibold\">{char.name || \"Unnamed Character\"}</p>\n                        <p>ID: {char.id}</p>\n                        <p>Team: {char.team || \"unknown\"}</p>\n                        <p>\n                            Position: ({Math.round(Number(char?.position?.x) || 0)},{\" \"}\n                            {Math.round(Number(char?.position?.y) || 0)})\n                        </p>\n                        <p>Size: {Math.round(Number(char?.size) || 0)}</p>\n                        <p>Vision: {Math.round(Number(char?.visionDistance) || 0)}</p>\n                        <p>Arc: {Math.round(Number(char?.visionArc) || 0)} deg</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (selectedEntityData.type === \"mapObject\") {\n            const obj = selectedEntityData.entity;\n            const floorType = selectedEntityData.floorType;\n            return (\n                <div\n                    className=\"absolute rounded border border-slate-600 bg-slate-900/95 text-white shadow-lg z-[132] w-[320px]\"\n                    style={{ left: panelPos.x, top: panelPos.y }}\n                    onMouseDown={(event) => event.stopPropagation()}\n                >\n                    <div\n                        className=\"px-3 py-2 border-b border-slate-700 flex items-center justify-between cursor-move select-none\"\n                        onMouseDown={handleInfoPanelMouseDown}\n                    >\n                        <p className=\"text-sm font-semibold\">Selected Object</p>\n                        <button\n                            type=\"button\"\n                            onMouseDown={(event) => event.stopPropagation()}\n                            onClick={() => selectEntity(null)}\n                            className=\"text-xs text-slate-300 hover:text-white\"\n                        >\n                            Close\n                        </button>\n                    </div>\n                    <div className=\"px-3 py-2 text-xs space-y-1\">\n                        <p className=\"text-sm font-semibold\">\n                            {String(obj?.type || \"object\")} #{obj?.id}\n                        </p>\n                        <p>\n                            Position: ({Math.round(Number(obj?.x) || 0)},{\" \"}\n                            {Math.round(Number(obj?.y) || 0)})\n                        </p>\n                        <p>Terrain: {String(obj?.terrainType || \"obstacle\")}</p>\n                        <p>Z Level: {Math.round(Number(obj?.zLevel) || 0)}</p>\n                        <p>Z Index: {Math.round(Number(obj?.z) || 0)}</p>\n                        <p>Elevation Height: {Math.round(Number(obj?.elevationHeight) || 0)}</p>\n                        {String(obj?.type || \"\").toLowerCase() === \"rect\" ? (\n                            <p>\n                                Footprint: {Math.round(Number(obj?.width) || 0)} x{\" \"}\n                                {Math.round(Number(obj?.height) || 0)}\n                            </p>\n                        ) : (\n                            <p>Footprint Size: {Math.round(Number(obj?.size) || 0)}</p>\n                        )}\n                        <p>Floor Type: {floorType?.name || String(obj?.floorTypeId || \"none\")}</p>\n                        <p>\n                            HP:{\" \"}\n                            {obj?.maxHP == null\n                                ? \"Indestructible\"\n                                : `${Math.round(Number(obj?.hp) || 0)} / ${Math.round(\n                                      Number(obj?.maxHP) || 0\n                                  )}`}\n                        </p>\n                        {isDM && (\n                            <div className=\"mt-2 pt-2 border-t border-slate-700 space-y-2\">\n                                <div className=\"grid grid-cols-2 gap-2 items-center\">\n                                    <label className=\"text-[11px] text-slate-300\">Object Height</label>\n                                    <input\n                                        type=\"number\"\n                                        min=\"0\"\n                                        value={Math.round(Number(obj?.elevationHeight) || 0)}\n                                        onChange={(event) =>\n                                            updateMapObject(obj.id, {\n                                                elevationHeight: Math.max(\n                                                    0,\n                                                    Number(event.target.value) || 0\n                                                ),\n                                            })\n                                        }\n                                        className=\"w-full rounded bg-slate-800 border border-slate-600 px-2 py-1 text-xs text-slate-100\"\n                                    />\n                                </div>\n                                {String(obj?.type || \"\").toLowerCase() === \"rect\" ? (\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                        <input\n                                            type=\"number\"\n                                            min={MIN_RECT_WORLD_SIZE}\n                                            value={Math.round(Number(obj?.width) || 0)}\n                                            onChange={(event) =>\n                                                updateMapObject(obj.id, {\n                                                    width: Math.max(\n                                                        MIN_RECT_WORLD_SIZE,\n                                                        Number(event.target.value) || 0\n                                                    ),\n                                                })\n                                            }\n                                            className=\"w-full rounded bg-slate-800 border border-slate-600 px-2 py-1 text-xs text-slate-100\"\n                                        />\n                                        <input\n                                            type=\"number\"\n                                            min={MIN_RECT_WORLD_SIZE}\n                                            value={Math.round(Number(obj?.height) || 0)}\n                                            onChange={(event) =>\n                                                updateMapObject(obj.id, {\n                                                    height: Math.max(\n                                                        MIN_RECT_WORLD_SIZE,\n                                                        Number(event.target.value) || 0\n                                                    ),\n                                                })\n                                            }\n                                            className=\"w-full rounded bg-slate-800 border border-slate-600 px-2 py-1 text-xs text-slate-100\"\n                                        />\n                                    </div>\n                                ) : (\n                                    <div className=\"grid grid-cols-2 gap-2 items-center\">\n                                        <label className=\"text-[11px] text-slate-300\">Footprint Size</label>\n                                        <input\n                                            type=\"number\"\n                                            min={MIN_SHAPE_WORLD_SIZE}\n                                            value={Math.round(Number(obj?.size) || 0)}\n                                            onChange={(event) =>\n                                                updateMapObject(obj.id, {\n                                                    size: Math.max(\n                                                        MIN_SHAPE_WORLD_SIZE,\n                                                        Number(event.target.value) || 0\n                                                    ),\n                                                })\n                                            }\n                                            className=\"w-full rounded bg-slate-800 border border-slate-600 px-2 py-1 text-xs text-slate-100\"\n                                        />\n                                    </div>\n                                )}\n                                <p className=\"text-[11px] text-slate-400\">\n                                    Tip: drag corner handles to resize footprint, and drag the top square handle\n                                    to edit object height.\n                                </p>\n                            </div>\n                        )}\n                        {floorType?.description && (\n                            <p className=\"text-slate-300\">Info: {floorType.description}</p>\n                        )}\n                    </div>\n                </div>\n            );\n        }\n\n        return null;\n    };\n\n    const placementPreview = (() => {\n        if (!isDM || !mapObjectPlacement || !placementDrag) return null;\n        const currentWorld = placementDrag.currentWorld || placementDrag.startWorld;\n        const placement = buildPlacementFromDrag(\n            mapObjectPlacement,\n            placementDrag.startWorld,\n            currentWorld\n        );\n        const center = worldToScreen(placement.x, placement.y);\n        const zoom = Number(camera.current.zoom) || 1;\n        const type = String(mapObjectPlacement.type || \"circle\").toLowerCase();\n        const color = String(mapObjectPlacement.color || \"#3B82F6\");\n\n        if (type === \"rect\") {\n            const width = (Number(placement.overrides.width) || MIN_RECT_WORLD_SIZE) * zoom;\n            const height = (Number(placement.overrides.height) || MIN_RECT_WORLD_SIZE) * zoom;\n            return {\n                type,\n                color,\n                x: center.x,\n                y: center.y,\n                width,\n                height,\n            };\n        }\n\n        const size = (Number(placement.overrides.size) || MIN_SHAPE_WORLD_SIZE) * zoom;\n        if (type === \"triangle\") {\n            return {\n                type,\n                color,\n                points: `${center.x},${center.y - size} ${center.x - size},${center.y + size} ${center.x + size},${center.y + size}`,\n            };\n        }\n\n        return {\n            type: \"circle\",\n            color,\n            x: center.x,\n            y: center.y,\n            radius: size,\n        };\n    })();\n\n    return (\n        <div className=\"h-screen overflow-hidden\">\n            <div\n                className=\"w-full h-full relative overflow-hidden\"\n                onMouseDown={handleMouseDown}\n                onMouseMove={handleMouseMove}\n                onMouseUp={handleMouseUp}\n                onMouseLeave={handleMouseUp}\n                onWheel={handleWheel}\n                onContextMenu={(event) => event.preventDefault()}\n            >\n                <div className=\"absolute top-3 left-3 z-[130] flex items-center gap-2\">\n                    <button\n                        type=\"button\"\n                        onClick={() => navigate(`/ISK/${safeSessionID}/lobby`)}\n                        className=\"bg-gray-900/85 border border-gray-600 text-white text-xs px-3 py-2 rounded hover:bg-gray-800\"\n                    >\n                        Exit to Lobby\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => navigate(`/ISK/${safeSessionID}/home`)}\n                        className=\"bg-gray-900/85 border border-gray-600 text-white text-xs px-3 py-2 rounded hover:bg-gray-800\"\n                    >\n                        Home\n                    </button>\n                    <span\n                        className={`text-xs px-3 py-2 rounded border ${\n                            isDM\n                                ? \"bg-emerald-900/70 border-emerald-500 text-emerald-200\"\n                                : \"bg-slate-900/70 border-slate-500 text-slate-200\"\n                        }`}\n                    >\n                        {isDM ? \"DM Mode\" : \"Player Mode\"}\n                    </span>\n                    <span className=\"text-xs px-3 py-2 rounded border bg-slate-900/70 border-slate-500 text-slate-200\">\n                        Level {currentZLevel} (Space up, Shift down)\n                    </span>\n                    {isDM && (\n                        <button\n                            type=\"button\"\n                            onClick={handleTurnDone}\n                            className=\"text-xs px-3 py-2 rounded border bg-amber-900/70 border-amber-500 text-amber-200 hover:bg-amber-800/80\"\n                        >\n                            End Turn (Auto Save)\n                        </button>\n                    )}\n                    {isDM && (\n                        <span className=\"text-xs px-3 py-2 rounded border bg-slate-900/70 border-slate-500 text-slate-200\">\n                            Turn {turnNumber}\n                        </span>\n                    )}\n                    {mapObjectPlacement && (\n                        <span className=\"text-xs px-3 py-2 rounded border bg-blue-900/70 border-blue-500 text-blue-200\">\n                            Placement: {mapObjectPlacement.type} (click or drag on map)\n                        </span>\n                    )}\n                    \n                    {loadingGameContext && (\n                        <span className=\"text-xs px-3 py-2 rounded border bg-slate-900/70 border-slate-500 text-slate-200\">\n                            Loading game context...\n                        </span>\n                    )}\n                    {gameContextError && (\n                        <span className=\"text-xs px-3 py-2 rounded border bg-red-900/70 border-red-500 text-red-200\">\n                            {gameContextError}\n                        </span>\n                    )}\n                    {isDM && autoSaveStatus && (\n                        <span className=\"text-xs px-3 py-2 rounded border bg-indigo-900/70 border-indigo-500 text-indigo-200\">\n                            {autoSaveStatus}\n                        </span>\n                    )}\n                </div>\n\n                {GAME_LAYER_REGISTRY.map((layer) => (\n                    <canvas\n                        key={layer.name}\n                        ref={(el) => (layerRefs.current[layer.name] = el)}\n                        className=\"absolute inset-0 w-full h-full\"\n                        style={{\n                            zIndex: layer.zIndex,\n                            backgroundColor: layer.name === \"background\" ? \"#1f2937\" : \"transparent\",\n                        }}\n                    />\n                ))}\n\n                {placementPreview && (\n                    <svg className=\"absolute inset-0 w-full h-full pointer-events-none z-[25]\">\n                        {placementPreview.type === \"rect\" && (\n                            <rect\n                                x={placementPreview.x - placementPreview.width / 2}\n                                y={placementPreview.y - placementPreview.height / 2}\n                                width={placementPreview.width}\n                                height={placementPreview.height}\n                                fill={placementPreview.color}\n                                fillOpacity=\"0.28\"\n                                stroke={placementPreview.color}\n                                strokeWidth=\"2\"\n                                strokeDasharray=\"7 5\"\n                            />\n                        )}\n                        {placementPreview.type === \"circle\" && (\n                            <circle\n                                cx={placementPreview.x}\n                                cy={placementPreview.y}\n                                r={placementPreview.radius}\n                                fill={placementPreview.color}\n                                fillOpacity=\"0.28\"\n                                stroke={placementPreview.color}\n                                strokeWidth=\"2\"\n                                strokeDasharray=\"7 5\"\n                            />\n                        )}\n                        {placementPreview.type === \"triangle\" && (\n                            <polygon\n                                points={placementPreview.points}\n                                fill={placementPreview.color}\n                                fillOpacity=\"0.28\"\n                                stroke={placementPreview.color}\n                                strokeWidth=\"2\"\n                                strokeDasharray=\"7 5\"\n                            />\n                        )}\n                    </svg>\n                )}\n\n                <div\n                    className=\"absolute bottom-4 z-[132] flex items-center gap-2\"\n                    style={{ right: Math.max(12, sideWidth + 12) }}\n                >\n                    <button\n                        type=\"button\"\n                        onClick={stepZLevelDown}\n                        className=\"h-9 min-w-9 px-2 rounded bg-gray-900/90 border border-slate-500 text-white text-sm hover:bg-gray-800\"\n                        title=\"Go down one z-level (Shift)\"\n                    >\n                        Z-\n                    </button>\n                    <span className=\"h-9 px-3 flex items-center rounded bg-slate-900/90 border border-slate-500 text-slate-100 text-xs\">\n                        Level {currentZLevel}\n                    </span>\n                    <button\n                        type=\"button\"\n                        onClick={stepZLevelUp}\n                        className=\"h-9 min-w-9 px-2 rounded bg-gray-900/90 border border-slate-500 text-white text-sm hover:bg-gray-800\"\n                        title=\"Go up one z-level (Space)\"\n                    >\n                        Z+\n                    </button>\n                </div>\n\n                {contextMenu && (\n                    <div\n                        className=\"absolute bg-gray-800 border border-gray-600 rounded shadow-lg z-50\"\n                        style={{ left: contextMenu.x, top: contextMenu.y }}\n                        onMouseLeave={() => setContextMenu(null)}\n                        onContextMenu={(event) => event.preventDefault()}\n                    >\n                        <div className=\"py-1\">\n                            {contextMenu?.target?.type === \"character\" && (\n                                <>\n                                    {[\"move\", \"attack\", \"defend\", \"skills\"].map((action) => (\n                                        <button\n                                            key={action}\n                                            onClick={() => handleContextAction(action)}\n                                            className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                        >\n                                            {action.charAt(0).toUpperCase() + action.slice(1)}\n                                        </button>\n                                    ))}\n                                    <div className=\"border-t border-gray-600 my-1\" />\n                                    <button\n                                        onClick={() => handleContextAction(\"center\")}\n                                        className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                    >\n                                        Center Camera\n                                    </button>\n                                    <button\n                                        onClick={() => handleContextAction(\"info\")}\n                                        className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                    >\n                                        Inspect\n                                    </button>\n                                    {isDM && (\n                                        <>\n                                            <div className=\"border-t border-gray-600 my-1\" />\n                                            <button\n                                                onClick={() => handleContextAction(\"placeHere\")}\n                                                className=\"w-full px-4 py-2 text-left text-emerald-200 hover:bg-gray-700 text-sm\"\n                                            >\n                                                Place Character Here\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"toggleTeam\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Toggle Team\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"endTurn\")}\n                                                className=\"w-full px-4 py-2 text-left text-amber-200 hover:bg-gray-700 text-sm\"\n                                            >\n                                                End Turn + Autosave\n                                            </button>\n                                        </>\n                                    )}\n                                </>\n                            )}\n\n                            {contextMenu?.target?.type === \"mapObject\" && (\n                                <>\n                                    <button\n                                        onClick={() => handleContextAction(\"inspect\")}\n                                        className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                    >\n                                        Inspect\n                                    </button>\n                                    <button\n                                        onClick={() => handleContextAction(\"center\")}\n                                        className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                    >\n                                        Center Camera\n                                    </button>\n                                    {isDM && (\n                                        <>\n                                            <div className=\"border-t border-gray-600 my-1\" />\n                                            <button\n                                                onClick={() => handleContextAction(\"damage10\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Damage 10\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"heal10\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Heal 10\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"delete\")}\n                                                className=\"w-full px-4 py-2 text-left text-red-300 hover:bg-gray-700 text-sm\"\n                                            >\n                                                Delete Object\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"duplicate\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Duplicate\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"bringForward\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Bring Forward (Z+)\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"sendBackward\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Send Backward (Z-)\n                                            </button>\n                                            <button\n                                                onClick={() => handleContextAction(\"toggleIndestructible\")}\n                                                className=\"w-full px-4 py-2 text-left text-white hover:bg-gray-700 text-sm\"\n                                            >\n                                                Toggle Indestructible\n                                            </button>\n                                        </>\n                                    )}\n                                </>\n                            )}\n                        </div>\n                    </div>\n                )}\n\n                {renderSelectedInfo()}\n            </div>\n\n            <div\n                className=\"grid h-full min-h-0 overflow-hidden bg-gray-800 absolute top-0 right-0\"\n                style={{ gridTemplateColumns: `1fr 6px ${sideWidth}px`, zIndex: 120 }}\n            >\n                <div\n                    className=\"bg-gray-700 cursor-col-resize hover:bg-gray-500 col-start-2\"\n                    onMouseDown={handleResizerMouseDown}\n                />\n                <GameSidePanel />\n            </div>\n        </div>\n    );\n}\n\nexport default GameComponent;\n\n","import { Outlet } from \"react-router-dom\";\n\nfunction LobbyLayout() {\n    return <Outlet />;\n}\n\nexport default LobbyLayout;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n];\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('lock', __iconNode);\n\nexport default Lock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20', key: '13o1zl' }],\n  ['path', { d: 'M2 12h20', key: '9i4pu4' }],\n];\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMCIgLz4KICA8cGF0aCBkPSJNMiAxMmgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('globe', __iconNode);\n\nexport default Globe;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z',\n      key: '10ikf1',\n    },\n  ],\n];\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSA1YTIgMiAwIDAgMSAzLjAwOC0xLjcyOGwxMS45OTcgNi45OThhMiAyIDAgMCAxIC4wMDMgMy40NThsLTEyIDdBMiAyIDAgMCAxIDUgMTl6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('play', __iconNode);\n\nexport default Play;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3v12', key: '1x0j5s' }],\n  ['path', { d: 'm17 8-5-5-5 5', key: '7q97r8' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n];\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM3YxMiIgLz4KICA8cGF0aCBkPSJtMTcgOC01LTUtNSA1IiAvPgogIDxwYXRoIGQ9Ik0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('upload', __iconNode);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n];\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('user-x', __iconNode);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import React from 'react';\r\nimport { User, Heart, Zap, Droplet } from \"lucide-react\";\r\n\r\n// Mock navigate function for demo\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// ============================================\r\n// GENERAL PURPOSE INDEX CARD FOLDER COMPONENT\r\n// ============================================\r\n\r\nexport default function IndexCardFolder({ children, className = \"\" }) {\r\n\r\n    return (\r\n        <div className={`\r\n            grid grid-cols-1  lg:grid-cols-3\r\n            2xl:grid-cols-[repeat(auto-fill,minmax(280px,1fr))]\r\n            gap-6 p-6\r\n            ${className}`}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File = function IndexCardFile({ children, className = \"\", to, href, onClick }) {\r\n    const navigate = useNavigate();\r\n    const isClickable = to || href || onClick;\r\n\r\n    const handleClick = (e) => {\n        const clickedElement = e.target instanceof Element ? e.target : null;\n        if (clickedElement?.closest(\"button, a, [data-card-ignore-click='true']\")) {\n            return;\n        }\n\r\n        if (onClick) {\r\n            onClick();\r\n        } else if (to) {\r\n            navigate(to);\r\n        } else if (href) {\r\n            window.location.href = href;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div \r\n            className={`\r\n                group relative\r\n                aspect-[3/4]\r\n                grid grid-rows-[20%-1fr-1fr]\r\n                p-5 rounded-2xl\r\n                bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\r\n                border-2 border-slate-700/50\r\n                shadow-xl shadow-black/20\r\n                overflow-hidden\r\n                transition-all duration-300 ease-out\r\n                ${isClickable ? 'cursor-pointer hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/20 hover:border-purple-500/50 hover:-translate-y-1' : ''} \r\n                ${className}\r\n            `}\r\n            onClick={isClickable ? handleClick : undefined}\r\n        > \r\n            {/* Subtle gradient overlay */}\r\n            <div className=\"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-blue-500/5 pointer-events-none\" />\r\n            \r\n            {/* Animated border glow on hover */}\r\n            {isClickable && (\r\n                <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-purple-500/0 via-purple-500/30 to-blue-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-xl -z-10\" />\r\n            )}\r\n            \r\n            <div className=\"relative z-10\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Top = function FileTop({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`row-start-1 mb-3 ${className}`}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Middle = function FileMiddle({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`row-start-2 ${className}`}>\r\n            {children}\r\n            <div className=\"relative mt-4 mb-3\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                    <div className=\"w-full border-t border-slate-700/50\" />\r\n                </div>\r\n                <div className=\"relative flex justify-center\">\r\n                    <div className=\"bg-gradient-to-r from-transparent via-purple-500/20 to-transparent h-px w-1/2\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Bottom = function FileBottom({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`\r\n            row-start-3 \r\n            flex flex-col items-center justify-start\r\n            overflow-y-auto\r\n            scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent\r\n            ${className}\r\n        `}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Image = function FileImage({ children, className = \"\", src, alt = \"\" }) {\r\n    return (\r\n        <div className={`\r\n            relative overflow-hidden rounded-xl\r\n            ring-2 ring-slate-700/50\r\n            ${className}\r\n        `}>\r\n            {src ? (\r\n                <img src={src} alt={alt} className=\"w-full h-full object-cover\" />\r\n            ) : (\r\n                children\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Title = function FileTitle({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`\r\n            text-lg font-bold text-white\r\n            mb-1\r\n            ${className}\r\n        `}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Description = function FileDescription({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`\r\n            text-slate-400 text-sm leading-relaxed\r\n            ${className}\r\n        `}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Actions = function FileAction({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`\r\n            flex gap-2 flex-wrap\r\n            mt-3\r\n            ${className}\r\n        `}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nIndexCardFolder.File.Detail = function FileDetail({ children, className = \"\" }) {\r\n    return (\r\n        <div className={`\r\n            bg-slate-800/40 backdrop-blur-sm\r\n            rounded-lg p-3\r\n            border border-slate-700/30\r\n            ${className}\r\n        `}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\n","import { useCallback, useContext, useEffect, useMemo, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport {\n    Eye,\n    Globe,\n    Lock,\n    LogOut,\n    Play,\n    RefreshCcw,\n    Save,\n    Settings,\n    Upload,\n    UserX,\n    Users,\n} from \"lucide-react\";\nimport Body from \"../../pageComponents/bodySkeleton\";\nimport Header from \"../../pageComponents/header\";\nimport IndexCardFolder from \"../../pageComponents/indexCard\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { emitWithAck } from \"./socketEmit\";\n\nfunction formatDateLabel(dateValue) {\n    const date = new Date(dateValue || \"\");\n    if (Number.isNaN(date.getTime())) return \"Unknown time\";\n    return date.toLocaleString();\n}\n\nfunction toID(value) {\n    return String(value || \"\");\n}\n\nfunction buildCampaignRoster(campaign) {\n    const dmID = toID(campaign?.dmId);\n    const byID = new Map();\n\n    if (dmID) {\n        byID.set(dmID, {\n            _id: dmID,\n            username: campaign?.dmName || \"DM\",\n        });\n    }\n\n    const players = Array.isArray(campaign?.players) ? campaign.players : [];\n    players.forEach((player) => {\n        const playerID = toID(player?._id || player);\n        if (!playerID) return;\n\n        const existing = byID.get(playerID);\n        byID.set(playerID, {\n            _id: playerID,\n            username: player?.username || existing?.username || \"Player\",\n        });\n    });\n\n    return Array.from(byID.values()).sort((a, b) => {\n        if (a._id === dmID) return -1;\n        if (b._id === dmID) return 1;\n        return (a.username || \"\").localeCompare(b.username || \"\");\n    });\n}\n\nfunction fallbackPlayerLabel(playerID) {\n    const normalizedID = toID(playerID);\n    if (!normalizedID) return \"Player\";\n    return `Player ${normalizedID.slice(-4).toUpperCase()}`;\n}\n\nfunction LobbyMenu() {\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n    const { sessionID } = useParams();\n    const playerID = localStorage.getItem(\"player_ID\");\n\n    const safeSessionID = useMemo(\n        () => sessionID || sessionStorage.getItem(\"session_ID\") || \"default\",\n        [sessionID]\n    );\n\n    const [campaigns, setCampaigns] = useState([]);\n    const [saveLists, setSaveLists] = useState({});\n    const [saveLoading, setSaveLoading] = useState({});\n    const [activeSaveMap, setActiveSaveMap] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n    const [busyAction, setBusyAction] = useState(\"\");\n    const [settingsCampaignID, setSettingsCampaignID] = useState(\"\");\n    const [descriptionModalCampaignID, setDescriptionModalCampaignID] = useState(\"\");\n    const [inviteUsernameByCampaign, setInviteUsernameByCampaign] = useState({});\n    const [characterStateByCampaign, setCharacterStateByCampaign] = useState({});\n    const [characterPickerState, setCharacterPickerState] = useState({\n        isOpen: false,\n        campaignID: \"\",\n        lobbyCode: \"\",\n        selectedCharacterID: \"\",\n        submitting: false,\n    });\n    const [characterPreviewState, setCharacterPreviewState] = useState({\n        isOpen: false,\n        campaignID: \"\",\n        assignment: null,\n        ownerName: \"\",\n        campaignName: \"\",\n    });\n    const [lobbyContextMenu, setLobbyContextMenu] = useState({\n        show: false,\n        x: 0,\n        y: 0,\n        campaignID: \"\",\n        campaignName: \"\",\n    });\n\n    const loadCampaigns = useCallback(async () => {\n        if (!socket || !playerID) {\n            setLoading(false);\n            setCampaigns([]);\n            setError(\"Missing player session. Please log in again.\");\n            return false;\n        }\n\n        setLoading(true);\n        const response = await emitWithAck(socket, \"campaign_list\", { playerID });\n        if (!response?.success) {\n            setCampaigns([]);\n            setLoading(false);\n            setError(response?.message || \"Failed to load campaigns\");\n            return false;\n        }\n\n        setCampaigns(Array.isArray(response.campaigns) ? response.campaigns : []);\n        setLoading(false);\n        setError(\"\");\n        return true;\n    }, [socket, playerID]);\n\n    const refreshSaveList = useCallback(\n        async (campaignID, { silent = false } = {}) => {\n            if (!socket || !playerID || !campaignID) return false;\n\n            if (!silent) setError(\"\");\n            setSaveLoading((prev) => ({ ...prev, [campaignID]: true }));\n\n            const response = await emitWithAck(socket, \"campaign_listGameSaves\", {\n                playerID,\n                campaignID,\n            });\n\n            setSaveLoading((prev) => ({ ...prev, [campaignID]: false }));\n\n            if (!response?.success) {\n                if (!silent) {\n                    setError(response?.message || \"Failed to load game saves\");\n                }\n                return false;\n            }\n\n            setSaveLists((prev) => ({\n                ...prev,\n                [campaignID]: Array.isArray(response.gameSaves) ? response.gameSaves : [],\n            }));\n            setActiveSaveMap((prev) => ({\n                ...prev,\n                [campaignID]: response.activeGameSave || \"\",\n            }));\n            return true;\n        },\n        [socket, playerID]\n    );\n\n    useEffect(() => {\n        loadCampaigns();\n    }, [loadCampaigns]);\n\n    useEffect(() => {\n        setSettingsCampaignID((prev) =>\n            campaigns.some((campaign) => campaign?._id === prev) ? prev : \"\"\n        );\n        setDescriptionModalCampaignID((prev) =>\n            campaigns.some((campaign) => campaign?._id === prev) ? prev : \"\"\n        );\n    }, [campaigns]);\n\n    useEffect(() => {\n        if (!lobbyContextMenu.show) return undefined;\n\n        const closeContextMenu = () => {\n            setLobbyContextMenu((prev) => ({ ...prev, show: false }));\n        };\n\n        window.addEventListener(\"click\", closeContextMenu);\n        return () => window.removeEventListener(\"click\", closeContextMenu);\n    }, [lobbyContextMenu.show]);\n\n    const isCampaignDM = useCallback(\n        (campaign) => toID(campaign?.dmId) === toID(playerID),\n        [playerID]\n    );\n\n    const buildFallbackCharacterState = useCallback(\n        async (campaign) => {\n            const campaignID = campaign?._id;\n            if (!socket || !playerID || !campaignID) return null;\n\n            const roster = buildCampaignRoster(campaign);\n            const rosterNameByID = new Map(\n                roster.map((member) => [toID(member?._id), member?.username || \"Player\"])\n            );\n            const assignmentList = Array.isArray(campaign.characterAssignments)\n                ? campaign.characterAssignments\n                : [];\n            const dmID = toID(campaign?.dmId);\n            const allCharactersByPlayer = assignmentList\n                .filter((assignment) => Boolean(toID(assignment?.playerId) && toID(assignment?.characterId)))\n                .map((assignment) => {\n                    const memberID = toID(assignment?.playerId);\n                    const selectedCharacterID = toID(assignment?.characterId);\n                    return {\n                        playerId: memberID,\n                        playerName:\n                            assignment?.playerName ||\n                            rosterNameByID.get(memberID) ||\n                            (memberID === dmID\n                                ? campaign?.dmName || \"DM\"\n                                : fallbackPlayerLabel(memberID)),\n                        assignedCharacterId: selectedCharacterID,\n                        characters: [\n                            {\n                                _id: selectedCharacterID,\n                                name:\n                                    assignment?.characterName ||\n                                    `Character ${selectedCharacterID.slice(-4).toUpperCase()}`,\n                                level: Number(assignment?.characterLevel) || 1,\n                                playerId: memberID,\n                                isSelected: true,\n                            },\n                        ],\n                    };\n                });\n\n            const myCharactersResponse = await emitWithAck(socket, \"playerData_getCharacter\", {\n                playerID,\n            });\n            const myCharacters =\n                myCharactersResponse?.success && Array.isArray(myCharactersResponse.characters)\n                    ? myCharactersResponse.characters.map((character) => ({\n                          _id: toID(character?._id || character?.id),\n                          name: character?.name || \"Unnamed Character\",\n                          level: Number(character?.level) || 1,\n                          playerId: toID(playerID),\n                      }))\n                    : [];\n\n            return {\n                assignments: assignmentList,\n                availableCharacters: myCharacters,\n                allCharactersByPlayer,\n                canManageAllCharacters: isCampaignDM(campaign),\n                loadedFromFallback: true,\n            };\n        },\n        [socket, playerID, isCampaignDM]\n    );\n\n    const refreshCampaignCharacterState = useCallback(\n        async (campaignID, campaignHint = null) => {\n            if (!socket || !playerID || !campaignID) {\n                return { success: false, state: null };\n            }\n\n            const response = await emitWithAck(socket, \"campaign_getCharacterChoices\", {\n                playerID,\n                campaignID,\n            });\n\n            const primaryState = response?.success\n                ? {\n                      assignments: Array.isArray(response.assignments)\n                          ? response.assignments\n                          : Array.isArray(response.campaign?.characterAssignments)\n                          ? response.campaign.characterAssignments\n                          : [],\n                      availableCharacters: Array.isArray(response.availableCharacters)\n                          ? response.availableCharacters\n                          : [],\n                      allCharactersByPlayer: Array.isArray(response.allCharactersByPlayer)\n                          ? response.allCharactersByPlayer\n                          : [],\n                      canManageAllCharacters: Boolean(response.canManageAllCharacters),\n                  }\n                : null;\n\n            const fallbackCampaign =\n                campaignHint ||\n                campaigns.find((campaign) => campaign?._id === campaignID) ||\n                response?.campaign ||\n                null;\n            const shouldUseFallback =\n                !response?.success ||\n                (isCampaignDM(fallbackCampaign) &&\n                    (!primaryState || !Array.isArray(primaryState.allCharactersByPlayer) ||\n                        primaryState.allCharactersByPlayer.length === 0));\n\n            if (shouldUseFallback && fallbackCampaign) {\n                const fallbackState = await buildFallbackCharacterState(fallbackCampaign);\n                if (fallbackState) {\n                    setCharacterStateByCampaign((prev) => ({\n                        ...prev,\n                        [campaignID]: fallbackState,\n                    }));\n                    return { success: true, state: fallbackState, fallbackUsed: true };\n                }\n            }\n\n            if (primaryState) {\n                setCharacterStateByCampaign((prev) => ({\n                    ...prev,\n                    [campaignID]: primaryState,\n                }));\n                return { success: true, state: primaryState };\n            }\n\n            return {\n                success: false,\n                state: null,\n                message: response?.message || \"Failed to load campaign character state\",\n            };\n        },\n        [socket, playerID, campaigns, isCampaignDM, buildFallbackCharacterState]\n    );\n\n    const getAssignmentsForCampaign = useCallback(\n        (campaignID, fallbackCampaign = null) => {\n            const stateEntry = characterStateByCampaign[campaignID];\n            if (stateEntry && Array.isArray(stateEntry.assignments)) {\n                return stateEntry.assignments;\n            }\n            if (fallbackCampaign && Array.isArray(fallbackCampaign.characterAssignments)) {\n                return fallbackCampaign.characterAssignments;\n            }\n            return [];\n        },\n        [characterStateByCampaign]\n    );\n\n    const getAvailableCharactersForCampaign = useCallback(\n        (campaignID) => {\n            const stateEntry = characterStateByCampaign[campaignID];\n            return Array.isArray(stateEntry?.availableCharacters)\n                ? stateEntry.availableCharacters\n                : [];\n        },\n        [characterStateByCampaign]\n    );\n\n    useEffect(() => {\n        if (!Array.isArray(campaigns) || campaigns.length === 0) {\n            setCharacterStateByCampaign({});\n            return;\n        }\n\n        const campaignIDs = new Set(campaigns.map((campaign) => campaign?._id).filter(Boolean));\n        setCharacterStateByCampaign((prev) => {\n            const next = {};\n            Object.entries(prev || {}).forEach(([campaignID, stateValue]) => {\n                if (campaignIDs.has(campaignID)) {\n                    next[campaignID] = stateValue;\n                }\n            });\n            return next;\n        });\n\n        campaigns.forEach((campaign) => {\n            if (!campaign?._id) return;\n            refreshCampaignCharacterState(campaign._id, campaign);\n        });\n    }, [campaigns, refreshCampaignCharacterState]);\n\n    const upsertCampaignFromResponse = useCallback((updatedCampaign) => {\n        if (!updatedCampaign?._id) return false;\n\n        let found = false;\n        setCampaigns((prev) =>\n            prev.map((existingCampaign) => {\n                if (existingCampaign._id !== updatedCampaign._id) return existingCampaign;\n                found = true;\n                return updatedCampaign;\n            })\n        );\n        return found;\n    }, []);\n\n    const goToGame = useCallback(\n        (gameID) => {\n            navigate(`/ISK/${safeSessionID}/game/${gameID}`);\n        },\n        [navigate, safeSessionID]\n    );\n\n    const handleStartLobby = useCallback(\n        async (campaignID) => {\n            if (!campaignID || !playerID) return;\n\n            setBusyAction(`start:${campaignID}`);\n            setError(\"\");\n            const response = await emitWithAck(socket, \"campaign_startLobby\", {\n                playerID,\n                campaignID,\n            });\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to start lobby\");\n                return;\n            }\n\n            setStatus(\"Lobby started successfully.\");\n            await loadCampaigns();\n            goToGame(response.gameID || campaignID);\n        },\n        [socket, playerID, goToGame, loadCampaigns]\n    );\n\n    const handleJoinLobby = useCallback(\n        async (campaignID, lobbyCode = \"\") => {\n            if (!campaignID || !playerID) return;\n\n            setBusyAction(`join:${campaignID}`);\n            setError(\"\");\n            const response = await emitWithAck(socket, \"campaign_joinLobby\", {\n                playerID,\n                campaignID,\n                lobbyCode,\n            });\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to join lobby\");\n                return;\n            }\n\n            setStatus(\"Joined lobby.\");\n            goToGame(response.gameID || campaignID);\n        },\n        [socket, playerID, goToGame]\n    );\n\n    const openCharacterPickerForCampaign = useCallback(\n        async (campaign) => {\n            const campaignID = campaign?._id;\n            if (!campaignID || !playerID) return;\n\n            let availableCharacters = getAvailableCharactersForCampaign(campaignID);\n\n            if (!availableCharacters.length) {\n                const refreshResult = await refreshCampaignCharacterState(campaignID, campaign);\n                if (refreshResult?.success) {\n                    availableCharacters = Array.isArray(refreshResult.state?.availableCharacters)\n                        ? refreshResult.state.availableCharacters\n                        : [];\n                }\n            }\n\n            if (!availableCharacters.length) {\n                const fallbackResponse = await emitWithAck(socket, \"playerData_getCharacter\", {\n                    playerID,\n                });\n                if (fallbackResponse?.success && Array.isArray(fallbackResponse.characters)) {\n                    availableCharacters = fallbackResponse.characters\n                        .map((character) => {\n                            const characterID = toID(character?._id || character?.id);\n                            if (!characterID) return null;\n                            return {\n                                _id: characterID,\n                                name: character?.name || \"Unnamed Character\",\n                                level: Number(character?.level) || 1,\n                                playerId: toID(playerID),\n                            };\n                        })\n                        .filter(Boolean);\n\n                    if (availableCharacters.length) {\n                        setCharacterStateByCampaign((prev) => ({\n                            ...prev,\n                            [campaignID]: {\n                                assignments: Array.isArray(prev?.[campaignID]?.assignments)\n                                    ? prev[campaignID].assignments\n                                    : Array.isArray(campaign?.characterAssignments)\n                                    ? campaign.characterAssignments\n                                    : [],\n                                availableCharacters,\n                                allCharactersByPlayer: Array.isArray(prev?.[campaignID]?.allCharactersByPlayer)\n                                    ? prev[campaignID].allCharactersByPlayer\n                                    : [],\n                                canManageAllCharacters: Boolean(prev?.[campaignID]?.canManageAllCharacters),\n                            },\n                        }));\n                    }\n                }\n            }\n\n            if (!availableCharacters.length) {\n                setError(\"No characters found for your account. Create or re-save one, then try again.\");\n                return;\n            }\n\n            const firstCharacterID = toID(availableCharacters[0]?._id || availableCharacters[0]?.id);\n            if (!firstCharacterID) {\n                setError(\"No valid character is available for this campaign.\");\n                return;\n            }\n\n            setError(\"\");\n            setCharacterPickerState({\n                isOpen: true,\n                campaignID,\n                lobbyCode: campaign?.activeLobby?.lobbyCode || \"\",\n                selectedCharacterID: firstCharacterID,\n                submitting: false,\n            });\n        },\n        [\n            playerID,\n            getAvailableCharactersForCampaign,\n            refreshCampaignCharacterState,\n            socket,\n        ]\n    );\n\n    const handleEnterLobbyRequest = useCallback(\n        async (campaign) => {\n            const campaignID = campaign?._id;\n            if (!campaignID || !playerID) return;\n\n            if (!campaign.activeLobby?.isActive || !campaign.activeLobby?.lobbyCode) {\n                setError(\"This campaign does not have an active lobby yet.\");\n                return;\n            }\n\n            const assignments = getAssignmentsForCampaign(campaignID, campaign);\n            const hasSelectedCharacter = assignments.some(\n                (assignment) =>\n                    toID(assignment?.playerId) === toID(playerID) && Boolean(toID(assignment?.characterId))\n            );\n\n            if (!isCampaignDM(campaign) && !hasSelectedCharacter) {\n                await openCharacterPickerForCampaign(campaign);\n                return;\n            }\n\n            handleJoinLobby(campaignID, campaign.activeLobby?.lobbyCode || \"\");\n        },\n        [\n            playerID,\n            getAssignmentsForCampaign,\n            isCampaignDM,\n            openCharacterPickerForCampaign,\n            handleJoinLobby,\n        ]\n    );\n\n    const handleConfirmCharacterSelection = useCallback(async () => {\n        const { campaignID, lobbyCode, selectedCharacterID } = characterPickerState;\n        if (!campaignID || !selectedCharacterID || !playerID) return;\n\n        setCharacterPickerState((prev) => ({ ...prev, submitting: true }));\n        setError(\"\");\n\n        const response = await emitWithAck(socket, \"campaign_setCharacterAssignment\", {\n            playerID,\n            campaignID,\n            characterID: selectedCharacterID,\n        });\n\n        if (!response?.success) {\n            setCharacterPickerState((prev) => ({ ...prev, submitting: false }));\n            setError(response?.message || \"Failed to select character\");\n            return;\n        }\n\n        setStatus(\"Character selected for this campaign.\");\n        if (response.campaign) {\n            upsertCampaignFromResponse(response.campaign);\n        }\n\n        await refreshCampaignCharacterState(campaignID, response.campaign || null);\n        setCharacterPickerState({\n            isOpen: false,\n            campaignID: \"\",\n            lobbyCode: \"\",\n            selectedCharacterID: \"\",\n            submitting: false,\n        });\n\n        await handleJoinLobby(campaignID, lobbyCode || \"\");\n    }, [\n        characterPickerState,\n        playerID,\n        socket,\n        upsertCampaignFromResponse,\n        refreshCampaignCharacterState,\n        handleJoinLobby,\n    ]);\n\n    const handleOpenCharacterPreview = useCallback((campaign, assignment, ownerName = \"\") => {\n        const campaignID = campaign?._id;\n        if (!campaignID || !assignment) return;\n\n        setCharacterPreviewState({\n            isOpen: true,\n            campaignID,\n            assignment,\n            ownerName: ownerName || assignment?.playerName || fallbackPlayerLabel(assignment?.playerId),\n            campaignName: campaign?.name || \"Campaign\",\n        });\n    }, []);\n\n    const handleViewCharacterFromPreview = useCallback(() => {\n        const characterID = toID(characterPreviewState?.assignment?.characterId);\n        if (!characterID) return;\n\n        setCharacterPreviewState({\n            isOpen: false,\n            campaignID: \"\",\n            assignment: null,\n            ownerName: \"\",\n            campaignName: \"\",\n        });\n        navigate(`/ISK/${safeSessionID}/character/view/${characterID}`);\n    }, [characterPreviewState, navigate, safeSessionID]);\n\n    const handleForceRemoveCharacterAssignment = useCallback(\n        async (campaign, assignment) => {\n            const campaignID = campaign?._id;\n            const targetPlayerID = toID(assignment?.playerId);\n            const characterID = toID(assignment?.characterId);\n            if (!socket || !playerID || !campaignID || !targetPlayerID || !characterID) return;\n\n            const characterName = assignment?.characterName || \"this character\";\n            const ownerName = assignment?.playerName || fallbackPlayerLabel(targetPlayerID);\n            const confirmed = window.confirm(\n                `Force remove ${characterName} from ${ownerName}? They will be messaged to choose another character.`\n            );\n            if (!confirmed) return;\n\n            const actionKey = `force-remove:${campaignID}:${targetPlayerID}`;\n            setBusyAction(actionKey);\n            setError(\"\");\n\n            const response = await emitWithAck(socket, \"campaign_forceRemoveCharacterAssignment\", {\n                playerID,\n                campaignID,\n                targetPlayerID,\n                characterID,\n            });\n\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to remove assigned character\");\n                return;\n            }\n\n            if (response.campaign) {\n                upsertCampaignFromResponse(response.campaign);\n            }\n            await refreshCampaignCharacterState(campaignID, response.campaign || campaign);\n            setStatus(`${ownerName} must choose a new character.`);\n        },\n        [socket, playerID, upsertCampaignFromResponse, refreshCampaignCharacterState]\n    );\n\n    const handleLobbyCardContextMenu = useCallback(\n        (event, campaign, isDM) => {\n            if (!campaign?._id || isDM) return;\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            setLobbyContextMenu({\n                show: true,\n                x: event.clientX,\n                y: event.clientY,\n                campaignID: campaign._id,\n                campaignName: campaign.name || \"Campaign\",\n            });\n        },\n        []\n    );\n\n    const handleLeaveCampaign = useCallback(\n        async (campaignID, campaignName = \"Campaign\") => {\n            if (!socket || !playerID || !campaignID) return;\n\n            const confirmed = window.confirm(`Leave \"${campaignName}\"?`);\n            if (!confirmed) return;\n\n            setBusyAction(`leave:${campaignID}`);\n            setError(\"\");\n            const response = await emitWithAck(socket, \"campaign_leave\", {\n                playerID,\n                campaignID,\n            });\n            setBusyAction(\"\");\n            setLobbyContextMenu((prev) => ({ ...prev, show: false }));\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to leave campaign\");\n                return;\n            }\n\n            setStatus(`You left ${campaignName}.`);\n            setCampaigns((prev) => prev.filter((campaign) => campaign?._id !== campaignID));\n            setCharacterStateByCampaign((prev) => {\n                const next = { ...prev };\n                delete next[campaignID];\n                return next;\n            });\n        },\n        [socket, playerID]\n    );\n\n    const handleQuickSave = useCallback(\n        async (campaign) => {\n            if (!campaign?._id || !playerID) return;\n\n            setBusyAction(`save:${campaign._id}`);\n            setError(\"\");\n            const response = await emitWithAck(socket, \"campaign_saveGame\", {\n                playerID,\n                campaignID: campaign._id,\n                name: `${campaign.name} Snapshot`,\n                description: \"Saved from campaign lobby menu\",\n                snapshot: {\n                    source: \"campaign_menu\",\n                    campaignID: campaign._id,\n                    savedAt: new Date().toISOString(),\n                },\n                metadata: {\n                    source: \"lobby_menu\",\n                },\n                makeActive: true,\n                isAutoSave: false,\n            });\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to save game\");\n                return;\n            }\n\n            setStatus(\"Game save created.\");\n            await Promise.all([loadCampaigns(), refreshSaveList(campaign._id, { silent: true })]);\n        },\n        [socket, playerID, loadCampaigns, refreshSaveList]\n    );\n\n    const handleLoadSave = useCallback(\n        async (campaignID, gameSaveID) => {\n            if (!campaignID || !gameSaveID || !playerID) return;\n\n            setBusyAction(`load:${campaignID}:${gameSaveID}`);\n            setError(\"\");\n            const response = await emitWithAck(socket, \"campaign_loadGame\", {\n                playerID,\n                campaignID,\n                gameSaveID,\n            });\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to load save\");\n                return;\n            }\n\n            setStatus(`Loaded save ${response?.gameSave?.name || \"\"}`.trim());\n            setActiveSaveMap((prev) => ({\n                ...prev,\n                [campaignID]: response.activeGameSave || gameSaveID,\n            }));\n            await loadCampaigns();\n        },\n        [socket, playerID, loadCampaigns]\n    );\n\n    const handleLobbyMemberToggle = useCallback(\n        async (campaign, memberID, shouldBeInLobby) => {\n            const campaignID = campaign?._id;\n            if (!socket || !campaignID || !playerID || !memberID) return;\n\n            if (!campaign.activeLobby?.isActive) {\n                setError(\"Start the lobby before changing lobby players.\");\n                return;\n            }\n\n            const currentMembers = new Set(\n                (Array.isArray(campaign.activeLobby?.members) ? campaign.activeLobby.members : []).map(\n                    (id) => toID(id)\n                )\n            );\n\n            if (shouldBeInLobby) {\n                currentMembers.add(toID(memberID));\n            } else {\n                currentMembers.delete(toID(memberID));\n            }\n\n            const dmID = toID(campaign.dmId);\n            if (dmID) currentMembers.add(dmID);\n\n            const actionKey = `settings:${campaignID}:${memberID}`;\n            setBusyAction(actionKey);\n            setError(\"\");\n\n            const response = await emitWithAck(socket, \"campaign_setLobbyMembers\", {\n                playerID,\n                campaignID,\n                memberIDs: Array.from(currentMembers),\n            });\n\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to update lobby players\");\n                return;\n            }\n\n            setStatus(\"Lobby players updated.\");\n            if (upsertCampaignFromResponse(response.campaign)) {\n                await refreshCampaignCharacterState(campaignID, response.campaign || campaign);\n                return;\n            }\n\n            await loadCampaigns();\n        },\n        [socket, playerID, loadCampaigns, upsertCampaignFromResponse, refreshCampaignCharacterState]\n    );\n\n    const handleManagePlayer = useCallback(\n        async (campaign, targetPlayerID, action, providedTargetName = \"\") => {\n            const campaignID = campaign?._id;\n            if (!socket || !playerID || !campaignID || !targetPlayerID || !action) return;\n\n            const targetMember = (Array.isArray(campaign.players) ? campaign.players : []).find(\n                (member) => toID(member?._id || member) === toID(targetPlayerID)\n            );\n            const targetName =\n                providedTargetName ||\n                targetMember?.username ||\n                `Player ${toID(targetPlayerID).slice(-4).toUpperCase()}`;\n\n            const actionLabel =\n                action === \"ban\" ? \"ban\" : action === \"unban\" ? \"unban\" : \"kick\";\n            const confirmed = window.confirm(\n                `Are you sure you want to ${actionLabel} ${targetName}?`\n            );\n            if (!confirmed) return;\n\n            const actionKey = `manage:${campaignID}:${targetPlayerID}:${action}`;\n            setBusyAction(actionKey);\n            setError(\"\");\n\n            const response = await emitWithAck(socket, \"campaign_managePlayer\", {\n                playerID,\n                campaignID,\n                targetPlayerID,\n                action,\n            });\n\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || `Failed to ${actionLabel} player`);\n                return;\n            }\n\n            if (action === \"ban\") {\n                setStatus(`${targetName} has been banned.`);\n            } else if (action === \"unban\") {\n                setStatus(`${targetName} has been unbanned.`);\n            } else {\n                setStatus(`${targetName} has been removed.`);\n            }\n            if (upsertCampaignFromResponse(response.campaign)) {\n                await refreshCampaignCharacterState(campaignID, response.campaign || campaign);\n                return;\n            }\n            await loadCampaigns();\n        },\n        [socket, playerID, loadCampaigns, upsertCampaignFromResponse, refreshCampaignCharacterState]\n    );\n\n    const handleInvitePlayer = useCallback(\n        async (campaign) => {\n            const campaignID = campaign?._id;\n            const rawUsername = inviteUsernameByCampaign[campaignID] || \"\";\n            const username = rawUsername.trim();\n            if (!socket || !playerID || !campaignID) return;\n            if (!username) {\n                setError(\"Enter a username to invite.\");\n                return;\n            }\n\n            const actionKey = `invite:${campaignID}`;\n            setBusyAction(actionKey);\n            setError(\"\");\n\n            const response = await emitWithAck(socket, \"campaign_invitePlayer\", {\n                playerID,\n                campaignID,\n                username,\n            });\n\n            setBusyAction(\"\");\n\n            if (!response?.success) {\n                setError(response?.message || \"Failed to invite player\");\n                return;\n            }\n\n            setInviteUsernameByCampaign((prev) => ({ ...prev, [campaignID]: \"\" }));\n            const invitedName = response?.invitedPlayer?.username || username;\n            if (response?.alreadyMember) {\n                setStatus(`${invitedName} is already in this campaign.`);\n            } else if (response?.alreadyInvited) {\n                setStatus(`${invitedName} already has a pending invite.`);\n            } else {\n                setStatus(`Invite sent to ${invitedName}.`);\n            }\n            if (upsertCampaignFromResponse(response.campaign)) {\n                return;\n            }\n            await loadCampaigns();\n        },\n        [socket, playerID, inviteUsernameByCampaign, loadCampaigns, upsertCampaignFromResponse]\n    );\n\n    const descriptionModalCampaign = useMemo(\n        () => campaigns.find((campaign) => campaign?._id === descriptionModalCampaignID) || null,\n        [campaigns, descriptionModalCampaignID]\n    );\n\n    const settingsModalData = useMemo(() => {\n        const campaign = campaigns.find((entry) => entry?._id === settingsCampaignID);\n        if (!campaign || !isCampaignDM(campaign)) return null;\n\n        const campaignID = campaign._id;\n        const roster = buildCampaignRoster(campaign);\n        const rosterByID = new Map(\n            roster.map((member) => [toID(member?._id), member?.username || \"Player\"])\n        );\n        const nonDmPlayers = roster.filter((member) => toID(member._id) !== toID(campaign.dmId));\n        const bannedPlayers = Array.isArray(campaign.bannedPlayers) ? campaign.bannedPlayers : [];\n        const selectedAssignmentsForDM = getAssignmentsForCampaign(campaignID, campaign)\n            .filter((assignment) => toID(assignment?.characterId))\n            .map((assignment) => {\n                const selectedPlayerID = toID(assignment?.playerId);\n                const selectedCharacterID = toID(assignment?.characterId);\n                return {\n                    ...assignment,\n                    playerId: selectedPlayerID,\n                    playerName:\n                        assignment?.playerName ||\n                        rosterByID.get(selectedPlayerID) ||\n                        fallbackPlayerLabel(selectedPlayerID),\n                    characterId: selectedCharacterID,\n                    characterName:\n                        assignment?.characterName ||\n                        `Character ${selectedCharacterID.slice(-4).toUpperCase()}`,\n                    characterLevel: Number(assignment?.characterLevel) || 1,\n                };\n            })\n            .sort((a, b) => String(a?.playerName || \"\").localeCompare(String(b?.playerName || \"\")));\n        const lobbyMembers = new Set(\n            (Array.isArray(campaign.activeLobby?.members) ? campaign.activeLobby.members : []).map(\n                (memberID) => toID(memberID)\n            )\n        );\n\n        return {\n            campaign,\n            campaignID,\n            roster,\n            nonDmPlayers,\n            bannedPlayers,\n            selectedAssignmentsForDM,\n            lobbyMembers,\n            isSettingsBusy: busyAction.startsWith(`settings:${campaignID}:`),\n            isManageBusy: busyAction.startsWith(`manage:${campaignID}:`),\n            isInviteBusy: busyAction === `invite:${campaignID}`,\n            isForceRemoveBusy: busyAction.startsWith(`force-remove:${campaignID}:`),\n        };\n    }, [campaigns, settingsCampaignID, isCampaignDM, getAssignmentsForCampaign, busyAction]);\n\n    const characterPickerCampaign = useMemo(\n        () => campaigns.find((campaign) => campaign?._id === characterPickerState.campaignID) || null,\n        [campaigns, characterPickerState.campaignID]\n    );\n\n    const characterPickerCharacters = useMemo(\n        () => getAvailableCharactersForCampaign(characterPickerState.campaignID),\n        [characterPickerState.campaignID, getAvailableCharactersForCampaign]\n    );\n\n    return (\n        <Body className=\"bg-website-default-900 text-website-default-100\">\n            <Header className=\"col-span-3\" title=\"Campaign Lobby\" />\n            <Body.Left className=\"row-span-1 col-start-1\" />\n\n            <Body.Center className=\"row-span-1 col-start-2 min-h-screen pb-8\">\n                <div className=\"px-6 pt-6 pb-2 space-y-3 text-left\">\n                    <div className=\"flex flex-wrap items-center gap-3\">\n                        <Link\n                            to={`/ISK/${safeSessionID}/lobby/create`}\n                            className=\"px-4 py-2 rounded-lg border border-website-specials-500 bg-website-default-800 hover:bg-website-default-700 transition-colors text-sm font-semibold\"\n                        >\n                            Create Campaign\n                        </Link>\n                        <Link\n                            to={`/ISK/${safeSessionID}/lobby/join`}\n                            className=\"px-4 py-2 rounded-lg border border-website-highlights-500 bg-website-default-800 hover:bg-website-default-700 transition-colors text-sm font-semibold\"\n                        >\n                            Join Campaign\n                        </Link>\n                        <button\n                            type=\"button\"\n                            onClick={loadCampaigns}\n                            className=\"px-4 py-2 rounded-lg border border-website-default-600 bg-website-default-800 hover:bg-website-default-700 transition-colors text-sm font-semibold inline-flex items-center gap-2\"\n                        >\n                            <RefreshCcw className=\"size-4\" />\n                            Refresh\n                        </button>\n                    </div>\n\n                    {error && (\n                        <div className=\"rounded border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300\">\n                            {error}\n                        </div>\n                    )}\n                    {status && (\n                        <div className=\"rounded border border-website-highlights-500/50 bg-website-highlights-500/10 px-3 py-2 text-sm text-website-neutral-100\">\n                            {status}\n                        </div>\n                    )}\n                </div>\n\n                <IndexCardFolder className=\"items-start lg:!grid-cols-2 2xl:!grid-cols-3\">\n                    {!loading &&\n                        campaigns.map((campaign) => {\n                            const campaignID = campaign._id;\n                            const isDM = isCampaignDM(campaign);\n                            const roster = buildCampaignRoster(campaign);\n                            const rosterByID = new Map(\n                                roster.map((member) => [toID(member?._id), member?.username || \"Player\"])\n                            );\n                            const lobbyAssignments = getAssignmentsForCampaign(campaignID, campaign).filter(\n                                (assignment) => toID(assignment?.characterId)\n                            );\n                            const saves = saveLists[campaignID] || [];\n                            const isSaveLoading = Boolean(saveLoading[campaignID]);\n                            const activeSaveID = activeSaveMap[campaignID] || campaign.activeGameSave || \"\";\n                            const lobbyMembers = new Set(\n                                (Array.isArray(campaign.activeLobby?.members)\n                                    ? campaign.activeLobby.members\n                                    : []\n                                ).map((memberID) => toID(memberID))\n                            );\n                            const playerCanEnterLobby =\n                                isDM || lobbyMembers.size === 0 || lobbyMembers.has(toID(playerID));\n\n                            return (\n                                <div\n                                    key={campaignID}\n                                    onContextMenu={(event) =>\n                                        handleLobbyCardContextMenu(event, campaign, isDM)\n                                    }\n                                >\n                                    <IndexCardFolder.File\n                                        onClick={\n                                            !isDM\n                                                ? () => setDescriptionModalCampaignID(campaignID)\n                                                : undefined\n                                        }\n                                        className=\"!aspect-auto min-h-[620px] h-[72vh] max-h-[860px] !grid-rows-[auto_1fr_auto] hover:!scale-100 hover:!translate-y-0\"\n                                    >\n                                        <IndexCardFolder.File.Top>\n                                        <div className=\"flex items-start justify-between gap-3\">\n                                            <IndexCardFolder.File.Title className=\"mb-0\">\n                                                {campaign.name}\n                                            </IndexCardFolder.File.Title>\n                                            {isDM ? (\n                                                <span className=\"inline-flex items-center rounded-md border border-website-specials-500/60 bg-website-specials-500/10 px-2 py-1 text-[10px] font-bold tracking-wider text-website-specials-400\">\n                                                    {campaign.joinCode || \"NO CODE\"}\n                                                </span>\n                                            ) : (\n                                                <span className=\"inline-flex items-center rounded-md border border-website-default-600/70 bg-website-default-700/40 px-2 py-1 text-[10px] font-semibold tracking-wider text-website-default-300\">\n                                                    {campaign.dmName ? `DM: ${campaign.dmName}` : \"PLAYER\"}\n                                                </span>\n                                            )}\n                                        </div>\n                                        <IndexCardFolder.File.Description\n                                            className={`mt-2 text-xs ${isDM ? \"line-clamp-3\" : \"\"}`}\n                                        >\n                                            {isDM\n                                                ? campaign.description || \"No description set.\"\n                                                : \"Click this card to view lobby description.\"}\n                                        </IndexCardFolder.File.Description>\n                                    </IndexCardFolder.File.Top>\n\n                                    <IndexCardFolder.File.Middle className=\"text-left min-h-0 overflow-y-auto pr-1\">\n                                        <div className=\"space-y-2 text-xs text-slate-300\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <Users className=\"size-3.5 text-website-highlights-400\" />\n                                                <span>\n                                                    {campaign.memberCount}/{campaign.maxPlayers} members\n                                                </span>\n                                            </div>\n                                            <div className=\"flex items-center gap-2\">\n                                                {campaign.isPrivate ? (\n                                                    <Lock className=\"size-3.5 text-website-specials-400\" />\n                                                ) : (\n                                                    <Globe className=\"size-3.5 text-website-highlights-400\" />\n                                                )}\n                                                <span>{campaign.isPrivate ? \"Private\" : \"Public\"}</span>\n                                            </div>\n                                            <div className=\"text-slate-400\">\n                                                Setting: {campaign.setting || \"Unspecified\"}\n                                            </div>\n                                            <div\n                                                className={`text-xs font-semibold ${\n                                                    campaign.activeLobby?.isActive\n                                                        ? \"text-emerald-400\"\n                                                        : \"text-slate-400\"\n                                                }`}\n                                            >\n                                                {campaign.activeLobby?.isActive\n                                                    ? isDM\n                                                        ? `Lobby active: ${\n                                                              campaign.activeLobby?.lobbyCode || \"N/A\"\n                                                          }`\n                                                        : \"Lobby active\"\n                                                    : \"Lobby inactive\"}\n                                            </div>\n                                            {isDM && (\n                                                <div className=\"text-[11px] text-slate-500 truncate\">\n                                                    Active Save:{\" \"}\n                                                    {activeSaveID\n                                                        ? activeSaveID.slice(-8).toUpperCase()\n                                                        : \"None\"}\n                                                </div>\n                                            )}\n                                        </div>\n\n                                        <div className=\"mt-4 rounded-md border border-slate-700/70 bg-slate-900/50 p-3\">\n                                            <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                                Selected Characters\n                                            </div>\n                                            {lobbyAssignments.length === 0 ? (\n                                                <div className=\"mt-2 text-xs text-slate-500\">\n                                                    No one has selected a character yet.\n                                                </div>\n                                            ) : (\n                                                <div className=\"mt-2 flex flex-wrap gap-2\">\n                                                    {lobbyAssignments.map((assignment) => {\n                                                        const assignmentPlayerID = toID(assignment?.playerId);\n                                                        const ownerName =\n                                                            assignment?.playerName ||\n                                                            rosterByID.get(assignmentPlayerID) ||\n                                                            fallbackPlayerLabel(assignmentPlayerID);\n                                                        const characterID = toID(assignment?.characterId);\n                                                        const characterName =\n                                                            assignment?.characterName ||\n                                                            `Character ${characterID.slice(-4).toUpperCase()}`;\n                                                        const isMine = assignmentPlayerID === toID(playerID);\n\n                                                        return (\n                                                            <button\n                                                                key={`${assignmentPlayerID}:${characterID}`}\n                                                                type=\"button\"\n                                                                onClick={(event) => {\n                                                                    event.stopPropagation();\n                                                                    handleOpenCharacterPreview(\n                                                                        campaign,\n                                                                        assignment,\n                                                                        ownerName\n                                                                    );\n                                                                }}\n                                                                className={`rounded border px-2 py-1 text-left transition-colors ${\n                                                                    isMine\n                                                                        ? \"border-website-highlights-500/50 bg-website-highlights-500/10 text-website-neutral-100\"\n                                                                        : \"border-slate-700 bg-slate-800/60 text-slate-200 hover:bg-slate-700/60\"\n                                                                }`}\n                                                            >\n                                                                <div className=\"text-[11px] font-semibold truncate\">\n                                                                    {characterName}\n                                                                </div>\n                                                                <div className=\"text-[10px] text-slate-400 truncate\">\n                                                                    {ownerName}\n                                                                    {isMine ? \" (You)\" : \"\"}\n                                                                </div>\n                                                            </button>\n                                                        );\n                                                    })}\n                                                </div>\n                                            )}\n                                        </div>\n\n                                        <div className=\"mt-4 flex flex-wrap gap-2\">\n                                            {campaign.activeLobby?.isActive ? (\n                                                <>\n                                                    {playerCanEnterLobby ? (\n                                                        <button\n                                                            type=\"button\"\n                                                            onClick={() => handleEnterLobbyRequest(campaign)}\n                                                            disabled={busyAction === `join:${campaignID}`}\n                                                            className=\"inline-flex items-center gap-2 rounded-md border border-emerald-500/50 bg-emerald-500/10 px-3 py-2 text-xs font-semibold text-emerald-300 hover:bg-emerald-500/20 disabled:opacity-50\"\n                                                        >\n                                                            <Play className=\"size-3.5\" />\n                                                            Enter Lobby\n                                                        </button>\n                                                    ) : (\n                                                        <button\n                                                            type=\"button\"\n                                                            disabled\n                                                            className=\"inline-flex items-center gap-2 rounded-md border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-xs font-semibold text-amber-300 disabled:opacity-100\"\n                                                        >\n                                                            Lobby locked by DM\n                                                        </button>\n                                                    )}\n                                                    {!isDM && playerCanEnterLobby && (\n                                                        <button\n                                                            type=\"button\"\n                                                            onClick={() => openCharacterPickerForCampaign(campaign)}\n                                                            className=\"inline-flex items-center gap-2 rounded-md border border-website-highlights-500/50 bg-website-highlights-500/10 px-3 py-2 text-xs font-semibold text-website-neutral-100 hover:bg-website-highlights-500/20\"\n                                                        >\n                                                            Choose Character\n                                                        </button>\n                                                    )}\n                                                </>\n                                            ) : (\n                                                <>\n                                                    {isDM ? (\n                                                        <button\n                                                            type=\"button\"\n                                                            onClick={() => handleStartLobby(campaignID)}\n                                                            disabled={busyAction === `start:${campaignID}`}\n                                                            className=\"inline-flex items-center gap-2 rounded-md border border-website-highlights-500/50 bg-website-highlights-500/10 px-3 py-2 text-xs font-semibold text-website-neutral-100 hover:bg-website-highlights-500/20 disabled:opacity-50\"\n                                                        >\n                                                            <Play className=\"size-3.5\" />\n                                                            Start Lobby\n                                                        </button>\n                                                    ) : (\n                                                        <button\n                                                            type=\"button\"\n                                                            disabled\n                                                            className=\"inline-flex items-center gap-2 rounded-md border border-slate-700 bg-slate-800/40 px-3 py-2 text-xs font-semibold text-slate-400 disabled:opacity-100\"\n                                                        >\n                                                            Waiting for DM\n                                                        </button>\n                                                    )}\n                                                </>\n                                            )}\n\n                                            {isDM && (\n                                                <>\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() => handleQuickSave(campaign)}\n                                                        disabled={busyAction === `save:${campaignID}`}\n                                                        className=\"inline-flex items-center gap-2 rounded-md border border-website-specials-500/50 bg-website-specials-500/10 px-3 py-2 text-xs font-semibold text-website-specials-300 hover:bg-website-specials-500/20 disabled:opacity-50\"\n                                                    >\n                                                        <Save className=\"size-3.5\" />\n                                                        Quick Save\n                                                    </button>\n\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() => refreshSaveList(campaignID)}\n                                                        className=\"inline-flex items-center gap-2 rounded-md border border-slate-600 bg-slate-800/40 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-700/40\"\n                                                    >\n                                                        <RefreshCcw className=\"size-3.5\" />\n                                                        Refresh Saves\n                                                    </button>\n\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() =>\n                                                            setSettingsCampaignID((prev) =>\n                                                                prev === campaignID ? \"\" : campaignID\n                                                            )\n                                                        }\n                                                        className=\"inline-flex items-center gap-2 rounded-md border border-slate-500/60 bg-slate-700/30 px-3 py-2 text-xs font-semibold text-slate-100 hover:bg-slate-700/50\"\n                                                    >\n                                                        <Settings className=\"size-3.5\" />\n                                                        Lobby Settings\n                                                    </button>\n                                                </>\n                                            )}\n                                        </div>\n\n                                    </IndexCardFolder.File.Middle>\n\n                                    <IndexCardFolder.File.Bottom className=\"items-stretch gap-2 !overflow-visible\">\n                                        {isDM ? (\n                                            <>\n                                                <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                                    Recent Saves\n                                                </div>\n                                                {isSaveLoading && (\n                                                    <div className=\"text-xs text-slate-500\">\n                                                        Loading saves...\n                                                    </div>\n                                                )}\n                                                {!isSaveLoading && saves.length === 0 && (\n                                                    <div className=\"text-xs text-slate-500\">No saves yet.</div>\n                                                )}\n                                                {!isSaveLoading &&\n                                                    saves.slice(0, 3).map((save) => {\n                                                        const isActive = activeSaveID === save._id;\n                                                        const loadKey = `load:${campaignID}:${save._id}`;\n                                                        return (\n                                                            <button\n                                                                key={save._id}\n                                                                type=\"button\"\n                                                                onClick={() =>\n                                                                    handleLoadSave(campaignID, save._id)\n                                                                }\n                                                                disabled={busyAction === loadKey}\n                                                                className={`rounded-md border px-3 py-2 text-left text-xs transition-colors ${\n                                                                    isActive\n                                                                        ? \"border-website-highlights-500/70 bg-website-highlights-500/15\"\n                                                                        : \"border-slate-700 bg-slate-800/40 hover:bg-slate-700/40\"\n                                                                }`}\n                                                            >\n                                                                <div className=\"flex items-center justify-between gap-2\">\n                                                                    <span className=\"font-semibold text-website-neutral-100 truncate\">\n                                                                        {save.name}\n                                                                    </span>\n                                                                    {isActive && (\n                                                                        <span className=\"text-[10px] uppercase tracking-wider text-website-highlights-300\">\n                                                                            Active\n                                                                        </span>\n                                                                    )}\n                                                                </div>\n                                                                <div className=\"mt-1 text-[10px] text-slate-400 flex items-center gap-1\">\n                                                                    <Upload className=\"size-3\" />\n                                                                    {formatDateLabel(\n                                                                        save.updatedAt || save.createdAt\n                                                                    )}\n                                                                </div>\n                                                            </button>\n                                                        );\n                                                    })}\n                                            </>\n                                        ) : (\n                                            <>\n                                                <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                                    Lobby Description\n                                                </div>\n                                                <div className=\"text-xs text-slate-500\">\n                                                    Click this card to open the lobby description popup.\n                                                </div>\n                                            </>\n                                        )}\n                                    </IndexCardFolder.File.Bottom>\n                                    </IndexCardFolder.File>\n                                </div>\n                            );\n                        })}\n\n                    <IndexCardFolder.File\n                        to={`/ISK/${safeSessionID}/lobby/create`}\n                        className=\"!aspect-auto min-h-[620px] h-[72vh] max-h-[860px] !grid-rows-[auto_1fr_auto] hover:!scale-100 hover:!translate-y-0\"\n                    >\n                        <IndexCardFolder.File.Bottom className=\"justify-center\">\n                            <div className=\"text-3xl text-website-specials-400\">+</div>\n                            <IndexCardFolder.File.Detail className=\"mt-3 text-center text-sm\">\n                                Create New Campaign\n                            </IndexCardFolder.File.Detail>\n                        </IndexCardFolder.File.Bottom>\n                    </IndexCardFolder.File>\n                </IndexCardFolder>\n\n                {loading && (\n                    <div className=\"px-6 text-left text-sm text-slate-400 pb-6\">Loading campaigns...</div>\n                )}\n\n                {lobbyContextMenu.show && (\n                    <div\n                        className=\"fixed z-[110] w-56 rounded-lg border border-slate-700 bg-slate-900/95 px-2 py-2 shadow-2xl\"\n                        style={{ top: lobbyContextMenu.y, left: lobbyContextMenu.x }}\n                        onClick={(event) => event.stopPropagation()}\n                    >\n                        <div className=\"px-2 pb-2 text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                            Campaign Actions\n                        </div>\n                        <button\n                            type=\"button\"\n                            onClick={() =>\n                                handleLeaveCampaign(\n                                    lobbyContextMenu.campaignID,\n                                    lobbyContextMenu.campaignName\n                                )\n                            }\n                            disabled={busyAction === `leave:${lobbyContextMenu.campaignID}`}\n                            className=\"flex w-full items-center gap-2 rounded border border-red-500/40 bg-red-500/10 px-2 py-2 text-left text-xs font-semibold text-red-300 hover:bg-red-500/20 disabled:opacity-60\"\n                        >\n                            <LogOut className=\"size-3.5\" />\n                            Leave Campaign\n                        </button>\n                    </div>\n                )}\n\n                {settingsModalData && (\n                    <div\n                        className=\"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm p-4 flex items-center justify-center\"\n                        onClick={() => setSettingsCampaignID(\"\")}\n                    >\n                        <div\n                            className=\"w-full max-w-3xl rounded-xl border border-slate-700 bg-slate-900 text-slate-100 p-5 shadow-2xl max-h-[88vh] flex flex-col\"\n                            onClick={(event) => event.stopPropagation()}\n                        >\n                            <div className=\"flex items-start justify-between gap-4\">\n                                <div>\n                                    <h2 className=\"text-lg font-bold\">Lobby Settings</h2>\n                                    <div className=\"mt-1 text-xs text-slate-400\">\n                                        {settingsModalData.campaign?.name || \"Campaign\"}\n                                    </div>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setSettingsCampaignID(\"\")}\n                                    className=\"rounded border border-slate-600 bg-slate-800 px-2 py-1 text-xs font-semibold text-slate-200 hover:bg-slate-700\"\n                                >\n                                    Close\n                                </button>\n                            </div>\n\n                            <div className=\"mt-4 space-y-4 overflow-y-auto pr-2\">\n                                <div>\n                                    <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                        Lobby Access\n                                    </div>\n                                    {!settingsModalData.campaign.activeLobby?.isActive && (\n                                        <div className=\"mt-1 text-xs text-amber-300\">\n                                            Start the lobby first, then choose who can enter.\n                                        </div>\n                                    )}\n                                    {settingsModalData.campaign.activeLobby?.isActive &&\n                                        settingsModalData.roster.map((member) => {\n                                            const memberID = toID(member._id);\n                                            const memberIsDM =\n                                                memberID === toID(settingsModalData.campaign.dmId);\n                                            const checked =\n                                                memberIsDM ||\n                                                settingsModalData.lobbyMembers.has(memberID);\n                                            const label =\n                                                member.username ||\n                                                `Player ${memberID.slice(-4).toUpperCase()}`;\n\n                                            return (\n                                                <label\n                                                    key={memberID}\n                                                    className=\"mt-2 flex items-center justify-between gap-3 text-xs text-slate-200\"\n                                                >\n                                                    <span className=\"truncate\">\n                                                        {label}\n                                                        {memberIsDM ? \" (DM)\" : \"\"}\n                                                    </span>\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        checked={checked}\n                                                        disabled={\n                                                            memberIsDM || settingsModalData.isSettingsBusy\n                                                        }\n                                                        onChange={(event) =>\n                                                            handleLobbyMemberToggle(\n                                                                settingsModalData.campaign,\n                                                                memberID,\n                                                                event.target.checked\n                                                            )\n                                                        }\n                                                        className=\"size-4 rounded border-slate-600 bg-slate-800\"\n                                                    />\n                                                </label>\n                                            );\n                                        })}\n                                </div>\n\n                                <div className=\"border-t border-slate-700/80 pt-3\">\n                                    <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                        Campaign Players\n                                    </div>\n                                    {settingsModalData.nonDmPlayers.length === 0 && (\n                                        <div className=\"mt-2 text-xs text-slate-400\">\n                                            No players to manage yet.\n                                        </div>\n                                    )}\n                                    {settingsModalData.nonDmPlayers.map((member) => {\n                                        const memberID = toID(member._id);\n                                        const label =\n                                            member.username ||\n                                            `Player ${memberID.slice(-4).toUpperCase()}`;\n\n                                        return (\n                                            <div\n                                                key={memberID}\n                                                className=\"mt-2 flex items-center justify-between gap-2 rounded border border-slate-700/80 bg-slate-800/40 px-2 py-2\"\n                                            >\n                                                <span className=\"truncate text-xs text-slate-200\">\n                                                    {label}\n                                                </span>\n                                                <div className=\"flex items-center gap-2\">\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() =>\n                                                            handleManagePlayer(\n                                                                settingsModalData.campaign,\n                                                                memberID,\n                                                                \"kick\",\n                                                                label\n                                                            )\n                                                        }\n                                                        disabled={settingsModalData.isManageBusy}\n                                                        className=\"rounded border border-amber-500/40 bg-amber-500/10 px-2 py-1 text-[11px] font-semibold text-amber-300 hover:bg-amber-500/20 disabled:opacity-60\"\n                                                    >\n                                                        Kick\n                                                    </button>\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() =>\n                                                            handleManagePlayer(\n                                                                settingsModalData.campaign,\n                                                                memberID,\n                                                                \"ban\",\n                                                                label\n                                                            )\n                                                        }\n                                                        disabled={settingsModalData.isManageBusy}\n                                                        className=\"rounded border border-red-500/40 bg-red-500/10 px-2 py-1 text-[11px] font-semibold text-red-300 hover:bg-red-500/20 disabled:opacity-60\"\n                                                    >\n                                                        Ban\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n\n                                <div className=\"border-t border-slate-700/80 pt-3\">\n                                    <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                        Selected Characters\n                                    </div>\n                                    {settingsModalData.selectedAssignmentsForDM.length === 0 && (\n                                        <div className=\"mt-2 text-xs text-slate-400\">\n                                            No players have selected a character yet.\n                                        </div>\n                                    )}\n                                    {settingsModalData.selectedAssignmentsForDM.map((assignment) => {\n                                        const groupPlayerID = toID(assignment?.playerId);\n                                        const playerName = assignment?.playerName;\n                                        const selectedCharacterID = toID(assignment?.characterId);\n                                        const characterName =\n                                            assignment?.characterName ||\n                                            `Character ${selectedCharacterID.slice(-4).toUpperCase()}`;\n                                        const canForceRemove =\n                                            Boolean(groupPlayerID) &&\n                                            groupPlayerID !== toID(settingsModalData.campaign.dmId);\n                                        const forceRemoveBusy =\n                                            busyAction ===\n                                            `force-remove:${settingsModalData.campaignID}:${groupPlayerID}`;\n                                        const assignmentForPreview = {\n                                            playerId: groupPlayerID,\n                                            playerName,\n                                            characterId: selectedCharacterID,\n                                            characterName,\n                                            characterLevel: Number(assignment?.characterLevel) || 1,\n                                        };\n\n                                        return (\n                                            <div\n                                                key={`${groupPlayerID || \"player\"}:${selectedCharacterID}`}\n                                                className=\"mt-2 rounded border border-slate-700/80 bg-slate-800/40 px-2 py-2\"\n                                            >\n                                                <div className=\"text-xs font-semibold text-slate-200\">\n                                                    {playerName}\n                                                    {groupPlayerID === toID(settingsModalData.campaign.dmId)\n                                                        ? \" (DM)\"\n                                                        : \"\"}\n                                                </div>\n                                                <div className=\"mt-2 flex items-center justify-between gap-2 rounded border border-slate-700/70 bg-slate-900/40 px-2 py-1\">\n                                                    <button\n                                                        type=\"button\"\n                                                        onClick={() =>\n                                                            handleOpenCharacterPreview(\n                                                                settingsModalData.campaign,\n                                                                assignmentForPreview,\n                                                                playerName\n                                                            )\n                                                        }\n                                                        className=\"truncate text-left text-[11px] text-slate-200 hover:text-website-neutral-100\"\n                                                    >\n                                                        {characterName} (Lv{\" \"}\n                                                        {Number(assignment?.characterLevel) || 1}) -\n                                                        Selected\n                                                    </button>\n                                                    {canForceRemove && (\n                                                        <button\n                                                            type=\"button\"\n                                                            onClick={() =>\n                                                                handleForceRemoveCharacterAssignment(\n                                                                    settingsModalData.campaign,\n                                                                    assignmentForPreview\n                                                                )\n                                                            }\n                                                            disabled={\n                                                                forceRemoveBusy ||\n                                                                settingsModalData.isForceRemoveBusy\n                                                            }\n                                                            className=\"inline-flex items-center gap-1 rounded border border-red-500/40 bg-red-500/10 px-2 py-1 text-[10px] font-semibold text-red-300 hover:bg-red-500/20 disabled:opacity-60\"\n                                                        >\n                                                            <UserX className=\"size-3\" />\n                                                            Force Remove\n                                                        </button>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n\n                                <div className=\"border-t border-slate-700/80 pt-3\">\n                                    <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                        Banned Players\n                                    </div>\n                                    {settingsModalData.bannedPlayers.length === 0 && (\n                                        <div className=\"mt-2 text-xs text-slate-400\">\n                                            No banned players.\n                                        </div>\n                                    )}\n                                    {settingsModalData.bannedPlayers.map((member) => {\n                                        const memberID = toID(member?._id || member);\n                                        const label =\n                                            member?.username ||\n                                            `Player ${memberID.slice(-4).toUpperCase()}`;\n\n                                        return (\n                                            <div\n                                                key={memberID}\n                                                className=\"mt-2 flex items-center justify-between gap-2 rounded border border-slate-700/80 bg-slate-800/40 px-2 py-2\"\n                                            >\n                                                <span className=\"truncate text-xs text-slate-200\">\n                                                    {label}\n                                                </span>\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() =>\n                                                        handleManagePlayer(\n                                                            settingsModalData.campaign,\n                                                            memberID,\n                                                            \"unban\",\n                                                            label\n                                                        )\n                                                    }\n                                                    disabled={settingsModalData.isManageBusy}\n                                                    className=\"rounded border border-emerald-500/40 bg-emerald-500/10 px-2 py-1 text-[11px] font-semibold text-emerald-300 hover:bg-emerald-500/20 disabled:opacity-60\"\n                                                >\n                                                    Unban\n                                                </button>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n\n                                <div className=\"border-t border-slate-700/80 pt-3\">\n                                    <div className=\"text-[10px] uppercase tracking-widest text-slate-400 font-semibold\">\n                                        Send Invite\n                                    </div>\n                                    <div className=\"mt-2 flex items-center gap-2\">\n                                        <input\n                                            type=\"text\"\n                                            value={\n                                                inviteUsernameByCampaign[settingsModalData.campaignID] || \"\"\n                                            }\n                                            onChange={(event) =>\n                                                setInviteUsernameByCampaign((prev) => ({\n                                                    ...prev,\n                                                    [settingsModalData.campaignID]: event.target.value,\n                                                }))\n                                            }\n                                            placeholder=\"Exact username\"\n                                            className=\"w-full rounded border border-slate-700 bg-slate-800/60 px-2 py-1 text-xs text-slate-100 focus:outline-none focus:ring-1 focus:ring-website-highlights-500\"\n                                        />\n                                        <button\n                                            type=\"button\"\n                                            onClick={() =>\n                                                handleInvitePlayer(settingsModalData.campaign)\n                                            }\n                                            disabled={settingsModalData.isInviteBusy}\n                                            className=\"rounded border border-website-highlights-500/50 bg-website-highlights-500/10 px-2 py-1 text-[11px] font-semibold text-website-neutral-100 hover:bg-website-highlights-500/20 disabled:opacity-60\"\n                                        >\n                                            Invite\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {characterPickerState.isOpen && (\n                    <div\n                        className=\"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm p-4 flex items-center justify-center\"\n                        onClick={() =>\n                            setCharacterPickerState({\n                                isOpen: false,\n                                campaignID: \"\",\n                                lobbyCode: \"\",\n                                selectedCharacterID: \"\",\n                                submitting: false,\n                            })\n                        }\n                    >\n                        <div\n                            className=\"w-full max-w-xl rounded-xl border border-slate-700 bg-slate-900 text-slate-100 p-5 shadow-2xl\"\n                            onClick={(event) => event.stopPropagation()}\n                        >\n                            <div className=\"flex items-start justify-between gap-4\">\n                                <div>\n                                    <h2 className=\"text-lg font-bold\">Choose Lobby Character</h2>\n                                    <div className=\"mt-1 text-xs text-slate-400\">\n                                        {characterPickerCampaign?.name || \"Campaign\"}\n                                    </div>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    onClick={() =>\n                                        setCharacterPickerState({\n                                            isOpen: false,\n                                            campaignID: \"\",\n                                            lobbyCode: \"\",\n                                            selectedCharacterID: \"\",\n                                            submitting: false,\n                                        })\n                                    }\n                                    className=\"rounded border border-slate-600 bg-slate-800 px-2 py-1 text-xs font-semibold text-slate-200 hover:bg-slate-700\"\n                                >\n                                    Close\n                                </button>\n                            </div>\n\n                            <div className=\"mt-4 space-y-2\">\n                                {characterPickerCharacters.length === 0 && (\n                                    <div className=\"rounded border border-amber-500/40 bg-amber-500/10 px-3 py-2 text-xs text-amber-300\">\n                                        No characters available. Create one before joining this lobby.\n                                    </div>\n                                )}\n                                {characterPickerCharacters.map((character) => {\n                                    const characterID = toID(character?._id || character?.id);\n                                    const checked =\n                                        characterID === toID(characterPickerState.selectedCharacterID);\n                                    return (\n                                        <label\n                                            key={characterID}\n                                            className={`flex cursor-pointer items-center justify-between gap-3 rounded border px-3 py-2 text-xs ${\n                                                checked\n                                                    ? \"border-website-highlights-500/60 bg-website-highlights-500/10 text-website-neutral-100\"\n                                                    : \"border-slate-700 bg-slate-800/50 text-slate-200\"\n                                            }`}\n                                        >\n                                            <span className=\"truncate\">\n                                                {character?.name || \"Unnamed Character\"} (Lv{\" \"}\n                                                {Number(character?.level) || 1})\n                                            </span>\n                                            <input\n                                                type=\"radio\"\n                                                name={`campaign-character-${characterPickerState.campaignID}`}\n                                                checked={checked}\n                                                onChange={() =>\n                                                    setCharacterPickerState((prev) => ({\n                                                        ...prev,\n                                                        selectedCharacterID: characterID,\n                                                    }))\n                                                }\n                                                className=\"size-4\"\n                                            />\n                                        </label>\n                                    );\n                                })}\n                            </div>\n\n                            <div className=\"mt-4 flex justify-end gap-2\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() =>\n                                        setCharacterPickerState({\n                                            isOpen: false,\n                                            campaignID: \"\",\n                                            lobbyCode: \"\",\n                                            selectedCharacterID: \"\",\n                                            submitting: false,\n                                        })\n                                    }\n                                    className=\"rounded border border-slate-600 bg-slate-800 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-700\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    onClick={handleConfirmCharacterSelection}\n                                    disabled={\n                                        !characterPickerState.selectedCharacterID ||\n                                        characterPickerState.submitting\n                                    }\n                                    className=\"rounded border border-website-highlights-500/60 bg-website-highlights-500/10 px-3 py-2 text-xs font-semibold text-website-neutral-100 hover:bg-website-highlights-500/20 disabled:opacity-60\"\n                                >\n                                    {characterPickerState.submitting ? \"Saving...\" : \"Save and Enter\"}\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {characterPreviewState.isOpen && (\n                    <div\n                        className=\"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm p-4 flex items-center justify-center\"\n                        onClick={() =>\n                            setCharacterPreviewState({\n                                isOpen: false,\n                                campaignID: \"\",\n                                assignment: null,\n                                ownerName: \"\",\n                                campaignName: \"\",\n                            })\n                        }\n                    >\n                        <div\n                            className=\"w-full max-w-lg rounded-xl border border-slate-700 bg-slate-900 text-slate-100 p-5 shadow-2xl\"\n                            onClick={(event) => event.stopPropagation()}\n                        >\n                            <div className=\"flex items-start justify-between gap-4\">\n                                <div>\n                                    <h2 className=\"text-lg font-bold\">\n                                        {characterPreviewState.assignment?.characterName ||\n                                            \"Selected Character\"}\n                                    </h2>\n                                    <div className=\"mt-1 text-xs text-slate-400\">\n                                        Owner: {characterPreviewState.ownerName || \"Unknown player\"}\n                                    </div>\n                                    <div className=\"mt-1 text-xs text-slate-500\">\n                                        Campaign: {characterPreviewState.campaignName || \"Campaign\"}\n                                    </div>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    onClick={() =>\n                                        setCharacterPreviewState({\n                                            isOpen: false,\n                                            campaignID: \"\",\n                                            assignment: null,\n                                            ownerName: \"\",\n                                            campaignName: \"\",\n                                        })\n                                    }\n                                    className=\"rounded border border-slate-600 bg-slate-800 px-2 py-1 text-xs font-semibold text-slate-200 hover:bg-slate-700\"\n                                >\n                                    Close\n                                </button>\n                            </div>\n\n                            <div className=\"mt-4 rounded border border-slate-700 bg-slate-800/60 px-3 py-3 text-sm text-slate-200\">\n                                Level: {Number(characterPreviewState.assignment?.characterLevel) || 1}\n                            </div>\n\n                            <div className=\"mt-4 flex justify-end\">\n                                <button\n                                    type=\"button\"\n                                    onClick={handleViewCharacterFromPreview}\n                                    className=\"inline-flex items-center gap-2 rounded border border-website-highlights-500/60 bg-website-highlights-500/10 px-3 py-2 text-xs font-semibold text-website-neutral-100 hover:bg-website-highlights-500/20\"\n                                >\n                                    <Eye className=\"size-3.5\" />\n                                    View Full Character\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {descriptionModalCampaign && (\n                    <div\n                        className=\"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm p-4 flex items-center justify-center\"\n                        onClick={() => setDescriptionModalCampaignID(\"\")}\n                    >\n                        <div\n                            className=\"w-full max-w-2xl rounded-xl border border-slate-700 bg-slate-900 text-slate-100 p-5 shadow-2xl\"\n                            onClick={(event) => event.stopPropagation()}\n                        >\n                            <div className=\"flex items-start justify-between gap-4\">\n                                <div>\n                                    <h2 className=\"text-lg font-bold\">\n                                        {descriptionModalCampaign.name || \"Campaign\"}\n                                    </h2>\n                                    <div className=\"mt-1 text-xs text-slate-400\">\n                                        {descriptionModalCampaign.dmName\n                                            ? `DM: ${descriptionModalCampaign.dmName}`\n                                            : \"DM not set\"}\n                                    </div>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setDescriptionModalCampaignID(\"\")}\n                                    className=\"rounded border border-slate-600 bg-slate-800 px-2 py-1 text-xs font-semibold text-slate-200 hover:bg-slate-700\"\n                                >\n                                    Close\n                                </button>\n                            </div>\n\n                            <div className=\"mt-4 rounded border border-slate-700 bg-slate-800/60 px-3 py-3 text-sm text-slate-200 whitespace-pre-wrap\">\n                                {descriptionModalCampaign.description || \"No description set.\"}\n                            </div>\n                            <div className=\"mt-3 text-xs text-slate-400\">\n                                Setting: {descriptionModalCampaign.setting || \"Unspecified\"}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </Body.Center>\n\n            <Body.Right className=\"col-start-3\" />\n            <Body.Footer className=\"col-span-3\" />\n        </Body>\n    );\n}\n\nexport default LobbyMenu;\n","import { useContext, useMemo, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Body from \"../../pageComponents/bodySkeleton\";\nimport Header from \"../../pageComponents/header\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { emitWithAck } from \"./socketEmit\";\n\nfunction JoinLobby() {\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n    const { sessionID } = useParams();\n    const playerID = localStorage.getItem(\"player_ID\");\n\n    const safeSessionID = useMemo(\n        () => sessionID || sessionStorage.getItem(\"session_ID\") || \"default\",\n        [sessionID]\n    );\n\n    const [joinCode, setJoinCode] = useState(\"\");\n    const [submitting, setSubmitting] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [status, setStatus] = useState(\"\");\n\n    const handleJoin = async (e) => {\n        e.preventDefault();\n\n        if (!playerID) {\n            setError(\"Missing player session. Please log in again.\");\n            return;\n        }\n\n        const formattedCode = joinCode.trim().toUpperCase();\n        if (!formattedCode) {\n            setError(\"Campaign code is required.\");\n            return;\n        }\n\n        setSubmitting(true);\n        setError(\"\");\n        setStatus(\"\");\n\n        const response = await emitWithAck(socket, \"campaign_join\", {\n            playerID,\n            joinCode: formattedCode,\n        });\n\n        setSubmitting(false);\n\n        if (!response?.success) {\n            setError(response?.message || \"Failed to join campaign\");\n            return;\n        }\n\n        setStatus(response?.alreadyJoined ? \"Already in campaign.\" : \"Joined campaign.\");\n        navigate(`/ISK/${safeSessionID}/lobby`);\n    };\n\n    return (\n        <Body className=\"bg-website-default-900 text-website-default-100\">\n            <Header className=\"col-span-3\" title=\"Join Campaign\" />\n            <Body.Left className=\"row-span-1 col-start-1\" />\n\n            <Body.Center className=\"row-span-1 col-start-2 min-h-screen p-6\">\n                <div className=\"max-w-xl mx-auto text-left\">\n                    <form\n                        onSubmit={handleJoin}\n                        className=\"rounded-2xl border border-website-default-700 bg-website-default-800/70 p-6 space-y-5 shadow-2xl\"\n                    >\n                        <div>\n                            <label className=\"block text-xs tracking-wider uppercase text-website-default-300 mb-2\">\n                                Campaign Code\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={joinCode}\n                                onChange={(e) =>\n                                    setJoinCode(\n                                        e.target.value\n                                            .toUpperCase()\n                                            .replace(/[^A-Z0-9]/g, \"\")\n                                            .slice(0, 12)\n                                    )\n                                }\n                                className=\"w-full rounded-lg border border-website-default-600 bg-website-default-900 px-3 py-2 text-sm tracking-widest uppercase focus:outline-none focus:ring-2 focus:ring-website-highlights-500\"\n                                placeholder=\"AB12CD\"\n                                required\n                            />\n                        </div>\n\n                        {error && (\n                            <div className=\"rounded border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300\">\n                                {error}\n                            </div>\n                        )}\n                        {status && (\n                            <div className=\"rounded border border-website-highlights-500/40 bg-website-highlights-500/10 px-3 py-2 text-sm text-website-neutral-100\">\n                                {status}\n                            </div>\n                        )}\n\n                        <div className=\"flex flex-wrap gap-3 pt-2\">\n                            <button\n                                type=\"submit\"\n                                disabled={submitting}\n                                className=\"rounded-lg border border-website-highlights-500/60 bg-website-highlights-500/15 px-4 py-2 text-sm font-semibold text-website-neutral-100 hover:bg-website-highlights-500/25 disabled:opacity-50\"\n                            >\n                                {submitting ? \"Joining...\" : \"Join Campaign\"}\n                            </button>\n                            <Link\n                                to={`/ISK/${safeSessionID}/lobby`}\n                                className=\"rounded-lg border border-website-default-600 bg-website-default-800 px-4 py-2 text-sm font-semibold text-website-default-200 hover:bg-website-default-700\"\n                            >\n                                Cancel\n                            </Link>\n                        </div>\n                    </form>\n                </div>\n            </Body.Center>\n\n            <Body.Right className=\"col-start-3\" />\n            <Body.Footer className=\"col-span-3\" />\n        </Body>\n    );\n}\n\nexport default JoinLobby;\n","import { useContext, useMemo, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Body from \"../../pageComponents/bodySkeleton\";\nimport Header from \"../../pageComponents/header\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { emitWithAck } from \"./socketEmit\";\n\nfunction CreateLobby() {\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n    const { sessionID } = useParams();\n    const playerID = localStorage.getItem(\"player_ID\");\n\n    const safeSessionID = useMemo(\n        () => sessionID || sessionStorage.getItem(\"session_ID\") || \"default\",\n        [sessionID]\n    );\n\n    const [form, setForm] = useState({\n        name: \"\",\n        description: \"\",\n        setting: \"\",\n        maxPlayers: 6,\n        isPrivate: false,\n    });\n    const [submitting, setSubmitting] = useState(false);\n    const [error, setError] = useState(\"\");\n\n    const handleCreate = async (e) => {\n        e.preventDefault();\n\n        if (!playerID) {\n            setError(\"Missing player session. Please log in again.\");\n            return;\n        }\n\n        const campaignName = form.name.trim();\n        if (!campaignName) {\n            setError(\"Campaign name is required.\");\n            return;\n        }\n\n        setSubmitting(true);\n        setError(\"\");\n\n        const response = await emitWithAck(socket, \"campaign_create\", {\n            playerID,\n            name: campaignName,\n            description: form.description,\n            setting: form.setting,\n            maxPlayers: Number(form.maxPlayers),\n            isPrivate: Boolean(form.isPrivate),\n        });\n\n        setSubmitting(false);\n\n        if (!response?.success) {\n            setError(response?.message || \"Failed to create campaign\");\n            return;\n        }\n\n        navigate(`/ISK/${safeSessionID}/lobby`);\n    };\n\n    return (\n        <Body className=\"bg-website-default-900 text-website-default-100\">\n            <Header className=\"col-span-3\" title=\"Create Campaign\" />\n            <Body.Left className=\"row-span-1 col-start-1\" />\n\n            <Body.Center className=\"row-span-1 col-start-2 min-h-screen p-6\">\n                <div className=\"max-w-2xl mx-auto text-left\">\n                    <form\n                        onSubmit={handleCreate}\n                        className=\"rounded-2xl border border-website-default-700 bg-website-default-800/70 p-6 space-y-5 shadow-2xl\"\n                    >\n                        <div>\n                            <label className=\"block text-xs tracking-wider uppercase text-website-default-300 mb-2\">\n                                Campaign Name\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={form.name}\n                                onChange={(e) => setForm((prev) => ({ ...prev, name: e.target.value }))}\n                                className=\"w-full rounded-lg border border-website-default-600 bg-website-default-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-website-highlights-500\"\n                                placeholder=\"Ashfall Chronicles\"\n                                maxLength={80}\n                                required\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs tracking-wider uppercase text-website-default-300 mb-2\">\n                                Description\n                            </label>\n                            <textarea\n                                value={form.description}\n                                onChange={(e) =>\n                                    setForm((prev) => ({ ...prev, description: e.target.value }))\n                                }\n                                className=\"w-full min-h-28 rounded-lg border border-website-default-600 bg-website-default-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-website-highlights-500\"\n                                placeholder=\"Give your players a quick overview of this world.\"\n                                maxLength={1000}\n                            />\n                        </div>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                                <label className=\"block text-xs tracking-wider uppercase text-website-default-300 mb-2\">\n                                    Setting\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    value={form.setting}\n                                    onChange={(e) =>\n                                        setForm((prev) => ({ ...prev, setting: e.target.value }))\n                                    }\n                                    className=\"w-full rounded-lg border border-website-default-600 bg-website-default-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-website-highlights-500\"\n                                    placeholder=\"Dark Fantasy\"\n                                    maxLength={120}\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs tracking-wider uppercase text-website-default-300 mb-2\">\n                                    Max Players\n                                </label>\n                                <select\n                                    value={form.maxPlayers}\n                                    onChange={(e) =>\n                                        setForm((prev) => ({\n                                            ...prev,\n                                            maxPlayers: Number(e.target.value),\n                                        }))\n                                    }\n                                    className=\"w-full rounded-lg border border-website-default-600 bg-website-default-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-website-highlights-500\"\n                                >\n                                    {[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((count) => (\n                                        <option key={count} value={count}>\n                                            {count} Players\n                                        </option>\n                                    ))}\n                                </select>\n                            </div>\n                        </div>\n\n                        <label className=\"flex items-center gap-3 text-sm text-website-default-200\">\n                            <input\n                                type=\"checkbox\"\n                                checked={form.isPrivate}\n                                onChange={(e) =>\n                                    setForm((prev) => ({ ...prev, isPrivate: e.target.checked }))\n                                }\n                                className=\"size-4 rounded border-website-default-600 bg-website-default-900\"\n                            />\n                            Private Campaign\n                        </label>\n\n                        {error && (\n                            <div className=\"rounded border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300\">\n                                {error}\n                            </div>\n                        )}\n\n                        <div className=\"flex flex-wrap gap-3 pt-2\">\n                            <button\n                                type=\"submit\"\n                                disabled={submitting}\n                                className=\"rounded-lg border border-website-specials-500/60 bg-website-specials-500/15 px-4 py-2 text-sm font-semibold text-website-neutral-100 hover:bg-website-specials-500/25 disabled:opacity-50\"\n                            >\n                                {submitting ? \"Creating...\" : \"Create Campaign\"}\n                            </button>\n                            <Link\n                                to={`/ISK/${safeSessionID}/lobby`}\n                                className=\"rounded-lg border border-website-default-600 bg-website-default-800 px-4 py-2 text-sm font-semibold text-website-default-200 hover:bg-website-default-700\"\n                            >\n                                Cancel\n                            </Link>\n                        </div>\n                    </form>\n                </div>\n            </Body.Center>\n\n            <Body.Right className=\"col-start-3\" />\n            <Body.Footer className=\"col-span-3\" />\n        </Body>\n    );\n}\n\nexport default CreateLobby;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5',\n      key: 'mvr1a0',\n    },\n  ],\n];\n\n/**\n * @component @name Heart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiA5LjVhNS41IDUuNSAwIDAgMSA5LjU5MS0zLjY3Ni41Ni41NiAwIDAgMCAuODE4IDBBNS40OSA1LjQ5IDAgMCAxIDIyIDkuNWMwIDIuMjktMS41IDQtMyA1LjVsLTUuNDkyIDUuMzEzYTIgMiAwIDAgMS0zIC4wMTlMNSAxNWMtMS41LTEuNS0zLTMuMi0zLTUuNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/heart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heart = createLucideIcon('heart', __iconNode);\n\nexport default Heart;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',\n      key: '1xq2db',\n    },\n  ],\n];\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNGExIDEgMCAwIDEtLjc4LTEuNjNsOS45LTEwLjJhLjUuNSAwIDAgMSAuODYuNDZsLTEuOTIgNi4wMkExIDEgMCAwIDAgMTMgMTBoN2ExIDEgMCAwIDEgLjc4IDEuNjNsLTkuOSAxMC4yYS41LjUgMCAwIDEtLjg2LS40NmwxLjkyLTYuMDJBMSAxIDAgMCAwIDExIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('zap', __iconNode);\n\nexport default Zap;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z',\n      key: 'c7niix',\n    },\n  ],\n];\n\n/**\n * @component @name Droplet\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJhNyA3IDAgMCAwIDctN2MwLTItMS0zLjktMy01LjVzLTMuNS00LTQtNi41Yy0uNSAyLjUtMiA0LjktNCA2LjVDNiAxMS4xIDUgMTMgNSAxNWE3IDcgMCAwIDAgNyA3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/droplet\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Droplet = createLucideIcon('droplet', __iconNode);\n\nexport default Droplet;\n","import { User, Heart, Zap, Droplet } from \"lucide-react\";\nimport IndexCardFolder from \"./indexCard\";\n\nexport default function CharacterCard({ character, to, onClick }) {\n  const className =\n    character?.classType?.name ||\n    character?.classType ||\n    character?.class?.name ||\n    character?.className ||\n    \"No Class\";\n\n  const raceName =\n    character?.race?.name ||\n    character?.race ||\n    character?.raceName ||\n    \"No Race\";\n\r\n\r\n  return (\r\n    <IndexCardFolder.File to={to} onClick={onClick} className=\"!grid-rows-1 !p-0 overflow-hidden\">\r\n      {/* Single scrollable container */}\r\n      <div \r\n        className=\"overflow-y-auto overflow-x-hidden h-full px-5 py-5\" \r\n        style={{\r\n          scrollbarWidth: 'none',\r\n          scrollbarColor: '#475569 transparent'\r\n        }}\r\n      >\r\n        {/* Character Header with enhanced gradient */}\r\n        <div className=\"relative bg-gradient-to-r rounded-xl from-purple-600 via-purple-500 to-indigo-600 -mx-5 -mt-5 p-4 pb-12 mb-2 overflow-hidden\">\r\n          {/* Animated background pattern */}\r\n          <div className=\"absolute inset-0 bg-black/20\"></div>\r\n          <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_120%,rgba(120,119,198,0.3),transparent)]\"></div>\r\n          \r\n          <div className=\"relative z-10\">\r\n            {/* Level Badge - Top Right */}\r\n            <div className=\"flex justify-end mb-2\">\r\n              <div className=\"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1.5 border border-white/30 shadow-lg\">\r\n                <div className=\"text-sm font-bold text-white\">Lv {character?.level || 1}</div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Name - Centered */}\r\n            <div className=\"text-center mb-3\">\r\n              <h2 className=\"text-xl font-bold text-white drop-shadow-lg px-4\">\r\n                {character?.name || \"Unnamed Character\"}\r\n              </h2>\r\n            </div>\r\n            \r\n            {/* Race/Class - Bottom, smaller text to avoid PFP overlap */}\r\n            <div className=\"flex items-center justify-center gap-2 text-purple-100 text-xs px-4\">\r\n              <span className=\"font-medium truncate max-w-[45%]\">{className}</span>\n              <span className=\"text-purple-300 flex-shrink-0\">|</span>\n              <span className=\"truncate max-w-[45%]\">{raceName}</span>\n            </div>\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced Avatar - Overlapping header */}\r\n        <div className=\"flex justify-center -mt-12 mb-4 relative z-20\">\r\n          <div className=\"relative\">\r\n            {/* Outer glow ring */}\r\n            <div className=\"absolute inset-0 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 blur-md opacity-75 animate-pulse\"></div>\r\n            {/* Main avatar */}\r\n            <div className=\"relative w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 p-1 shadow-xl shadow-purple-500/50 ring-4 ring-slate-900\">\r\n              <div className=\"w-full h-full rounded-full bg-slate-800 flex items-center justify-center\">\r\n                <User className=\"w-10 h-10 text-purple-400\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Vital Stats with enhanced bars */}\r\n        <div className=\"space-y-2 mb-4\">\r\n          <StatBar \r\n            icon={<Heart className=\"w-3.5 h-3.5\" />}\r\n            label=\"HP\"\r\n            current={character?.hp?.current || 0}\r\n            max={character?.hp?.max || 1}\r\n            temp={character?.hp?.temp || 0}\r\n            color=\"red\"\r\n          />\r\n          <StatBar \r\n            icon={<Zap className=\"w-3.5 h-3.5\" />}\r\n            label=\"STA\"\r\n            current={character?.sta?.current || 0}\r\n            max={character?.sta?.max || 1}\r\n            color=\"yellow\"\r\n          />\r\n          <StatBar \r\n            icon={<Droplet className=\"w-3.5 h-3.5\" />}\r\n            label=\"MP\"\r\n            current={character?.mp?.current || 0}\r\n            max={character?.mp?.max || 1}\r\n            color=\"blue\"\r\n          />\r\n        </div>\r\n\r\n        {/* Divider */}\r\n        <div className=\"relative my-4\">\r\n          <div className=\"absolute inset-0 flex items-center\">\r\n            <div className=\"w-full border-t border-slate-700/50\" />\r\n          </div>\r\n          <div className=\"relative flex justify-center\">\r\n            <div className=\"bg-gradient-to-r from-transparent via-purple-500/20 to-transparent h-px w-1/2\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attribute Grid with hover effects */}\r\n        {Object.keys(character?.stats || {}).length > 0 && (\r\n          <div className=\"grid grid-cols-3 gap-2 w-full mb-4\">\r\n            {Object.entries(character.stats).map(([stat, value]) => {\r\n              // Handle both simple numbers and complex objects\r\n              const statValue = typeof value === 'object'\n                ? (value.total ?? value.score ?? 0)\n                : (value || 0);\n              \r\n              return (\r\n                <div \r\n                  key={stat} \r\n                  className=\"group/stat relative bg-slate-800/60 rounded-lg p-2 border border-slate-700/50 text-center hover:border-purple-500/50 hover:bg-slate-800/80 transition-all duration-200\"\r\n                >\r\n                  {/* Hover glow effect */}\r\n                  <div className=\"absolute inset-0 rounded-lg bg-gradient-to-br from-purple-500/0 to-blue-500/0 group-hover/stat:from-purple-500/10 group-hover/stat:to-blue-500/10 transition-all duration-200\"></div>\r\n                  \r\n                  <div className=\"relative\">\r\n                    <div className=\"text-xs text-slate-400 font-medium uppercase tracking-wider\">{stat}</div>\r\n                    <div className=\"text-lg font-bold text-white my-0.5 group-hover/stat:text-purple-300 transition-colors\">{statValue}</div>\r\n                    <div className=\"text-xs text-purple-400 font-semibold\">{getModifier(statValue)}</div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n\r\n\r\n        {/* Bottom padding for scroll */}\r\n        <div className=\"h-4\"></div>\r\n      </div>\r\n    </IndexCardFolder.File>\r\n  );\r\n}\r\n\r\nfunction StatBar({ icon, label, current, max, temp = 0, color }) {\r\n  const percentage = max > 0 ? (current / max) * 100 : 0;\r\n  const isLow = percentage < 30;\r\n  const isCritical = percentage < 15;\r\n  \r\n  const colorClasses = {\r\n    red: \"from-red-600 via-red-500 to-red-600\",\r\n    yellow: \"from-yellow-600 via-yellow-500 to-yellow-600\",\r\n    blue: \"from-blue-600 via-blue-500 to-blue-600\"\r\n  };\r\n\r\n  const textColorClasses = {\r\n    red: \"text-red-400\",\r\n    yellow: \"text-yellow-400\",\r\n    blue: \"text-blue-400\"\r\n  };\r\n\r\n  const glowClasses = {\r\n    red: \"shadow-red-500/50\",\r\n    yellow: \"shadow-yellow-500/50\",\r\n    blue: \"shadow-blue-500/50\"\r\n  };\r\n\r\n  return (\r\n    <div className={`\r\n      bg-slate-800/60 rounded-lg p-2 border border-slate-700/50 \r\n      hover:border-slate-600/50 transition-all duration-200\r\n      ${isCritical ? 'animate-pulse border-red-500/50' : ''}\r\n    `}>\r\n      <div className=\"flex items-center justify-between mb-1\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className={`${textColorClasses[color]} ${isCritical ? 'animate-pulse' : ''}`}>\r\n            {icon}\r\n          </div>\r\n          <span className=\"text-sm font-medium text-slate-300\">{label}</span>\r\n        </div>\r\n        <div className=\"text-sm font-bold text-white\">\r\n          <span className={isCritical ? 'text-red-400' : ''}>{current}</span>\r\n          {temp > 0 && <span className=\"text-cyan-400\">+{temp}</span>}\r\n          <span className=\"text-slate-500\">/{max}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"relative h-2 bg-slate-900/50 rounded-full overflow-hidden ring-1 ring-slate-700/50\">\r\n        {/* Background shimmer effect */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent\"></div>\r\n        \r\n        {/* Main bar */}\r\n        <div \r\n          className={`\r\n            h-full bg-gradient-to-r ${colorClasses[color]} \r\n            transition-all duration-500 ease-out \r\n            shadow-lg ${glowClasses[color]}\r\n            ${isLow ? 'animate-pulse' : ''}\r\n          `}\r\n          style={{ width: `${Math.min(percentage, 100)}%` }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getModifier(stat) {\r\n  const modifier = Math.floor((stat - 10) / 2);\r\n  return modifier >= 0 ? `+${modifier}` : `${modifier}`;\r\n}\n","import Body from \"../../pageComponents/bodySkeleton\";\nimport Header from \"../../pageComponents/header\";\nimport IndexCardFolder from \"../../pageComponents/indexCard\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Plus, Edit2, Trash2, Eye } from \"lucide-react\"; // Added icons\nimport CharacterCard from \"../../pageComponents/characterCard\";\n\nfunction normalizeStats(stats, fallbackStats = {}) {\n    if (stats && typeof stats === \"object\" && Object.keys(stats).length > 0) {\n        return stats;\n    }\n\n    if (fallbackStats && typeof fallbackStats === \"object\") {\n        const normalized = {};\n        Object.entries(fallbackStats).forEach(([key, value]) => {\n            const num = Number(value) || 0;\n            normalized[key.toUpperCase()] = { score: num, modifier: Math.floor((num - 10) / 2) };\n        });\n        return normalized;\n    }\n\n    return {};\n}\n\nfunction normalizeCharacterForCard(rawCharacter, fallbackCharacter = {}) {\n    const c = rawCharacter || {};\n    const f = fallbackCharacter || {};\n\n    const hp = c.hp || c.HP || c._baseHP || { max: 0, current: 0, temp: 0 };\n    const mp = c.mp || c.MP || c._baseMP || { max: 0, current: 0, temp: 0 };\n    const sta = c.sta || c.STA || c._baseSTA || { max: 0, current: 0, temp: 0 };\n    const stats = normalizeStats(c.stats, c._baseStats || f.stats);\n\n    return {\n        ...f,\n        ...c,\n        id: String(c.id || c._id || f.id || f._id || \"\"),\n        name: c.name || f.name || \"Unnamed Character\",\n        level: c.level || f.level || 1,\n        hp,\n        mp,\n        sta,\n        stats,\n    };\n}\n\n\nexport default function CharacterMenu() {\n    const socket = useContext(SocketContext);\n    const navigate = useNavigate();\n    const [characters, setCharacters] = useState([]);\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\n    const playerID = localStorage.getItem(\"player_ID\");\n    const [builtCharacters, setBuiltCharacters] = useState({}); // { [id]: builtCharacter }\n    const logPrefix = \"[CharacterMenu]\";\n    const loadInFlightRef = useRef(false);\n    const lastLoadKeyRef = useRef(\"\");\n\r\n    const handleDeleteCharacter = (characterID) => {\r\n        \r\n        if (!socket) return;\r\n\r\n        if (!window.confirm(\"Are you sure you want to delete this character? This action cannot be undone.\")) {\r\n            return;\r\n        }\r\n        socket.emit(\"character_delete\", { characterID }, (response) => {\r\n            if (response && response.success) {\r\n                // This triggers the rerender instantly\r\n                setCharacters((prevCharacters) => \n                    prevCharacters.filter(char => String(char.id) !== String(characterID))\n                );\n                \r\n                // Don't forget to hide the menu!\r\n                closeContextMenu();\r\n            } else {\r\n                alert(response?.message || 'Failed to delete');\r\n            }\r\n        });\r\n    }\r\n\r\n    const buildCharacter = async (characterID) => {\n    // 1. Basic validation\n    if (!socket || !playerID) return null;\n\n    // 2. Wrap the socket emit in a Promise\n    const startedAt = performance.now();\n    console.log(`${logPrefix} build start`, { characterID });\n\n    return new Promise((resolve) => {\n        socket.emit(\"character_builder\", { characterID }, (response) => {\n            const durationMs = Math.round(performance.now() - startedAt);\n            if (response && response.success) {\n                // Success: Resolve the promise with the data\n                console.log(`${logPrefix} build success`, { characterID, durationMs });\n                resolve(response.character);\n            } else {\n                // Failure: Log and Reject\n                const errorMsg = response?.message || 'Failed to build character';\n                console.error(`${logPrefix} build failed`, { characterID, durationMs, errorMsg });\n                resolve(null); // Or use reject(errorMsg) if you want to use try/catch\n            }\n        });\n    });\n};\n    \r\n\r\n    // --- CONTEXT MENU STATE ---\r\n    const [contextMenu, setContextMenu] = useState({\r\n        show: false,\r\n        x: 0,\r\n        y: 0,\r\n        character: null,\r\n    });\r\n\r\n    // Handle Right Click\r\n    const handleContextMenu = (e, character) => {\r\n        e.preventDefault(); // Stop the browser menu\r\n        setContextMenu({\r\n            show: true,\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n            character: character,\r\n        });\r\n    };\r\n\r\n    // Close menu when clicking elsewhere\n    const closeContextMenu = () => {\n        setContextMenu((prev) => ({ ...prev, show: false, character: null }));\n    };\n\n    const handleViewCharacter = (characterID) => {\n        if (!characterID) return;\n        closeContextMenu();\n        const sessionID = sessionStorage.getItem(\"session_ID\") || \"default\";\n        navigate(`/ISK/${sessionID}/character/view/${characterID}`);\n    };\n\n    const handleEditCharacter = (characterID) => {\n        if (!characterID) return;\n        closeContextMenu();\n        const sessionID = sessionStorage.getItem(\"session_ID\") || \"default\";\n        navigate(`/ISK/${sessionID}/character/edit/${characterID}`);\n    };\n\r\nuseEffect(() => {\n    if (!socket || !playerID) {\n        setLoading(false);\n        return;\n    }\n\n    const loadKey = `${socket.id || \"no-socket\"}:${playerID}`;\n    if (loadInFlightRef.current) {\n        console.log(`${logPrefix} skip load (already in progress)`, { loadKey });\n        return;\n    }\n    if (lastLoadKeyRef.current === loadKey) {\n        console.log(`${logPrefix} skip load (same key already loaded)`, { loadKey });\n        return;\n    }\n    loadInFlightRef.current = true;\n    lastLoadKeyRef.current = loadKey;\n\n    // 1. Define an async function inside the effect\n    const loadAndBuildCharacters = async () => {\n        const menuLoadStartedAt = performance.now();\n        setLoading(true); // Start loading\n\n        try {\n            // A. Get the list of character IDs\n            const listStartedAt = performance.now();\n            console.log(`${logPrefix} list fetch start`, { playerID });\n            const listResponse = await new Promise((resolve) => {\n                socket.emit(\"playerData_getCharacter\", { playerID }, resolve);\n            });\n            console.log(`${logPrefix} list fetch done`, {\n                playerID,\n                durationMs: Math.round(performance.now() - listStartedAt),\n                success: !!listResponse?.success,\n                count: listResponse?.characters?.length || 0,\n            });\n\n            if (!listResponse || !listResponse.success) {\n                throw new Error(listResponse?.message || 'Failed to fetch characters');\n            }\n\r\n            const charList = listResponse.characters || [];\r\n            setCharacters(charList);\r\n\r\n            // B. Build the mapping object: { [id]: characterData }\r\n            const builtMap = {};\n            \n            // Use Promise.all to fetch all characters in parallel for speed\n            const buildAllStartedAt = performance.now();\n            await Promise.all(\n                charList.map(async (char) => {\n                    const builtChar = await buildCharacter(char.id); // Using your new async function\n                    builtMap[char.id] = normalizeCharacterForCard(builtChar, char);\n                })\n            );\n            console.log(`${logPrefix} build all done`, {\n                count: charList.length,\n                durationMs: Math.round(performance.now() - buildAllStartedAt),\n            });\n\n            // C. Update state once all are built\n            setBuiltCharacters(builtMap);\n            setError(null);\n        } catch (err) {\n            console.error(`${logPrefix} load failed`, { message: err.message });\n            setError(err.message);\n            lastLoadKeyRef.current = \"\";\n        } finally {\n            console.log(`${logPrefix} load complete`, {\n                playerID,\n                totalDurationMs: Math.round(performance.now() - menuLoadStartedAt),\n            });\n            setLoading(false); // Stop loading regardless of success/failure\n            loadInFlightRef.current = false;\n        }\n    };\n\r\n    // 2. Call the function\n    loadAndBuildCharacters();\n\n}, [socket, playerID]);\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {/* --- CUSTOM CONTEXT MENU UI --- */}\r\n            {contextMenu.show && (\r\n                    <div\r\n                        className=\"absolute z-[100] w-56 bg-website-default-800/95 backdrop-blur-md border border-website-default-700 rounded-lg shadow-2xl py-2 text-left\"\r\n                        style={{ top: contextMenu.y, left: contextMenu.x }}\r\n                    >\r\n                        {/* Title Section: Muted text for the character name */}\r\n                        <div className=\"px-4 py-1.5 text-[10px] tracking-widest text-website-default-400 uppercase font-black\">\r\n                            Character Actions\r\n                        </div>\r\n                        <div className=\"px-4 pb-2 text-xs font-semibold text-website-default-300 truncate\">\n                            {contextMenu.character?.name}\n                        </div>\n                        \r\n                        {/* Divider */}\r\n                        <div className=\"h-px bg-website-default-700/50 my-1 mx-2\" />\r\n\r\n                        {/* Action: View (High contrast text-website-default-100) */}\n                        <button \n                            onClick={() => handleViewCharacter(contextMenu.character?.id)}\n                            className=\"w-full flex items-center px-4 py-2.5 text-website-default-100 hover:bg-website-default-700 transition-all duration-150 group\"\n                        >\n                            <Eye className=\"size-4 mr-3 text-website-default-400 group-hover:text-website-default-100\" />\r\n                            <span className=\"text-sm font-medium\">View Character</span>\r\n                        </button>\r\n\r\n                        {/* Action: Edit */}\n                        <button \n                            onClick={() => handleEditCharacter(contextMenu.character?.id)}\n                            className=\"w-full flex items-center px-4 py-2.5 text-website-default-100 hover:bg-website-default-700 transition-all duration-150 group\"\n                        >\n                            <Edit2 className=\"size-4 mr-3 text-website-default-400 group-hover:text-website-default-100\" />\r\n                            <span className=\"text-sm font-medium\">Edit Profile</span>\r\n                        </button>\r\n\r\n                        {/* Divider for destructive actions */}\r\n                        <div className=\"h-px bg-website-default-700/50 my-1 mx-2\" />\r\n\r\n                        {/* Action: Delete (Red with hover adjustment) */}\r\n                        <button \r\n                            onClick={() => handleDeleteCharacter(contextMenu.character.id)}\n                            className=\"w-full flex items-center px-4 py-2.5 text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all duration-150 group\"\r\n                        >\r\n                            <Trash2 className=\"size-4 mr-3 text-red-400/60 group-hover:text-red-300\" />\r\n                            <span className=\"text-sm font-medium\">Delete Character</span>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n            <Body className=\"bg-website-default-900 text-center p-4 shadow-lg text-website-default-100 justify-center space-x-8\">\r\n                <Header className=\"col-span-3\" />\r\n                <Body.Left className=\"row-span-1 col-start-1\" />\r\n                \r\n                <Body.Center className=\"row-span-1 col-start-2 min-h-screen\">\r\n                    <IndexCardFolder>\r\n                        {loading && <div>Loading characters...</div>}\r\n                        {error && <div className=\"text-red-400\">Error: {error}</div>}\r\n                        \r\n                        {!loading && !error && characters.map(character => {\n                            const normalizedCharacter = normalizeCharacterForCard(\n                                builtCharacters[character.id],\n                                character\n                            );\n\n                            return (\n                            <div \n                                key={character.id} \n                                onContextMenu={(e) => handleContextMenu(e, normalizedCharacter)}\n                                className=\"relative\"\n                            >\n                                <CharacterCard \n                                    character={normalizedCharacter}\n                                    to={`/ISK/${sessionStorage.getItem('session_ID') || 'default'}/character/view/${normalizedCharacter.id}`}\n                                />\n                            </div>\n                        )})}\n\r\n                        <IndexCardFolder.File to={`/ISK/${sessionStorage.getItem('session_ID') || 'default'}/character/creation`}>\r\n                            <IndexCardFolder.File.Bottom>\r\n                                <Plus className=\"size-8 aspect-[1/1]\" />\r\n                                <IndexCardFolder.File.Detail>\r\n                                    <p>Add New Character...</p>\r\n                                </IndexCardFolder.File.Detail>\r\n                            </IndexCardFolder.File.Bottom>\r\n                        </IndexCardFolder.File>\r\n                    </IndexCardFolder>\r\n                </Body.Center>\r\n\r\n                <Body.Right className=\"col-start-3\" />\r\n                <Body.Footer className=\"col-span-3\" />\r\n            </Body>\r\n        </>\r\n    );\r\n}\n","\r\nimport Header from \"./header\";\r\nimport Footer from \"./footer\";\r\n\r\nexport default function Skeleton({ children }) {\r\n\r\n    return(\r\n        <div class=\"grid justify-center md:grid-rows-[auto_1fr_auto] h-screen w-screen grid-cols-1 overflow-x-hidden\" >\r\n            <Header />\r\n\r\n            <main>\r\n                {children}\r\n            </main>\r\n        \r\n            <Footer />\r\n        </div>\r\n    )\r\n\r\n}","export const defaultCharacter = {\n  name: '',\n  age: { years: '', month: '', day: '' },\n  gender: '',\n  model: { size: '', height: '', weight: '' },\n  alignment: '',\n  customization: {\n    skinColor: '',\n    skinColorCustom: '',\n    eyeColor: '',\n    eyeColorCustom: '',\n    hairColor: '',\n    hairColorCustom: '',\n    additionalTraits: [],\n  },\n  stories: { longStory: '', personality: [], ideals: [], flaws: [], relationships: {} },\n  race: '',\n  class: '',\n  subclass: '',\n  subrace: '',\n  background: '',\n  stats: { str: '', dex: '', con: '', int: '', wis: '', cha: '', luck: '' },\n  abilityScoreMethod: 'random',\n  abilityScoreChoices: {\n    race: {},\n    subrace: {}\n  },\n  inv: {\n    gp: 0,\n    items: {},\n    equipment: {\n      head: [],\n      body: [],\n      legs: [],\n      feet: [],\n      arms: [],\n      hands: [],\n      weapon: [],\n      fingers: [],\n      neck: [],\n      trinkets: [],\n    },\n  },\n  skills: {\n    active: {},\n    passive: {},\n    proficiencies: {},\n    languages: {},\n  },\n  effects: {},\n  actions: [],\n  level: 1,\n  editing:\"true\",\n  // Equipment and item choices state\n  classBaseItemIds: [],\n  classBaseProficiencies: [],\n  classEquipmentChoices: {},\n  classAnyItemSelections: {},\n  backgroundBaseGp: 0,\n  backgroundBaseItemIds: [],\n  backgroundBaseProficiencies: [],\n  backgroundEquipmentChoices: {},\n  backgroundAnyItemSelections: {},\n  proficiencyChoices: {}\n};\n\nexport function createDefaultCharacter() {\n  // Return a deep clone so callers can mutate the result safely\n  // Use structuredClone when available, else fall back to JSON\n  if (typeof structuredClone === 'function') return structuredClone(defaultCharacter);\n  return JSON.parse(JSON.stringify(defaultCharacter));\n}\n","import React, { createContext, useContext, useMemo } from 'react';\r\n\r\nconst GameDataContext = createContext(null);\r\n\r\n/**\r\n * GameDataProvider: Wraps character creation pages and provides memoized game data\r\n * Converts raw arrays into indexed maps and exposes selectors for efficient lookups\r\n */\r\nexport function GameDataProvider({ \r\n  children, \r\n  gameData = {\r\n    classes: [],\r\n    subclasses: [],\r\n    races: [],\r\n    subraces: [],\r\n    backgrounds: [],\r\n    items: []\r\n  }\r\n}) {\r\n  // Memoize id maps for O(1) lookups instead of array.find()\r\n  const maps = useMemo(() => {\r\n    const classesById = {};\r\n    const subclassesById = {};\r\n    const racesById = {};\r\n    const subracesById = {};\r\n    const backgroundsById = {};\r\n    const itemsByItemId = {};\r\n    const itemsByMongoId = {};\r\n\r\n    // Build id maps\r\n    (gameData.classes || []).forEach(c => {\r\n      if (c && c._id) classesById[c._id] = c;\r\n    });\r\n\r\n    (gameData.subclasses || []).forEach(sc => {\r\n      if (sc && sc._id) subclassesById[sc._id] = sc;\r\n    });\r\n\r\n    (gameData.races || []).forEach(r => {\r\n      if (r && r._id) racesById[r._id] = r;\r\n    });\r\n\r\n    (gameData.subraces || []).forEach(sr => {\r\n      if (sr && sr._id) subracesById[sr._id] = sr;\r\n    });\r\n\r\n    (gameData.backgrounds || []).forEach(b => {\r\n      if (b && b._id) backgroundsById[b._id] = b;\r\n    });\r\n\r\n    (gameData.items || []).forEach(item => {\r\n      if (item && item._id) {\r\n        itemsByMongoId[item._id] = item;\r\n        // Also map by itemId if it exists (for quick lookups during inventory setup)\r\n        if (item.itemId) {\r\n          itemsByItemId[item.itemId] = item;\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      classesById,\r\n      subclassesById,\r\n      racesById,\r\n      subracesById,\r\n      backgroundsById,\r\n      itemsByItemId,\r\n      itemsByMongoId\r\n    };\r\n  }, [gameData]);\r\n\r\n  // Memoize arrays so they don't trigger unnecessary re-renders\r\n  const arrays = useMemo(() => ({\r\n    classes: gameData.classes || [],\r\n    subclasses: gameData.subclasses || [],\r\n    races: gameData.races || [],\r\n    subraces: gameData.subraces || [],\r\n    backgrounds: gameData.backgrounds || [],\r\n    items: gameData.items || []\r\n  }), [gameData]);\r\n\r\n  // Selector functions\r\n  const selectors = useMemo(() => ({\r\n    getClassById: (id) => maps.classesById[id] || null,\r\n    getSubclassById: (id) => maps.subclassesById[id] || null,\r\n    getRaceById: (id) => maps.racesById[id] || null,\r\n    getSubraceById: (id) => maps.subracesById[id] || null,\r\n    getBackgroundById: (id) => maps.backgroundsById[id] || null,\r\n    getItemByMongoId: (id) => maps.itemsByMongoId[id] || null,\r\n    getItemByItemId: (id) => maps.itemsByItemId[id] || null,\r\n    \r\n    // Filter subclasses by parent class name\r\n    getSubclassesForClass: (className) => {\r\n      return arrays.subclasses.filter(sc => sc.parentClass === className);\r\n    },\r\n\r\n    // Filter races by size (optional utility)\r\n    getRacesBySize: (size) => {\r\n      return arrays.races.filter(r => r.size === size);\r\n    }\r\n  }), [maps, arrays]);\r\n\r\n  const value = useMemo(() => ({\r\n    maps,\r\n    arrays,\r\n    selectors\r\n  }), [maps, arrays, selectors]);\r\n\r\n  return (\r\n    <GameDataContext.Provider value={value}>\r\n      {children}\r\n    </GameDataContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Hook to consume GameDataContext\r\n * Throws if used outside of GameDataProvider\r\n */\r\nexport function useGameData() {\r\n  const context = useContext(GameDataContext);\r\n  if (!context) {\r\n    throw new Error('useGameData must be used within a GameDataProvider');\r\n  }\r\n  return context;\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13 9a1 1 0 0 1-1-1V5.061a1 1 0 0 0-1.811-.75l-6.835 6.836a1.207 1.207 0 0 0 0 1.707l6.835 6.835a1 1 0 0 0 1.811-.75V16a1 1 0 0 1 1-1h2a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1z',\n      key: 'p8w4w5',\n    },\n  ],\n  ['path', { d: 'M20 9v6', key: '14roy0' }],\n];\n\n/**\n * @component @name ArrowBigLeftDash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgOWExIDEgMCAwIDEtMS0xVjUuMDYxYTEgMSAwIDAgMC0xLjgxMS0uNzVsLTYuODM1IDYuODM2YTEuMjA3IDEuMjA3IDAgMCAwIDAgMS43MDdsNi44MzUgNi44MzVhMSAxIDAgMCAwIDEuODExLS43NVYxNmExIDEgMCAwIDEgMS0xaDJhMSAxIDAgMCAwIDEtMXYtNGExIDEgMCAwIDAtMS0xeiIgLz4KICA8cGF0aCBkPSJNMjAgOXY2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-big-left-dash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowBigLeftDash = createLucideIcon('arrow-big-left-dash', __iconNode);\n\nexport default ArrowBigLeftDash;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H9a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z',\n      key: '67vhrh',\n    },\n  ],\n  ['path', { d: 'M4 9v6', key: 'bns7oa' }],\n];\n\n/**\n * @component @name ArrowBigRightDash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgOWExIDEgMCAwIDAgMS0xVjUuMDYxYTEgMSAwIDAgMSAxLjgxMS0uNzVsNi44MzYgNi44MzZhMS4yMDcgMS4yMDcgMCAwIDEgMCAxLjcwN2wtNi44MzYgNi44MzVhMSAxIDAgMCAxLTEuODExLS43NVYxNmExIDEgMCAwIDAtMS0xSDlhMSAxIDAgMCAxLTEtMXYtNGExIDEgMCAwIDEgMS0xeiIgLz4KICA8cGF0aCBkPSJNNCA5djYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-big-right-dash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowBigRightDash = createLucideIcon('arrow-big-right-dash', __iconNode);\n\nexport default ArrowBigRightDash;\n","export const genderOptions = [\r\n    'Male',\r\n    'Female',\r\n    'Non-binary',\r\n    'Agender',\r\n    'Genderfluid',\r\n    'Femboy',\r\n    'Filipino',\r\n    'Stickman',\r\n    'Fruit tart',\r\n    'Fucked up Rubik cube',\r\n    'Prefer not to say']","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n  ['path', { d: 'M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662', key: '154egf' }],\n];\n\n/**\n * @component @name CircleUser\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEwIiByPSIzIiAvPgogIDxwYXRoIGQ9Ik03IDIwLjY2MlYxOWEyIDIgMCAwIDEgMi0yaDZhMiAyIDAgMCAxIDIgMnYxLjY2MiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle-user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleUser = createLucideIcon('circle-user', __iconNode);\n\nexport default CircleUser;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm18 14 4 4-4 4', key: '10pe0f' }],\n  ['path', { d: 'm18 2 4 4-4 4', key: 'pucp1d' }],\n  ['path', { d: 'M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22', key: '1ailkh' }],\n  ['path', { d: 'M2 6h1.972a4 4 0 0 1 3.6 2.2', key: 'km57vx' }],\n  ['path', { d: 'M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45', key: 'os18l9' }],\n];\n\n/**\n * @component @name Shuffle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTQgNCA0LTQgNCIgLz4KICA8cGF0aCBkPSJtMTggMiA0IDQtNCA0IiAvPgogIDxwYXRoIGQ9Ik0yIDE4aDEuOTczYTQgNCAwIDAgMCAzLjMtMS43bDUuNDU0LTguNmE0IDQgMCAwIDEgMy4zLTEuN0gyMiIgLz4KICA8cGF0aCBkPSJNMiA2aDEuOTcyYTQgNCAwIDAgMSAzLjYgMi4yIiAvPgogIDxwYXRoIGQ9Ik0yMiAxOGgtNi4wNDFhNCA0IDAgMCAxLTMuMy0xLjhsLS4zNTktLjQ1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shuffle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shuffle = createLucideIcon('shuffle', __iconNode);\n\nexport default Shuffle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n","import React, { useState, createContext, useContext } from 'react';\r\nimport { ChevronDown, ChevronUp } from 'lucide-react';\r\n\r\nconst CardContext = createContext();\r\nexport function Card({ children, className = \"\", defaultOpen = false }) {\r\n  const [isOpen, setIsOpen] = useState(defaultOpen);\r\n  \r\n  return (\r\n    <CardContext.Provider value={{ isOpen, setIsOpen }}>\r\n      <div className={`rounded-lg shadow-md border overflow-hidden transition-all duration-200 hover:shadow-lg ${className}`}>\r\n        {children}\r\n      </div>\r\n    </CardContext.Provider>\r\n  );\r\n}\r\nCard.Header = function CardHeader({ children, className = \"\" }) {\r\n  const { isOpen, setIsOpen } = useContext(CardContext);\r\n  \r\n  return (\r\n    <div \r\n      className={`p-4 cursor-pointer flex justify-between items-center transition-colors duration-200 ${className}`}\r\n      onClick={() => setIsOpen(!isOpen)}\r\n    >\r\n      <div className=\"flex-1\">\r\n        {children}\r\n      </div>\r\n      <div className=\"transition-transform duration-200 ml-4\">\r\n        {isOpen ? <ChevronUp className=\"w-5 h-5 text-gray-600\" /> : <ChevronDown className=\"w-5 h-5 text-gray-600\" />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nCard.Content = function CardContent({ children, className = \"\" }) {\r\n  const { isOpen } = useContext(CardContext);\r\n  \r\n  return (\r\n    <div className={`transition-all duration-300 ease-in-out overflow-hidden \r\n      ${isOpen ? 'max-h-[2000px] opacity-100' : 'max-h-0 opacity-0'}`}>\r\n      <div className={`p-4 ${className}`}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nCard.Title = function CardTitle({ children, className = \"\" }) {\r\n  return (\r\n    <h3 className={`font-semibold text-website-default-100 text-lg ${className}`}>\r\n      {children}\r\n    </h3>\r\n  );\r\n};\r\n\r\nCard.Description = function CardDescription({ children, className = \"\" }) {\r\n  return (\r\n    <h3 className={`text-website-default-300 text-xs ${className}`}>\r\n      {children}\r\n    </h3>\r\n  );\r\n};\r\nCard.Actions = function CardActions({ children, className = \"\" }) {\r\n  return (\r\n    <div className={`flex gap-2 ml-4 ${className}`} onClick={(e) => e.stopPropagation()}>\r\n      {children}\r\n    </div>\r\n  );\r\n};","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { createDefaultCharacter } from '../../../data/characterDefaults';\r\nimport {genderOptions}  from \"../../../data/genderOptions\";\r\nimport { CircleUser, Shuffle } from 'lucide-react';\r\nimport { Card } from \"../../../pageComponents/card\";\r\n\r\nconst DEFAULT_TAGS = {\r\n  additionalTraits: ['scarred', 'tattooed', 'pierced', 'freckled', 'mysterious aura'],\r\n  personality: ['brave', 'curious', 'loyal', 'sarcastic', 'patient', 'stubborn'],\r\n  ideals: ['justice', 'freedom', 'knowledge', 'honor', 'balance', 'compassion'],\r\n  flaws: ['greedy', 'impulsive', 'arrogant', 'secretive', 'vengeful', 'reckless']\r\n};\r\n\r\nconst COLOR_OPTIONS = {\r\n  hair: ['black', 'brown', 'blonde', 'red', 'gray', 'white'],\r\n  skin: ['light', 'tan', 'brown', 'dark', 'olive'],\r\n  eye: ['brown', 'blue', 'green', 'gray', 'hazel']\r\n};\r\n\r\nconst toTagArray = (value) => {\r\n  if (Array.isArray(value)) {\r\n    return [...new Set(value.map((entry) => String(entry).trim()).filter(Boolean))];\r\n  }\r\n  if (typeof value === 'string') {\r\n    return [...new Set(\r\n      value\r\n        .split(/[\\n,]/g)\r\n        .map((entry) => entry.trim())\r\n        .filter(Boolean)\r\n    )];\r\n  }\r\n  return [];\r\n};\r\n\r\n// Controlled + Uncontrolled component:\r\n// - If `values` and `onChange` props are provided, this component is controlled by parent.\r\n// - Otherwise it manages its own local state for backward compatibility.\r\nexport function Customization({ values, onChange }){\r\n  const ageInputRef = useRef(null);\r\n  const prevBodyOverflow = useRef('');\r\n  const [editingHeight,setIsEditingHeight] = useState(false);\r\n  const [editingWeight,setIsEditingWeight] = useState(false);\r\n  const [customGender, setCustomGender] = useState(false);\r\n\r\n  const [xAlign, setXAlign] = useState(1); // 0=Lawful, 1=Neutral, 2=Chaotic\r\n  const [yAlign, setYAlign] = useState(1); // 0=Good, 1=Neutral, 2=Evil\r\n\r\n  const labelsX = [\"Lawful\", \"Neutral\", \"Chaotic\"];\r\n  const labelsY = [\"Good\", \"Neutral\", \"Evil\"];\r\n\r\n  const inputRef = useRef(null);\r\n  const genderOptionsList = genderOptions;\r\n\r\n  // Local state fallback if component is used uncontrolled\r\n  const [localCharacter, setLocalCharacter] = useState(() => createDefaultCharacter());\r\n  const character = values || localCharacter;\r\n\r\n  const [relationships, setRelationships] = useState({\"\":{\"name\":\"\",\"relationship\":\"\",\"description\":\"\"}}); // start with one input\r\n  const [tagInputs, setTagInputs] = useState({\r\n    additionalTraits: '',\r\n    personality: '',\r\n    ideals: '',\r\n    flaws: ''\r\n  });\r\n\r\n  const additionalTraitTags = useMemo(\r\n    () => toTagArray(character.customization?.additionalTraits),\r\n    [character.customization?.additionalTraits]\r\n  );\r\n  const personalityTags = useMemo(\r\n    () => toTagArray(character.stories?.personality),\r\n    [character.stories?.personality]\r\n  );\r\n  const idealTags = useMemo(\r\n    () => toTagArray(character.stories?.ideals),\r\n    [character.stories?.ideals]\r\n  );\r\n  const flawTags = useMemo(\r\n    () => toTagArray(character.stories?.flaws),\r\n    [character.stories?.flaws]\r\n  );\r\n\r\n  const removeRelationship = (id) =>{\r\n    setRelationships(prev=>{\r\n      const updated = { ...prev };\r\n      delete updated[id];\r\n      relationshipFormatting(updated);\r\n      return updated;\r\n    });\r\n  }\r\n\r\n  const addRelationship = () =>{\r\n    const id = Date.now().toString();\r\n    setRelationships(prev=>({\r\n      ...prev,\r\n      [id]:{}\r\n    }))\r\n  }\r\n\r\n  const changeRelationships = (id, field, value) => {\r\n    setRelationships(prev => {\r\n      const updated = {\r\n        ...prev,\r\n        [id]: {\r\n          ...prev[id],\r\n          [field]: value\r\n        }\r\n      };\r\n\r\n      relationshipFormatting(updated);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // Deep merge helper used in uncontrolled fallback\r\n  const deepMerge = (target, source) => {\r\n    if (typeof source !== 'object' || source === null) return target;\r\n    const out = Array.isArray(target) ? [...target] : { ...target };\r\n    for (const [k, v] of Object.entries(source)) {\r\n      if (v && typeof v === 'object' && !Array.isArray(v)) {\r\n        out[k] = deepMerge(out[k] || {}, v);\r\n      } else {\r\n        out[k] = v;\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n\r\n  const emitPartial = (partial) => {\r\n    if (typeof onChange === 'function') {\r\n      onChange(partial);\r\n    } else {\r\n      // uncontrolled: merge into local state\r\n      setLocalCharacter(prev => deepMerge(prev, partial));\r\n    }\r\n  };\r\n\r\n  const relationshipFormatting = (relationshipsObj) => {\r\n    const formatted = Object.entries(relationshipsObj).reduce((acc, [id, data]) => {\r\n      const { name, ...rest } = data;\r\n      if (name && name.length) acc[name] = rest;\r\n      return acc;\r\n    }, {});\r\n    emitPartial({ stories: { ...(character.stories||{}), relationships: formatted } });\r\n  };\r\n\r\n  // setCharacter: supports dot-path updates and functional updates\r\n  const setCharacter = (pathOrUpdater, value) => {\r\n    if (typeof pathOrUpdater === 'function') {\r\n      const next = pathOrUpdater(character);\r\n      emitPartial(next);\r\n      return;\r\n    }\r\n    const keys = Array.isArray(pathOrUpdater) ? pathOrUpdater : String(pathOrUpdater).split('.');\r\n    const partial = {};\r\n    let cur = partial;\r\n    for (let i = 0; i < keys.length - 1; i++) {\r\n      const k = keys[i];\r\n      cur[k] = {};\r\n      cur = cur[k];\r\n    }\r\n    cur[keys[keys.length - 1]] = value;\r\n    emitPartial(partial);\r\n  };\r\n\r\n  const updateTagInput = (key, value) => {\r\n    setTagInputs((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const setCustomization = (updates) => {\r\n    emitPartial({\r\n      customization: {\r\n        ...(character.customization || {}),\r\n        ...updates\r\n      }\r\n    });\r\n  };\r\n\r\n  const addTag = (key, currentTags, setTags) => {\r\n    const incoming = String(tagInputs[key] || '').trim();\r\n    if (!incoming) return;\r\n\r\n    const alreadyExists = currentTags.some(\r\n      (tag) => String(tag).toLowerCase() === incoming.toLowerCase()\r\n    );\r\n    if (alreadyExists) {\r\n      updateTagInput(key, '');\r\n      return;\r\n    }\r\n\r\n    setTags([...currentTags, incoming]);\r\n    updateTagInput(key, '');\r\n  };\r\n\r\n  const addSuggestedTag = (tag, currentTags, setTags) => {\r\n    if (!tag) return;\r\n    const alreadyExists = currentTags.some(\r\n      (entry) => String(entry).toLowerCase() === String(tag).toLowerCase()\r\n    );\r\n    if (alreadyExists) return;\r\n    setTags([...currentTags, String(tag)]);\r\n  };\r\n\r\n  const removeTag = (tag, currentTags, setTags) => {\r\n    const filtered = currentTags.filter((entry) => entry !== tag);\r\n    setTags(filtered);\r\n  };\r\n\r\n  const getColorSelectionValue = (field, options) => {\n    const selected = String(character.customization?.[field] || '');\n    if (!selected) return '';\n    if (options.includes(selected)) return selected;\n    return 'other';\n  };\n\n  const getCustomColorValue = (field, customField) => {\n    const customValue = String(character.customization?.[customField] || '').trim();\n    if (/^#[0-9a-fA-F]{6}$/.test(customValue)) return customValue;\n\n    const legacyValue = String(character.customization?.[field] || '').trim();\n    if (/^#[0-9a-fA-F]{6}$/.test(legacyValue)) return legacyValue;\n\n    return '#808080';\n  };\n\n  const updateColorSelection = (field, customField, nextValue) => {\n    if (nextValue === 'other') {\n      const fallbackCustom = getCustomColorValue(field, customField);\n      setCustomization({\n        [field]: 'other',\n        [customField]: fallbackCustom\n      });\n      return;\r\n    }\r\n\r\n    setCustomization({\r\n      [field]: nextValue,\r\n      [customField]: ''\r\n    });\r\n  };\r\n\r\n  const renderTagEditor = ({\r\n    inputKey,\r\n    tags,\r\n    suggestions,\r\n    setTags,\r\n    placeholder\r\n  }) => (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex flex-wrap gap-2\">\r\n        {(suggestions || []).map((tag) => {\r\n          const selected = tags.some((entry) => String(entry).toLowerCase() === tag.toLowerCase());\r\n          return (\r\n            <button\r\n              key={tag}\r\n              type=\"button\"\r\n              onClick={() => addSuggestedTag(tag, tags, setTags)}\r\n              className={`px-2 py-1 rounded text-xs border transition-colors ${\r\n                selected\r\n                  ? 'bg-website-specials-900/40 border-website-specials-500 text-white'\r\n                  : 'bg-website-default-900 border-website-default-700 text-website-default-300 hover:border-website-default-500'\r\n              }`}\r\n            >\r\n              {tag}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap gap-2 min-h-10 rounded border border-website-default-700 bg-website-default-900 px-2 py-2\">\r\n        {tags.length === 0 && (\r\n          <span className=\"text-xs text-website-default-400\">No tags added yet.</span>\r\n        )}\r\n        {tags.map((tag) => (\r\n          <span\r\n            key={tag}\r\n            className=\"inline-flex items-center gap-2 rounded border border-website-specials-500 bg-website-specials-900/30 px-2 py-1 text-xs text-white\"\r\n          >\r\n            {tag}\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => removeTag(tag, tags, setTags)}\r\n              className=\"text-website-default-300 hover:text-website-default-100\"\r\n              aria-label={`Remove ${tag}`}\r\n            >\r\n              x\r\n            </button>\r\n          </span>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"flex flex-col sm:flex-row gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          value={tagInputs[inputKey] || ''}\r\n          onChange={(e) => updateTagInput(inputKey, e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') {\r\n              e.preventDefault();\r\n              addTag(inputKey, tags, setTags);\r\n            }\r\n          }}\r\n          placeholder={placeholder}\r\n          className=\"flex-1 rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => addTag(inputKey, tags, setTags)}\r\n          className=\"rounded border border-website-specials-500 bg-website-specials-900/40 px-3 py-2 text-sm text-white hover:bg-website-specials-900/60\"\r\n        >\r\n          Add Tag\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const randomizeGender = () => {\r\n    if (!genderOptionsList.length) return;\r\n    const idx = Math.floor(Math.random() * genderOptionsList.length);\r\n    setCharacter('gender', genderOptionsList[idx]);\r\n  };\r\n\r\n  const birthYear = useMemo(() => {\r\n    const years = parseInt(character.age?.years, 10); \r\n    const m = parseInt(character.age?.month, 10);\r\n    const d = parseInt(character.age?.day, 10);\r\n    if (Number.isNaN(years) || Number.isNaN(m) || Number.isNaN(d)) return null;\r\n    const today = new Date();\r\n    let year = today.getFullYear() - years;\r\n    const hasBirthdayPassed =\r\n      (today.getMonth() + 1 > m) || ((today.getMonth() + 1 === m) && (today.getDate() >= d));\r\n    if (!hasBirthdayPassed) year -= 1;\r\n    return year;\r\n  }, [character.age?.years, character.age?.month, character.age?.day]);\r\n\r\n  const daysInSelectedMonth = useMemo(() => {\r\n    const m = parseInt(character.age?.month, 10);\r\n    if (Number.isNaN(m) || m < 1 || m > 12) return 31;\r\n    const y = birthYear ?? new Date().getFullYear();\r\n    return new Date(y, m, 0).getDate();\r\n  }, [character.age?.month, birthYear]);\r\n\r\n  const BMI = ()=>{\r\n    const heightInches = parseInt(character.model?.height, 10);\r\n    const weightLbs = parseInt(character.model?.weight, 10);\r\n    if (Number.isNaN(heightInches) || Number.isNaN(weightLbs) || heightInches <= 0) return 0;\r\n    return (weightLbs / (heightInches * heightInches)) * 703;\r\n  }\r\n\r\n  // Clamp day when month changes\r\n  useEffect(() => {\r\n    const dim = daysInSelectedMonth;\r\n    const d = parseInt(character.age?.day, 10);\r\n    if (!Number.isNaN(d) && d > dim) {\r\n      setCharacter('age.day', String(dim));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [daysInSelectedMonth, character.age?.day]);\r\n\r\n  // Element-level wheel handler to adjust age and prevent page scroll\r\n  useEffect(() => {\r\n    const el = ageInputRef.current;\r\n    if (!el) return;\r\n    const onWheel = (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (typeof e.stopImmediatePropagation === 'function') e.stopImmediatePropagation();\r\n      const delta = e.deltaY < 0 ? 1 : -1; // scroll up = +1, down = -1\r\n      setCharacter(prev => {\r\n        const currRaw = (prev?.age?.years);\r\n        const curr = (currRaw === undefined || currRaw === '')\r\n          ? 0\r\n          : (typeof currRaw === 'string' ? parseInt(currRaw, 10) : currRaw);\r\n        const safe = Number.isNaN(curr) ? 0 : curr;\r\n        const next = Math.min(120, Math.max(0, safe + delta));\r\n        return { age: { ...(prev?.age||{}), years: next } };\r\n      });\r\n    };\r\n\r\n    el.addEventListener('wheel', onWheel, { passive: false, capture: true });\r\n    return () => {\r\n      el.removeEventListener('wheel', onWheel, { capture: true });\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (editingHeight && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [editingHeight]);\r\n\r\n  const dobDate = useMemo(() => {\r\n    const y = birthYear;\r\n    const m = parseInt(character.age?.month, 10);\r\n    const d = parseInt(character.age?.day, 10);\r\n    if (!y || Number.isNaN(m) || Number.isNaN(d)) return null;\r\n    if (d > new Date(y, m, 0).getDate()) return null;\r\n    return new Date(y, m - 1, d);\r\n  }, [birthYear, character.age?.month, character.age?.day]);\r\n\r\n  const dayOfWeek = useMemo(() => {\r\n    if (!dobDate) return '';\r\n    return dobDate.toLocaleDateString(undefined, { weekday: 'long' });\r\n  }, [dobDate]);\r\n\r\n  const genderSelectValue = useMemo(() => {\r\n    if (!character.gender) return '';\r\n    return genderOptionsList.includes(character.gender) ? character.gender : 'Custom';\r\n  }, [character.gender, genderOptionsList])\r\n\r\n  const formatHeight = (inches) => {\r\n    const n = parseInt(inches, 10);\r\n    if (Number.isNaN(n) || n <= 0) return 'Set height';\r\n    const ft = Math.floor(n / 12);\r\n    const inch = n % 12;\r\n    const cm = Math.round(n * 2.54);\r\n    return `${ft} ${ft === 1 ? \"foot\" : \"feet\"}${inch > 0 ? ` ${inch} ${inch === 1 ? \"inch\" : \"inches\"}` : ''} (${cm}cm)`;\r\n  };\r\n\r\n  const getHeightBounds = (size) => {\r\n    switch (size) {\r\n      case 'tiny': return [12, 24];\r\n      case 'small': return [24, 48];\r\n      case 'medium': return [48, 96];\r\n      case 'large': return [96, 192];\r\n      case 'huge': return [192, 384];\r\n      case 'gargantuan': return [384, 768];\r\n      default: return [0, 768];\r\n    }\r\n  };\r\n\r\n  const [minHeightIn, maxHeightIn] = useMemo(() => getHeightBounds(character.model?.size), [character.model?.size]);\r\n\r\n  return(\r\n    <div className='bg-website-default-900 min-h-screen grid grid-cols-1 md:grid-cols-[1fr_2fr_1fr]'>\r\n      <div></div>\r\n      <div className='p-4 border-b border-website-specials-500 space-y-4'>\r\n        <div className='flex flex-row p-4 space-x-4 border-b border-website-specials-500'>\r\n          <CircleUser size={48} />\r\n          <div className='flex flex-col'>\r\n            <div className='text-left text-l font-semibold'>Character Name</div>\r\n            <input \r\n              type=\"text\"\r\n              placeholder='Name...'\r\n              className='border-b border-website-highlights-400 bg-website-default-900 focus:outline-none focus:bg-gradient-to-t from-website-highlights-500 to-website-default-900' \r\n              value={character.name || ''}\r\n              onChange={(e) => setCharacter('name', e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className='space-y-8 flex flex-col text-left'>\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold mb-4\">Basic Information </h1>\r\n            <div className=\"grid grid-cols-1 gap-6\">\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Age\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    How old is your character?\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                      <div className=\"flex flex-col\">\r\n                        <label className=\"text-sm text-website-default-300 mb-1\">Month</label>\r\n                        <select\r\n                          value={character.age?.month || ''}\r\n                          onChange={(e) => setCharacter('age.month', e.target.value)}\r\n                          className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                        >\r\n                          <option value=\"\" disabled>Select month</option>\r\n                          <option value=\"1\">January</option>\r\n                          <option value=\"2\">February</option>\r\n                          <option value=\"3\">March</option>\r\n                          <option value=\"4\">April</option>\r\n                          <option value=\"5\">May</option>\r\n                          <option value=\"6\">June</option>\r\n                          <option value=\"7\">July</option>\r\n                          <option value=\"8\">August</option>\r\n                          <option value=\"9\">September</option>\r\n                          <option value=\"10\">October</option>\r\n                          <option value=\"11\">November</option>\r\n                          <option value=\"12\">December</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"flex flex-col\">\r\n                        <label className=\"text-sm text-website-default-300 mb-1\">Day</label>\r\n                        <select\r\n                          value={character.age?.day || ''}\r\n                          onChange={(e) => setCharacter('age.day', e.target.value)}\r\n                          className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                          disabled={!character.age?.month}\r\n                        >\r\n                          <option value=\"\" disabled>{!character.age?.month ? 'Select month first' : 'Select day'}</option>\r\n                          {Array.from({ length: daysInSelectedMonth }, (_, i) => i + 1).map((d) => (\r\n                            <option key={d} value={d}>{d}</option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"flex flex-col\">\r\n                        <label className=\"text-sm text-website-default-300 mb-1\">Age</label>\r\n                        <input\r\n                          ref={ageInputRef}\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          max=\"120\"\r\n                          step=\"1\"\r\n                          value={character.age?.years ?? ''}\r\n                          onChange={(e) => {\r\n                            const val = parseInt(e.target.value, 10);\r\n                            if (!isNaN(val)) setCharacter('age.years', val);\r\n                            else setCharacter('age.years', '');\r\n                          }}\r\n                          onMouseEnter={() => {\r\n                            prevBodyOverflow.current = document.body.style.overflow;\r\n                            document.body.style.overflow = 'hidden';\r\n                          }}\r\n                          onMouseLeave={() => {\r\n                            document.body.style.overflow = prevBodyOverflow.current || '';\r\n                          }}\r\n                          className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400 overscroll-contain\"\r\n                          placeholder=\"Years\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {dobDate && (\r\n                      <div className=\"text-sm text-website-default-300\">\r\n                        <div className=\"mt-2\">\r\n                          <span className=\"text-website-default-100\">Born on: </span>\r\n                          <span>{dayOfWeek}</span>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Card.Content>\r\n              </Card>   \r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Gender\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    What does your character identify as?\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\r\n                    <div className=\"flex flex-col\">\r\n                      <label className=\"text-sm text-website-default-300 mb-1\">Gender</label>\r\n                      <select\r\n                        value={genderSelectValue}\r\n                        onChange={(e) => {\r\n                          const val = e.target.value;\r\n                          if (val === 'Custom'){\r\n                            setCustomGender(true)\r\n                            setCharacter('gender', '')\r\n                          }\r\n                          else{\r\n                            setCharacter('gender', val)\r\n                            setCustomGender(false);\r\n                          }\r\n                        }}\r\n                        className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                      >\r\n                        <option value=\"\" disabled>Select gender</option>\r\n                        {genderOptionsList.map((g) => (\r\n                          <option key={g} value={g}>{g}</option>\r\n                        ))}\r\n                        <option value=\"Custom\">Custom</option>\r\n                      </select>\r\n                    </div>\r\n                    {customGender === true && (\r\n                      <div className=\"flex flex-col\">\r\n                        <label className=\"text-sm text-website-default-300 mb-1\">Custom</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={character.gender || ''}\r\n                          onChange={(e) => setCharacter('gender', e.target.value)}\r\n                          className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                          placeholder=\"Enter custom gender\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex flex-col\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={randomizeGender}\r\n                        className=\"inline-flex items-center justify-center rounded border border-website-specials-500 bg-website-default-800 px-3 py-2 hover:bg-website-highlights-500/10 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                        title=\"Randomize gender\"\r\n                      >\r\n                        <Shuffle className=\"w-4 h-4 mr-2\" />\r\n                        Randomize\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </Card.Content>\r\n              </Card>\r\n              \r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Size\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    How big/small is your character?\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\r\n                    <div className='flex flex-col'>\r\n                      <label className=\"text-website-default-300 text-sm\">Size Scale</label>\r\n                      <select \r\n                        name=\"Size\" \r\n                        id=\"size\" \r\n                        value={character.model?.size || \"\"} \r\n                        onChange={(e) => setCharacter('model.size', e.target.value)}\r\n                        className='rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400'>\r\n                        <option value=\"\" disabled>Select size</option>\r\n                        <option value=\"tiny\">Tiny (1ft-2ft)</option>\r\n                        <option value=\"small\">Small (2ft-4ft)</option>\r\n                        <option value=\"medium\">Medium (4ft-8ft)</option>\r\n                        <option value=\"large\">Large (8ft-16ft)</option>\r\n                        <option value=\"huge\">Huge (16ft-32ft)</option>\r\n                        <option value=\"gargantuan\">Gargantuan (32ft-64ft)</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className='flex flex-row'>\r\n                      {character.model?.size && (\r\n                        <div className='flex flex-col'>\r\n                          <label className=\"text-website-default-300 text-sm\">Height</label>\r\n                          <div>\r\n                            {editingHeight ? (\r\n                              <div className=\"flex flex-row space-x-2 items-center\">\r\n                                <input\r\n                                  className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                                  type=\"number\"\r\n                                  ref={inputRef}\r\n                                  value={editingHeight ? character.model?.height : formatHeight(character.model?.height)}\r\n                                  placeholder={formatHeight(character.model?.height)}\r\n                                  min={minHeightIn}\r\n                                  max={maxHeightIn}\r\n                                  onClick={() => {\r\n                                    setIsEditingHeight(true);\r\n                                  }}\r\n                                  onChange={(e) => {\r\n                                    setCharacter('model.height', e.target.value);\r\n                                  }}\r\n                                  onBlur={(e)=>{\r\n                                    let val = Number(e.target.value);\r\n                                    if (val < minHeightIn) { val = minHeightIn }\r\n                                    else if (val > maxHeightIn) { val = maxHeightIn }\r\n                                    setIsEditingHeight(false);\r\n                                    setCharacter('model.height', val);\r\n                                  }}\r\n                                />\r\n                                <label className=\"text-website-default-300 text-s\">In Inches</label>\r\n                              </div>\r\n                            ) : (\r\n                              <div\r\n                                className=\"rounded border border-website-specials-500 w-full bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                                onClick={() => setIsEditingHeight(true)}\r\n                              >\r\n                                {formatHeight(character.model?.height)}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )}                        \r\n                    </div>\r\n                    <div>\r\n                      {editingWeight ? (\r\n                        <div className='flex flex-col'>\r\n                          <label className=\"text-website-default-300 text-sm\">Weight</label>\r\n                          <input\r\n                            className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                            type=\"number\"\r\n                            value={character.model?.weight || ''}\r\n                            placeholder=\"Weight in lbs\"\r\n                            onChange={(e) => setCharacter('model.weight', e.target.value)}\r\n                            onBlur={() => setIsEditingWeight(false)}\r\n                          />\r\n                        </div>\r\n                      ) :(\r\n                        <div className='flex flex-col'>\r\n                          <label className=\"text-website-default-300 text-sm\">Weight</label>\r\n                          <div\r\n                            className=\"rounded border border-website-specials-500 w-full bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                            onClick={() => setIsEditingWeight(true)}\r\n                          >\r\n                            {character.model?.weight ? `${character.model?.weight} lbs` : 'Set weight'}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    {[\"tiny\", \"gargantuan\", \"huge\"].includes(character.model?.size) && (\r\n                      <div className='text-website-default-300 col-span-2'>\r\n                        <span className='font-bold text-website-specials-400'>WARNING!</span> You have selected a size that may make playing very difficult. Are you sure?\r\n                      </div>\r\n                    )}\r\n                    {(BMI() < 10 || BMI() > 50) && (\r\n                      <div className='text-website-default-300 col-span-2'>\r\n                        <span className='font-bold text-website-specials-400'>WARNING!</span> Your character has an unusual BMI of {BMI().toFixed(1)}. This may impact gameplay.\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Card.Content>\r\n              </Card>\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Alignment\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    What is your character's moral and ethical perspective?\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  <div className=\"flex flex-col items-center justify-center relative w-full gap-8\">\r\n                    <div className=\"flex flex-col items-center w-full\">\r\n                      <label className=\"text-website-default-300 text-sm mb-1\">Lawful {'<--->'} Chaotic</label>\r\n                      <input \r\n                        type=\"range\"\r\n                        min={0}\r\n                        max={2}\r\n                        className=\"w-full\"\r\n                        value={xAlign}\r\n                        title={labelsX[xAlign]}\r\n                        onChange={(e) => {\r\n                          setXAlign(Number(e.target.value))\r\n                          setCharacter(\"alignment\",`${labelsX[Number(e.target.value)]} ${labelsY[yAlign]}`)\r\n                        }}\r\n                      /> \r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col items-center w-full\">\r\n                      <label className=\"text-website-default-300 text-sm mb-1\">Good {'<--->'} Evil</label>\r\n                      <input \r\n                        type=\"range\"\r\n                        min={0}\r\n                        max={2}\r\n                        className=\"w-full\"\r\n                        value={yAlign}\r\n                        title={labelsY[yAlign]}\r\n                        onChange={(e) => {\r\n                          setYAlign(Number(e.target.value))\r\n                          setCharacter(\"alignment\",`${labelsX[xAlign]} ${labelsY[Number(e.target.value)]}`)\r\n                        }}\r\n                      /> \r\n                    </div>\r\n\r\n                    <div className=\"relative aspect-square w-full grid grid-cols-3 grid-rows-3 border border-website-default-500\">\r\n                      {/* Alignment labels */}\r\n                      {labelsY.map((y) =>\r\n                        labelsX.map((x) => (\r\n                          <div\r\n                            key={`${x}-${y}`}\r\n                            className=\"flex items-center justify-center text-xs text-website-default-300 border border-website-default-700\"\r\n                          >\r\n                            {x} {y}\r\n                          </div>\r\n                        ))\r\n                      )}\r\n\r\n                      {/* Marker showing intersection */}\r\n                      <div\r\n                        className=\"absolute w-4 h-4 bg-website-specials-200 rounded-full shadow-lg transition-all duration-200\"\r\n                        style={{\r\n                          left: `calc((${xAlign} * 2 + 1) / 6 * 100%)`,\r\n                          top:`calc((${yAlign} * 2 + 1) / 6 * 100%)`,\r\n                          transform: \"translate(-50%, -50%)\"\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                </Card.Content>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold mb-4\">Additional Customization</h1>\r\n            <div className=\"grid grid-cols-1 gap-6\">\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Character Appearance\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    What does your character look like?\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"flex flex-col\">\r\n                      <label className=\"text-sm text-website-default-300 mb-1\">Hair Color</label>\r\n                      <select className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                        value={getColorSelectionValue('hairColor', COLOR_OPTIONS.hair)}\r\n                        onChange={(e) => updateColorSelection('hairColor', 'hairColorCustom', e.target.value)}\r\n                      >\r\n                        <option value=\"\" disabled>Select hair color</option>\r\n                        {COLOR_OPTIONS.hair.map((option) => (\r\n                          <option key={option} value={option}>{option.charAt(0).toUpperCase() + option.slice(1)}</option>\r\n                        ))}\r\n                        <option value=\"other\">Other (pick color)</option>\r\n                      </select>\r\n                      {getColorSelectionValue('hairColor', COLOR_OPTIONS.hair) === 'other' && (\r\n                        <div className=\"mt-2 flex items-center gap-2\">\r\n                          <input\n                            type=\"color\"\n                            value={getCustomColorValue('hairColor', 'hairColorCustom')}\n                            onChange={(e) => setCustomization({ hairColor: 'other', hairColorCustom: e.target.value })}\n                            className=\"h-9 w-14 rounded border border-website-specials-500 bg-transparent p-1\"\n                          />\n                          <span className=\"text-xs text-website-default-300\">{getCustomColorValue('hairColor', 'hairColorCustom')}</span>\n                        </div>\n                      )}\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                      <label className=\"text-sm text-website-default-300 mb-1\">Skin Color</label>\r\n                      <select className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                        value={getColorSelectionValue('skinColor', COLOR_OPTIONS.skin)}\r\n                        onChange={(e) => updateColorSelection('skinColor', 'skinColorCustom', e.target.value)}\r\n                      >\r\n                        <option value=\"\" disabled>Select skin color</option>\r\n                        {COLOR_OPTIONS.skin.map((option) => (\r\n                          <option key={option} value={option}>{option.charAt(0).toUpperCase() + option.slice(1)}</option>\r\n                        ))}\r\n                        <option value=\"other\">Other (pick color)</option>\r\n                      </select>\r\n                      {getColorSelectionValue('skinColor', COLOR_OPTIONS.skin) === 'other' && (\r\n                        <div className=\"mt-2 flex items-center gap-2\">\r\n                          <input\n                            type=\"color\"\n                            value={getCustomColorValue('skinColor', 'skinColorCustom')}\n                            onChange={(e) => setCustomization({ skinColor: 'other', skinColorCustom: e.target.value })}\n                            className=\"h-9 w-14 rounded border border-website-specials-500 bg-transparent p-1\"\n                          />\n                          <span className=\"text-xs text-website-default-300\">{getCustomColorValue('skinColor', 'skinColorCustom')}</span>\n                        </div>\n                      )}\n                    </div>\r\n\r\n                    <div className=\"flex flex-col\">\r\n                      <label className=\"text-sm text-website-default-300 mb-1\">Eye Color</label>\r\n                      <select className=\"rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                        value={getColorSelectionValue('eyeColor', COLOR_OPTIONS.eye)}\r\n                        onChange={(e) => updateColorSelection('eyeColor', 'eyeColorCustom', e.target.value)}\r\n                      >\r\n                        <option value=\"\" disabled>Select eye color</option>\r\n                        {COLOR_OPTIONS.eye.map((option) => (\r\n                          <option key={option} value={option}>{option.charAt(0).toUpperCase() + option.slice(1)}</option>\r\n                        ))}\r\n                        <option value=\"other\">Other (pick color)</option>\r\n                      </select>\r\n                      {getColorSelectionValue('eyeColor', COLOR_OPTIONS.eye) === 'other' && (\r\n                        <div className=\"mt-2 flex items-center gap-2\">\r\n                          <input\n                            type=\"color\"\n                            value={getCustomColorValue('eyeColor', 'eyeColorCustom')}\n                            onChange={(e) => setCustomization({ eyeColor: 'other', eyeColorCustom: e.target.value })}\n                            className=\"h-9 w-14 rounded border border-website-specials-500 bg-transparent p-1\"\n                          />\n                          <span className=\"text-xs text-website-default-300\">{getCustomColorValue('eyeColor', 'eyeColorCustom')}</span>\n                        </div>\n                      )}\n                    </div>\r\n\r\n                  </div>\r\n                </Card.Content>\r\n              </Card>\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Additional Traits\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    Add selectable or custom trait tags.\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  {renderTagEditor({\r\n                    inputKey: 'additionalTraits',\r\n                    tags: additionalTraitTags,\r\n                    suggestions: DEFAULT_TAGS.additionalTraits,\r\n                    setTags: (tags) => setCharacter('customization.additionalTraits', tags),\r\n                    placeholder: 'Add a custom trait tag...'\r\n                  })}\r\n                </Card.Content>\r\n              </Card>\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold mb-4\">Long Story Short</h1>\r\n            <div className=\"grid grid-cols-1 gap-6\">\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Personality Traits\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    Default and custom personality tags in one editable bar.\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  {renderTagEditor({\r\n                    inputKey: 'personality',\r\n                    tags: personalityTags,\r\n                    suggestions: DEFAULT_TAGS.personality,\r\n                    setTags: (tags) => setCharacter('stories.personality', tags),\r\n                    placeholder: 'Add a custom personality tag...'\r\n                  })}\r\n                </Card.Content>\r\n              </Card>\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Ideals\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    Add ideals as tags so they work like personality traits.\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  {renderTagEditor({\r\n                    inputKey: 'ideals',\r\n                    tags: idealTags,\r\n                    suggestions: DEFAULT_TAGS.ideals,\r\n                    setTags: (tags) => setCharacter('stories.ideals', tags),\r\n                    placeholder: 'Add a custom ideal tag...'\r\n                  })}\r\n                </Card.Content>\r\n              </Card>\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Flaws\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    Add flaws as tags so they work like personality traits.\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  {renderTagEditor({\r\n                    inputKey: 'flaws',\r\n                    tags: flawTags,\r\n                    suggestions: DEFAULT_TAGS.flaws,\r\n                    setTags: (tags) => setCharacter('stories.flaws', tags),\r\n                    placeholder: 'Add a custom flaw tag...'\r\n                  })}\r\n                </Card.Content>\r\n              </Card>\r\n\r\n              <Card className='bg-website-default-800 border-website-specials-500'>\r\n                <Card.Header className=''>\r\n                  <Card.Title className='text-website-default-100'>\r\n                    Relationships\r\n                  </Card.Title>\r\n                  <Card.Description className='text-website-default-300'>\r\n                    Describe your character's relationships.\r\n                  </Card.Description>\r\n                </Card.Header>\r\n                <Card.Content>\r\n                  <div className=\"space-y-2 w-full flex flex-col justify-center\">\r\n                    {Object.entries(relationships).map(([key, value],id) => (\r\n                      <div className=\"grid grid-cols-[1fr_auto] gap-4 pb-4\" key={key}>\r\n                        <div key={id} className=\"grid grid-rows-[auto_1fr] grid-cols-1 md:grid-cols-2 items-center gap-x-4\">\r\n                          <div className=\"flex flex-col\">\r\n                            <label className=\"text-sm text-website-default-300 mb-1\">Relationship Name</label>\r\n                            <input\r\n                              className=\"flex-1 px-3 py-2 border border-website-specials-500 rounded bg-website-default-900 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                              value={value.name || ''}\r\n                              onChange={(e)=>{\r\n                                changeRelationships(key, 'name', e.target.value)\r\n                              }}\r\n                              placeholder=\"Bob...\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"flex flex-col\">\r\n                            <label className=\"text-sm text-website-default-300 mb-1\">Relationship Type</label>\r\n                            <input \r\n                              className=\"w-full flex-1 px-3 py-2 border border-website-specials-500 rounded bg-website-default-900 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                              value={value.relationship || ''}\r\n                              placeholder=\"Friend, Sibling, Rival...\"\r\n                              onChange={(e)=>{\r\n                                changeRelationships(key, 'relationship', e.target.value)\r\n                              }}\r\n                            />\r\n                          </div>\r\n                          <div className=\"flex flex-col col-span-1 md:col-span-2 h-full\">\r\n                            <label className=\"text-sm text-website-default-300 mb-1\">Description</label>\r\n                            <textarea \r\n                              className=\"flex-1 px-3 py-2 h-full border border-website-specials-500 rounded bg-website-default-900 focus:outline-none focus:ring-2 focus:ring-website-highlights-400\"\r\n                              value={value.description || ''}\r\n                              placeholder=\"He works at the local tavern as a bartender...\"\r\n                              onChange={(e)=>{\r\n                                changeRelationships(key, 'description', e.target.value)\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        { Object.keys(relationships).length > 1 &&( \r\n                          <button\r\n                            onClick={()=>{\r\n                              removeRelationship(key)\r\n                            }}\r\n                            className=\"mt-8 px-2 py-1 text-white bg-website-default-500 rounded hover:bg-website-specials-500 transition\"\r\n                          >\r\n                            X\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                    <button\r\n                      className=\"mt-8 px-2 py-1 text-white bg-website-specials-500 rounded hover:bg-website-specials-700 transition\"\r\n                      onClick={()=>{\r\n                        addRelationship()\r\n                      }}\r\n                    >\r\n                      Add Relationship\r\n                    </button>  \r\n                  </div>\r\n                </Card.Content>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n","export const CORE_ABILITY_KEYS = ['str', 'dex', 'con', 'int', 'wis', 'cha'];\n\nconst ABILITY_ALIASES = {\n  str: 'str',\n  strength: 'str',\n  dex: 'dex',\n  dexterity: 'dex',\n  con: 'con',\n  constitution: 'con',\n  int: 'int',\n  intelligence: 'int',\n  wis: 'wis',\n  wisdom: 'wis',\n  cha: 'cha',\n  charisma: 'cha',\n  luck: 'luck'\n};\n\nexport function normalizeAbilityKey(rawKey) {\n  if (!rawKey) return '';\n  const key = String(rawKey).trim().toLowerCase();\n  return ABILITY_ALIASES[key] || '';\n}\n\nexport function getModifierValue(modifiers, abilityKey) {\n  const target = normalizeAbilityKey(abilityKey);\n  if (!target || !modifiers || typeof modifiers !== 'object') return 0;\n\n  for (const [rawKey, rawValue] of Object.entries(modifiers)) {\n    if (normalizeAbilityKey(rawKey) !== target) continue;\n    const parsed = Number(rawValue);\n    return Number.isFinite(parsed) ? parsed : 0;\n  }\n  return 0;\n}\n\nexport function normalizeChoiceMap(rawChoiceMap) {\n  if (!rawChoiceMap || typeof rawChoiceMap !== 'object') return {};\n  const out = {};\n\n  Object.entries(rawChoiceMap).forEach(([rawKey, rawValue]) => {\n    const key = normalizeAbilityKey(rawKey);\n    if (!key) return;\n    const value = Number(rawValue);\n    if (!Number.isFinite(value) || value === 0) return;\n    out[key] = value;\n  });\n\n  return out;\n}\n\nexport function getChoiceBonus(choiceMap, abilityKey) {\n  const target = normalizeAbilityKey(abilityKey);\n  if (!target) return 0;\n  const normalized = normalizeChoiceMap(choiceMap);\n  return Number(normalized[target] || 0);\n}\n\nexport function sanitizeChoiceMap(rawChoiceMap, config) {\n  const normalized = normalizeChoiceMap(rawChoiceMap);\n  if (!config || typeof config !== 'object') return {};\n\n  const amount = Number(config.amount);\n  const chooseCount = Number(config.chooseCount);\n  const safeAmount = Number.isFinite(amount) && amount > 0 ? amount : 1;\n  const maxChoices = Number.isFinite(chooseCount) && chooseCount > 0 ? chooseCount : 0;\n  if (maxChoices <= 0) return {};\n\n  const allowedOptions = new Set(\n    (config.options || [])\n      .map(normalizeAbilityKey)\n      .filter(Boolean)\n  );\n  if (allowedOptions.size === 0) return {};\n\n  const out = {};\n  let picked = 0;\n  for (const [key] of Object.entries(normalized)) {\n    if (!allowedOptions.has(key)) continue;\n    out[key] = safeAmount;\n    picked += 1;\n    if (picked >= maxChoices) break;\n  }\n  return out;\n}\n\nexport function parseAbilityScoreChoiceConfig(entity) {\n  if (!entity || typeof entity !== 'object') return null;\n\n  const choices = entity.choices || {};\n  const rawAbilityChoice =\n    choices.abilityScores ||\n    choices.abilityScore ||\n    choices.abilityScoreModifiers ||\n    null;\n\n  let chooseCount = 0;\n  let amount = 1;\n  let options = [...CORE_ABILITY_KEYS];\n\n  // Common string format in your data: \"Choose 2 1\", \"Cha 2 Choose 2 1\"\n  if (typeof rawAbilityChoice === 'string') {\n    const chooseMatch = rawAbilityChoice.match(/choose\\s+(\\d+)/i);\n    const amountMatch = rawAbilityChoice.match(/choose\\s+\\d+\\s+(\\d+)/i);\n    chooseCount = chooseMatch ? Number(chooseMatch[1]) : 0;\n    amount = amountMatch ? Number(amountMatch[1]) : 1;\n  } else if (rawAbilityChoice && typeof rawAbilityChoice === 'object') {\n    chooseCount = Number(\n      rawAbilityChoice.choose ??\n      rawAbilityChoice.count ??\n      rawAbilityChoice.amount ??\n      0\n    );\n    amount = Number(\n      rawAbilityChoice.value ??\n      rawAbilityChoice.modifier ??\n      rawAbilityChoice.points ??\n      1\n    );\n\n    if (Array.isArray(rawAbilityChoice.options) && rawAbilityChoice.options.length > 0) {\n      options = rawAbilityChoice.options\n        .map(normalizeAbilityKey)\n        .filter(Boolean);\n    }\n  }\n\n  if (chooseCount <= 0) {\n    const chooseFromBase = Number(entity.abilityScoreModifiers?.choose || 0);\n    chooseCount = Number.isFinite(chooseFromBase) ? chooseFromBase : 0;\n  }\n\n  if (chooseCount <= 0) return null;\n\n  const fixedKeys = Object.keys(entity.abilityScoreModifiers || {})\n    .map(normalizeAbilityKey)\n    .filter((k) => k && k !== 'choose');\n\n  const uniqueOptions = [...new Set(options)];\n  const filteredOptions = uniqueOptions.filter((opt) => !fixedKeys.includes(opt));\n  const finalOptions = filteredOptions.length > 0 ? filteredOptions : uniqueOptions;\n  const finalChooseCount = Math.min(chooseCount, finalOptions.length);\n  const finalAmount = Number.isFinite(amount) && amount > 0 ? amount : 1;\n\n  if (finalChooseCount <= 0 || finalOptions.length === 0) return null;\n\n  return {\n    chooseCount: finalChooseCount,\n    amount: finalAmount,\n    options: finalOptions\n  };\n}\n","import React, { useMemo } from 'react';\nimport { Card } from '../../../pageComponents/card';\nimport { useGameData } from '../../../data/gameDataContext';\nimport { CircleUser } from 'lucide-react';\nimport {\n  normalizeAbilityKey,\n  parseAbilityScoreChoiceConfig,\n  sanitizeChoiceMap\n} from '../utils/abilityScoreModifiers';\n\nconst ABILITY_LABELS = {\n  str: 'Strength',\n  dex: 'Dexterity',\n  con: 'Constitution',\n  int: 'Intelligence',\n  wis: 'Wisdom',\n  cha: 'Charisma'\n};\n\nconst toTitleCase = (str) => {\n  if (!str) return '';\n  return String(str)\n    .replace(/([A-Z])/g, ' $1')\n    .replace(/^./, (char) => char.toUpperCase())\n    .trim();\n};\n\nconst sizeMap = {\n  tiny: 'T',\n  small: 'S',\n  medium: 'M',\n  large: 'L',\n  huge: 'H',\n  gargantuan: 'G'\n};\n\nexport function Race({ values, onChange }) {\n  const { maps } = useGameData();\n  const { racesById, subracesById } = maps;\n\n  const selectedRace = values?.race || '';\n  const selectedSubrace = values?.subrace || '';\n  const selectedSize = values?.model?.size || '';\n  const abilityScoreChoices = values?.abilityScoreChoices || {};\n\n  const emit = (partial) => {\n    if (typeof onChange === 'function') onChange(partial);\n  };\n\n  const selectedRaceObj = useMemo(() => {\n    return racesById[selectedRace] || null;\n  }, [racesById, selectedRace]);\n\n  const filteredRaces = useMemo(() => {\n    if (!selectedSize) return [];\n    const normalizedSize = sizeMap[String(selectedSize).toLowerCase()] || String(selectedSize).toUpperCase();\n    return Object.values(racesById).filter((race) => race && race.size === normalizedSize);\n  }, [racesById, selectedSize]);\n\n  const availableSubraces = useMemo(() => {\n    if (!selectedRaceObj) return [];\n    const subracesForRace = selectedRaceObj.subraces || [];\n    return Object.values(subracesById).filter((subrace) => (\n      subrace && subracesForRace.some((sub) => sub.subraceID === subrace.subraceID)\n    ));\n  }, [selectedRaceObj, subracesById]);\n\n  const selectedSubraceObj = useMemo(() => {\n    return subracesById[selectedSubrace] || null;\n  }, [subracesById, selectedSubrace]);\n\n  const raceChoiceConfig = useMemo(() => {\n    return parseAbilityScoreChoiceConfig(selectedRaceObj);\n  }, [selectedRaceObj]);\n\n  const subraceChoiceConfig = useMemo(() => {\n    return parseAbilityScoreChoiceConfig(selectedSubraceObj);\n  }, [selectedSubraceObj]);\n\n  const raceChoiceMap = useMemo(() => {\n    return sanitizeChoiceMap(abilityScoreChoices?.race, raceChoiceConfig);\n  }, [abilityScoreChoices?.race, raceChoiceConfig]);\n\n  const subraceChoiceMap = useMemo(() => {\n    return sanitizeChoiceMap(abilityScoreChoices?.subrace, subraceChoiceConfig);\n  }, [abilityScoreChoices?.subrace, subraceChoiceConfig]);\n\n  const raceDisplayModifiers = useMemo(() => {\n    return Object.entries(selectedRaceObj?.abilityScoreModifiers || {})\n      .filter(([ability]) => Boolean(normalizeAbilityKey(ability)));\n  }, [selectedRaceObj]);\n\n  const subraceDisplayModifiers = useMemo(() => {\n    return Object.entries(selectedSubraceObj?.abilityScoreModifiers || {})\n      .filter(([ability]) => Boolean(normalizeAbilityKey(ability)));\n  }, [selectedSubraceObj]);\n\n  const updateAbilityChoice = (scope, ability, config) => {\n    if (!config || !scope || !ability) return;\n    const normalizedAbility = normalizeAbilityKey(ability);\n    if (!normalizedAbility) return;\n\n    const currentChoices = sanitizeChoiceMap(abilityScoreChoices?.[scope], config);\n    const nextChoices = { ...currentChoices };\n\n    if (nextChoices[normalizedAbility]) {\n      delete nextChoices[normalizedAbility];\n    } else if (Object.keys(nextChoices).length < config.chooseCount) {\n      nextChoices[normalizedAbility] = config.amount;\n    } else {\n      return;\n    }\n\n    emit({\n      abilityScoreChoices: {\n        ...abilityScoreChoices,\n        [scope]: nextChoices\n      }\n    });\n  };\n\n  const handleRaceChange = (raceId) => {\n    emit({\n      race: raceId,\n      subrace: '',\n      abilityScoreChoices: {\n        ...abilityScoreChoices,\n        race: {},\n        subrace: {}\n      }\n    });\n  };\n\n  const handleSubraceChange = (subraceId) => {\n    emit({\n      subrace: subraceId,\n      abilityScoreChoices: {\n        ...abilityScoreChoices,\n        subrace: {}\n      }\n    });\n  };\n\n  const renderChoiceCard = (scope, config, choiceMap, accentClass) => {\n    if (!config) return null;\n\n    const selectedCount = Object.keys(choiceMap).length;\n    const atLimit = selectedCount >= config.chooseCount;\n\n    return (\n      <Card className={`bg-website-default-800 ${accentClass}`}>\n        <Card.Header className='border-b border-website-default-700 pb-4'>\n          <Card.Title className='text-website-default-100'>Ability Score Choices</Card.Title>\n          <Card.Description className='text-website-default-300'>\n            Choose {config.chooseCount} ability score{config.chooseCount > 1 ? 's' : ''} to gain +{config.amount}.\n          </Card.Description>\n        </Card.Header>\n        <Card.Content className='pt-6 space-y-3'>\n          <div className='text-sm text-website-default-300'>\n            Selected {selectedCount} / {config.chooseCount}\n          </div>\n          <div className='grid grid-cols-2 md:grid-cols-3 gap-3'>\n            {config.options.map((ability) => {\n              const isActive = Boolean(choiceMap[ability]);\n              const disabled = !isActive && atLimit;\n              return (\n                <button\n                  key={ability}\n                  type='button'\n                  disabled={disabled}\n                  onClick={() => updateAbilityChoice(scope, ability, config)}\n                  className={`p-3 rounded border text-sm transition-colors ${isActive ? 'bg-website-specials-900/40 border-website-specials-500 text-white' : 'bg-website-default-900 border-website-default-700 text-website-default-200 hover:border-website-default-500'} ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}\n                >\n                  {ABILITY_LABELS[ability] || toTitleCase(ability)} (+{config.amount})\n                </button>\n              );\n            })}\n          </div>\n        </Card.Content>\n      </Card>\n    );\n  };\n\n  return (\n    <div className='bg-website-default-900 min-h-screen grid grid-cols-1 md:grid-cols-[1fr_2fr_1fr]'>\n      <div className='p-4 space-y-4 md:col-start-2'>\n        <div className='flex flex-row p-4 space-x-4 border-b border-website-specials-500'>\n          <CircleUser size={48} />\n          <div className='flex flex-col'>\n            <div className='text-left text-l font-semibold'>Character Name</div>\n            <input\n              type='text'\n              placeholder='Name...'\n              className='border-b border-website-highlights-400 bg-website-default-900 focus:outline-none focus:bg-gradient-to-t from-website-highlights-500 to-website-default-900'\n              value={values.name || ''}\n              onChange={(e) => emit({ name: e.target.value })}\n            />\n          </div>\n        </div>\n\n        <div className='space-y-8 flex flex-col text-left'>\n          <div>\n            <h1 className='text-2xl font-semibold mb-4 text-white'>Race</h1>\n            <div className='grid grid-cols-1 gap-6'>\n              <Card className={selectedSize ? 'bg-website-highlights-900/20 border-website-highlights-500' : 'bg-website-specials-900/20 border-website-specials-500'}>\n                <Card.Content className='pt-6 pb-6'>\n                  <div className={`flex items-center gap-3 ${selectedSize ? 'text-website-highlights-300' : 'text-website-specials-300'}`}>\n                    {selectedSize ? (\n                      <span className='text-sm'>Showing races matching your selected size: <span className='font-semibold text-website-highlights-400'>{selectedSize.charAt(0).toUpperCase() + selectedSize.slice(1)}</span></span>\n                    ) : (\n                      <span className='text-sm'><span className='font-semibold'>Tip:</span> Select a size in Customization to filter available races by size.</span>\n                    )}\n                  </div>\n                </Card.Content>\n              </Card>\n\n              <Card className='bg-website-default-800 border-website-specials-500'>\n                <Card.Header>\n                  <Card.Title className='text-website-default-100'>Race</Card.Title>\n                  <Card.Description className='text-website-default-300'>Choose your character&apos;s race.</Card.Description>\n                </Card.Header>\n                <Card.Content>\n                  <div className='flex flex-col'>\n                    <select\n                      className='rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 text-white focus:outline-none'\n                      value={selectedRace}\n                      onChange={(e) => handleRaceChange(e.target.value)}\n                    >\n                      <option value='' disabled>Select race</option>\n                      {filteredRaces.length > 0 ? (\n                        filteredRaces.map((race) => (\n                          <option key={race._id} value={race._id}>{race.name}</option>\n                        ))\n                      ) : (\n                        <option disabled>No races match this size</option>\n                      )}\n                    </select>\n                    {selectedRaceObj && (\n                      <div className='mt-4 p-4 border border-website-specials-500 rounded bg-website-default-900/50'>\n                        <div className='text-website-default-300 text-sm'>{selectedRaceObj.description}</div>\n                      </div>\n                    )}\n                  </div>\n                </Card.Content>\n              </Card>\n\n              {raceDisplayModifiers.length > 0 && (\n                <Card className='bg-website-default-800 border-website-specials-500'>\n                  <Card.Header className='border-b border-website-default-700 pb-4'>\n                    <Card.Title className='text-website-default-100'>Ability Score Modifiers</Card.Title>\n                  </Card.Header>\n                  <Card.Content className='pt-6'>\n                    <div className='grid grid-cols-2 md:grid-cols-3 gap-4'>\n                      {raceDisplayModifiers.map(([ability, modifier]) => (\n                        <div key={ability} className='bg-website-default-900/50 p-4 rounded-lg border border-website-default-700 text-center'>\n                          <h4 className='text-website-specials-400 text-xs tracking-widest mb-2 uppercase'>{ABILITY_LABELS[normalizeAbilityKey(ability)] || toTitleCase(ability)}</h4>\n                          <p className='text-website-specials-500 font-bold text-lg'>+{modifier}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </Card.Content>\n                </Card>\n              )}\n\n              {renderChoiceCard('race', raceChoiceConfig, raceChoiceMap, 'border-website-specials-500')}\n\n              {selectedRaceObj?.traits && selectedRaceObj.traits.length > 0 && (\n                <Card className='bg-website-default-800 border-website-specials-500'>\n                  <Card.Header className='border-b border-website-default-700/50'>\n                    <Card.Title className='text-website-default-100'>Racial Traits</Card.Title>\n                  </Card.Header>\n                  <Card.Content className='pt-6 space-y-2'>\n                    {selectedRaceObj.traits.map((trait, idx) => (\n                      <div key={`${trait}_${idx}`} className='p-3 bg-website-default-900/50 border border-website-default-700 rounded-lg'>\n                        <div className='flex items-start gap-2'>\n                          <span className='text-website-specials-400 font-bold'>*</span>\n                          <span className='text-website-default-100'>{toTitleCase(trait)}</span>\n                        </div>\n                      </div>\n                    ))}\n                  </Card.Content>\n                </Card>\n              )}\n\n              {selectedRaceObj?.languages && selectedRaceObj.languages.length > 0 && (\n                <Card className='bg-website-default-800 border-website-specials-500'>\n                  <Card.Header className='border-b border-website-default-700/50'>\n                    <Card.Title className='text-website-default-100'>Languages</Card.Title>\n                  </Card.Header>\n                  <Card.Content className='pt-6'>\n                    <div className='flex flex-wrap gap-2'>\n                      {selectedRaceObj.languages.map((lang, idx) => (\n                        <span key={`${lang}_${idx}`} className='px-3 py-2 bg-website-default-900 border border-website-default-700 rounded-lg text-sm text-website-default-100'>\n                          {toTitleCase(lang)}\n                        </span>\n                      ))}\n                    </div>\n                  </Card.Content>\n                </Card>\n              )}\n\n              {selectedRaceObj && (\n                <Card className='bg-website-default-800 border-website-specials-500'>\n                  <Card.Header className='border-b border-website-default-700/50'>\n                    <Card.Title className='text-website-default-100'>Physical Traits</Card.Title>\n                  </Card.Header>\n                  <Card.Content className='pt-6 grid grid-cols-2 gap-4'>\n                    <div className='bg-website-default-900/50 p-4 rounded-lg border border-website-default-700'>\n                      <h4 className='text-website-highlights-400 text-xs tracking-widest mb-2 uppercase'>Size</h4>\n                      <p className='text-website-default-100 font-semibold'>{selectedRaceObj.size === 'M' ? 'Medium' : toTitleCase(selectedRaceObj.size)}</p>\n                    </div>\n                    <div className='bg-website-default-900/50 p-4 rounded-lg border border-website-default-700'>\n                      <h4 className='text-website-highlights-400 text-xs tracking-widest mb-2 uppercase'>Speed</h4>\n                      <p className='text-website-default-100 font-semibold'>{selectedRaceObj.speed} ft.</p>\n                    </div>\n                  </Card.Content>\n                </Card>\n              )}\n            </div>\n          </div>\n\n          {selectedRaceObj && availableSubraces.length > 0 && (\n            <div>\n              <h1 className='text-2xl font-semibold mb-4 text-white'>Subrace</h1>\n              <div className='grid grid-cols-1 gap-6'>\n                <Card className='bg-website-default-800 border-website-highlights-500'>\n                  <Card.Header>\n                    <Card.Title className='text-website-default-100'>Subrace</Card.Title>\n                    <Card.Description className='text-website-default-300'>Choose your subrace specialization (optional).</Card.Description>\n                  </Card.Header>\n                  <Card.Content>\n                    <div className='flex flex-col space-y-4'>\n                      <select\n                        className='rounded border border-website-highlights-500 bg-website-default-900 px-3 py-2 text-white focus:outline-none'\n                        value={selectedSubrace}\n                        onChange={(e) => handleSubraceChange(e.target.value)}\n                      >\n                        <option value=''>None (Optional)</option>\n                        {availableSubraces.map((subrace) => (\n                          <option key={subrace._id} value={subrace._id}>{subrace.name}</option>\n                        ))}\n                      </select>\n                      {selectedSubraceObj && (\n                        <div className='p-4 border border-website-highlights-500 rounded bg-website-default-900/50'>\n                          <div className='text-website-default-300 text-sm'>{selectedSubraceObj.description}</div>\n                        </div>\n                      )}\n                    </div>\n                  </Card.Content>\n                </Card>\n\n                {subraceDisplayModifiers.length > 0 && (\n                  <Card className='bg-website-default-800 border-website-highlights-500'>\n                    <Card.Header className='border-b border-website-default-700 pb-4'>\n                      <Card.Title className='text-website-default-100'>Ability Score Modifiers</Card.Title>\n                    </Card.Header>\n                    <Card.Content className='pt-6'>\n                      <div className='grid grid-cols-2 md:grid-cols-3 gap-4'>\n                        {subraceDisplayModifiers.map(([ability, modifier]) => (\n                          <div key={ability} className='bg-website-default-900/50 p-4 rounded-lg border border-website-default-700 text-center'>\n                            <h4 className='text-website-highlights-400 text-xs tracking-widest mb-2 uppercase'>{ABILITY_LABELS[normalizeAbilityKey(ability)] || toTitleCase(ability)}</h4>\n                            <p className='text-website-highlights-500 font-bold text-lg'>+{modifier}</p>\n                          </div>\n                        ))}\n                      </div>\n                    </Card.Content>\n                  </Card>\n                )}\n\n                {renderChoiceCard('subrace', subraceChoiceConfig, subraceChoiceMap, 'border-website-highlights-500')}\n\n                {selectedSubraceObj?.traits && selectedSubraceObj.traits.length > 0 && (\n                  <Card className='bg-website-default-800 border-website-highlights-500'>\n                    <Card.Header className='border-b border-website-default-700/50'>\n                      <Card.Title className='text-website-default-100'>Subrace Traits</Card.Title>\n                    </Card.Header>\n                    <Card.Content className='pt-6 space-y-2'>\n                      {selectedSubraceObj.traits.map((trait, idx) => (\n                        <div key={`${trait}_${idx}`} className='p-3 bg-website-default-900/50 border border-website-default-700 rounded-lg'>\n                          <div className='flex items-start gap-2'>\n                            <span className='text-website-highlights-400 font-bold'>*</span>\n                            <span className='text-website-default-100'>{toTitleCase(trait)}</span>\n                          </div>\n                        </div>\n                      ))}\n                    </Card.Content>\n                  </Card>\n                )}\n\n                {selectedSubraceObj?.languages && selectedSubraceObj.languages.length > 0 && (\n                  <Card className='bg-website-default-800 border-website-highlights-500'>\n                    <Card.Header className='border-b border-website-default-700/50'>\n                      <Card.Title className='text-website-default-100'>Languages</Card.Title>\n                    </Card.Header>\n                    <Card.Content className='pt-6'>\n                      <div className='flex flex-wrap gap-2'>\n                        {selectedSubraceObj.languages.map((lang, idx) => (\n                          <span key={`${lang}_${idx}`} className='px-3 py-2 bg-website-default-900 border border-website-default-700 rounded-lg text-sm text-website-default-100'>\n                            {toTitleCase(lang)}\n                          </span>\n                        ))}\n                      </div>\n                    </Card.Content>\n                  </Card>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Race;\n","// Class Features Database - Client-side version\r\n// Displays feature descriptions and names during character creation\r\n\r\nconst classFeatures = {\r\n  // BARBARIAN FEATURES\r\n  \r\n  // Level 1\r\n  rage001: {\r\n    id: \"rage001\",\r\n    name: \"Rage\",\r\n    level: 1,\r\n    class: \"Barbarian\",\r\n    description: \"In battle, you fight with primal ferocity. On your turn, you can enter a rage as a bonus action. While raging, you gain advantage on Strength checks and Strength saving throws. When you make a melee weapon attack using Strength, you gain a bonus to the damage roll.\"\r\n  },\r\n\r\n  INTDisable001: {\r\n    id: \"INTDisable001\",\r\n    name: \"Intelligence Limitation\",\r\n    level: 1,\r\n    class: \"Barbarian\",\r\n    description: \"While raging, you have disadvantage on Intelligence checks.\"\r\n  },\r\n\r\n  BarbEmotion001: {\r\n    id: \"BarbEmotion001\",\r\n    name: \"Reckless Abandon\",\r\n    level: 1,\r\n    class: \"Barbarian\",\r\n    description: \"While raging, you can't cast spells. Your rage lasts for 1 minute and ends early if you are knocked prone, your turn ends without attacking, or you choose to end it.\"\r\n  },\r\n\r\n  // Level 2\r\n  madDash001: {\r\n    id: \"madDash001\",\r\n    name: \"Reckless Attack\",\r\n    level: 2,\r\n    class: \"Barbarian\",\r\n    description: \"You can throw aside all concern for defense to attack with fierce desperation. When you make your first attack roll on your turn, you can decide to attack recklessly. This gives you advantage on melee weapon attack rolls using Strength, but attack rolls against you have advantage until your next turn.\"\r\n  },\r\n\r\n  unarmoredDefense001: {\r\n    id: \"unarmoredDefense001\",\r\n    name: \"Unarmored Defense\",\r\n    level: 2,\r\n    class: \"Barbarian\",\r\n    description: \"While you are not wearing any armor, your armor class equals 10 + your Dexterity modifier + your Constitution modifier. You can use a shield and still gain this benefit.\"\r\n  },\r\n\r\n  // Level 4\r\n  muscleMemory001: {\r\n    id: \"muscleMemory001\",\r\n    name: \"Ability Score Improvement\",\r\n    level: 4,\r\n    class: \"Barbarian\",\r\n    description: \"You can increase one ability score of your choice by 2, or you can increase two ability scores of your choice by 1. You can't increase an ability score above 20 using this feature.\"\r\n  },\r\n\r\n  // Level 5\r\n  fastMovement001: {\r\n    id: \"fastMovement001\",\r\n    name: \"Extra Attack\",\r\n    level: 5,\r\n    class: \"Barbarian\",\r\n    description: \"You can attack twice, instead of once, whenever you take the Attack action on your turn.\"\r\n  },\r\n\r\n  // Level 6\r\n  BarbAttack001: {\r\n    id: \"BarbAttack001\",\r\n    name: \"Mindless Rage\",\r\n    level: 6,\r\n    class: \"Barbarian\",\r\n    description: \"You can't be charmed or frightened while raging. If you are charmed or frightened when you enter your rage, the effect is suspended for the duration of the rage.\"\r\n  },\r\n\r\n  // Level 7\r\n  dangerSense001: {\r\n    id: \"dangerSense001\",\r\n    name: \"Danger Sense\",\r\n    level: 7,\r\n    class: \"Barbarian\",\r\n    description: \"You gain an uncanny sense of when things nearby aren't as they should be. You have advantage on Dexterity saving throws against effects that you can see, such as traps and spells.\"\r\n  },\r\n\r\n  BarbMantel001: {\r\n    id: \"BarbMantel001\",\r\n    name: \"Ancestral Protectors\",\r\n    level: 7,\r\n    class: \"Barbarian\",\r\n    description: \"You can call on your ancestral spirits to protect you. When a creature within 5 feet of you hits you with an attack, you can use your reaction to impose disadvantage on that attack roll.\"\r\n  },\r\n\r\n  // Level 8\r\n  battleInstinct001: {\r\n    id: \"battleInstinct001\",\r\n    name: \"Ability Score Improvement\",\r\n    level: 8,\r\n    class: \"Barbarian\",\r\n    description: \"You can increase one ability score of your choice by 2, or you can increase two ability scores of your choice by 1.\"\r\n  },\r\n\r\n  extraAttack001: {\r\n    id: \"extraAttack001\",\r\n    name: \"Relentless Rage\",\r\n    level: 8,\r\n    class: \"Barbarian\",\r\n    description: \"Your rage can keep you fighting even when you should be overwhelmed. If you drop to 0 hit points while raging and don't die outright, you can make a DC 10 Constitution saving throw. If you succeed, you drop to 1 hit point instead.\"\r\n  },\r\n\r\n  tribalKnowledge001: {\r\n    id: \"tribalKnowledge001\",\r\n    name: \"Brutal Critical\",\r\n    level: 8,\r\n    class: \"Barbarian\",\r\n    description: \"When you hit with a weapon attack, you can roll one additional weapon damage die and add it to the damage. You gain more additional dice as you level up.\"\r\n  },\r\n\r\n  // Level 9\r\n  feralInstinct001: {\r\n    id: \"feralInstinct001\",\r\n    name: \"Feral Instinct\",\r\n    level: 9,\r\n    class: \"Barbarian\",\r\n    description: \"Your instincts are so honed that you have advantage on initiative rolls. If you are surprised at the start of combat and aren't incapacitated, you can act on your first turn if you enter your rage before doing anything else.\"\r\n  },\r\n\r\n  // Level 10\r\n  BarbEmotion002: {\r\n    id: \"BarbEmotion002\",\r\n    name: \"Relentless Rage\",\r\n    level: 10,\r\n    class: \"Barbarian\",\r\n    description: \"Your rage keeps you fighting even when wounded. If you drop to 0 hit points while raging and don't die outright, you can make a DC 10 Constitution saving throw. If you succeed, you drop to 1 hit point instead.\"\r\n  },\r\n\r\n  fastMovement002: {\r\n    id: \"fastMovement002\",\r\n    name: \"Primal Champion\",\r\n    level: 10,\r\n    class: \"Barbarian\",\r\n    description: \"Your speed increases by 10 feet while you aren't wearing heavy armor.\"\r\n  },\r\n\r\n  undyingFury001: {\r\n    id: \"undyingFury001\",\r\n    name: \"Undying Fury\",\r\n    level: 10,\r\n    class: \"Barbarian\",\r\n    description: \"When you would normally drop to 0 hit points, you can use your reaction to stay conscious with 1 hit point instead. You can't use this feature again until you finish a long rest.\"\r\n  },\r\n\r\n  // Level 11\r\n  BarbScream001: {\r\n    id: \"BarbScream001\",\r\n    name: \"Relentless Assault\",\r\n    level: 11,\r\n    class: \"Barbarian\",\r\n    description: \"When you take the Attack action on your turn, you can make one additional melee weapon attack as part of that action.\"\r\n  },\r\n\r\n  // Level 12\r\n  BarbAttack002: {\r\n    id: \"BarbAttack002\",\r\n    name: \"Ability Score Improvement\",\r\n    level: 12,\r\n    class: \"Barbarian\",\r\n    description: \"You can increase one ability score of your choice by 2, or you can increase two ability scores of your choice by 1.\"\r\n  },\r\n\r\n  destructiveGlance001: {\r\n    id: \"destructiveGlance001\",\r\n    name: \"Destructive Glance\",\r\n    level: 12,\r\n    class: \"Barbarian\",\r\n    description: \"When you hit a creature with a weapon attack while raging, you can use a bonus action to force that creature to make a Strength saving throw or be knocked prone.\"\r\n  },\r\n\r\n  BarbMantel002: {\r\n    id: \"BarbMantel002\",\r\n    name: \"Ancestral Shield\",\r\n    level: 12,\r\n    class: \"Barbarian\",\r\n    description: \"When you use your Ancestral Protectors feature to impose disadvantage on an attack, the attacker takes psychic damage equal to your Wisdom modifier when the attack hits.\"\r\n  },\r\n\r\n  rage002: {\r\n    id: \"rage002\",\r\n    name: \"Improved Rage\",\r\n    level: 12,\r\n    class: \"Barbarian\",\r\n    description: \"Your damage reduction from raging increases. The bonus to melee weapon damage rolls increases as you level up.\"\r\n  },\r\n\r\n  proteinShake: {\r\n    id: \"proteinShake\",\r\n    name: \"Recovery Vitality\",\r\n    level: 12,\r\n    class: \"Barbarian\",\r\n    description: \"You can add protein shakes to your rations to regain hit points during short rests.\"\r\n  },\r\n\r\n  // Level 13\r\n  rageAura001: {\r\n    id: \"rageAura001\",\r\n    name: \"Rage Aura\",\r\n    level: 13,\r\n    class: \"Barbarian\",\r\n    description: \"While you are raging, allies within 10 feet of you have advantage on melee weapon attack rolls.\"\r\n  }\r\n};\r\n\r\nexport default classFeatures;\r\n","/**\r\n * Shared inventory utilities for character creation\r\n * Used by Class.jsx and Background.jsx to avoid duplication\r\n */\r\n\r\n/**\r\n * Convert camelCase string to Title Case\r\n * @param {string} str - The string to convert\r\n * @returns {string} Title cased string\r\n */\r\nexport const toTitleCase = (str) => {\r\n    return str\r\n        .replace(/([A-Z])/g, ' $1')\r\n        .replace(/^./, (char) => char.toUpperCase())\r\n        .trim();\r\n};\r\n\r\n/**\r\n * Generate a unique ID for inventory items\r\n * @returns {string} Unique identifier\r\n */\r\nexport const generateUniqueId = () => {\r\n    return `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n};\r\n\r\n/**\r\n * Starting packs definition with their contents (in camelCase itemId format)\r\n */\r\nexport const startingPacks = {\r\n    burglarsPack: {\r\n        name: \"Burglar's Pack\",\r\n        items: ['backpack:1', 'ballBearings:1000', 'string:10', 'bell:1', 'candle:5', \r\n               'crowbar:1', 'hammer:1', 'piton:10', 'hoodedLantern:1', 'oilFlask:2', \r\n               'rations:5', 'tinderbox:1', 'waterskin:1', 'hempenRope:1']\r\n    },\r\n    diplomatsPack: {\r\n        name: \"Diplomat's Pack\",\r\n        items: ['chest:1', 'mapCase:2', 'fineClothes:1', 'inkBottle:1', 'inkPen:1', \r\n               'lamp:1', 'oilFlask:2', 'paper:5', 'perfume:1', 'sealingWax:1', 'soap:1']\r\n    },\r\n    dungeoneersPack: {\r\n        name: \"Dungeoneer's Pack\",\r\n        items: ['backpack:1', 'crowbar:1', 'hammer:1', 'piton:10', 'torch:10', \r\n               'tinderbox:1', 'rations:10', 'waterskin:1', 'hempenRope:1']\r\n    },\r\n    entertainersPack: {\r\n        name: \"Entertainer's Pack\",\r\n        items: ['backpack:1', 'bedroll:1', 'costume:2', 'candle:5', 'rations:5', \r\n               'waterskin:1', 'disguiseKit:1']\r\n    },\r\n    explorersPack: {\r\n        name: \"Explorer's Pack\",\r\n        items: ['backpack:1', 'bedroll:1', 'messKit:1', 'tinderbox:1', 'torch:10', \r\n               'rations:10', 'waterskin:1', 'hempenRope:1']\r\n    },\r\n    priestsPack: {\r\n        name: \"Priest's Pack\",\r\n        items: ['backpack:1', 'blanket:1', 'candle:10', 'tinderbox:1', 'almsBox:1', \r\n               'incense:2', 'censer:1', 'vestments:1', 'rations:2', 'waterskin:1']\r\n    },\r\n    scholarsPack: {\r\n        name: \"Scholar's Pack\",\r\n        items: ['backpack:1', 'bookLore:1', 'inkBottle:1', 'inkPen:1', 'parchment:10', \r\n               'littleBagSand:1', 'smallKnife:1']\r\n    }\r\n};\r\n\r\n/**\r\n * Check if an item key is a starting pack\r\n * @param {string} itemKey - The item key to check\r\n * @returns {boolean}\r\n */\r\nexport const isStartingPack = (itemKey) => {\r\n    return startingPacks.hasOwnProperty(itemKey);\r\n};\r\n\r\n/**\r\n * Check if an item key is an \"any\" item or category (needs selection from dropdown)\r\n * Matches both \"anyXxx\" patterns and plain category names like \"martialWeapon\"\r\n * @param {string} itemKey - The item key to check\r\n * @returns {boolean}\r\n */\r\nexport const isAnyItem = (itemKey) => {\r\n    const lower = itemKey.toLowerCase();\r\n    // Check for \"any\" prefix (anyMartialWeapon, anySimpleWeapon, etc.)\r\n    if (lower.startsWith('any')) {\r\n        return true;\r\n    }\r\n    // Check for plain category names that have options in getAnyItemOptions\r\n    if (lower.includes('simpleweapon') || \r\n        lower.includes('martialweapon') ||\r\n        lower.includes('simplemelee') ||\r\n        lower.includes('musicalinstrument') ||\r\n        lower.includes('artisanstool') ||\r\n        lower.includes('gamingset')) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Convert items array with itemId and quantity to inventory map with MongoDB IDs\r\n * Uses the itemsByItemId map from context for instant lookups\r\n * \r\n * @param {Array} itemsArray - Array of {itemId, quantity} objects in camelCase\r\n * @param {Object} options - Configuration object\r\n * @param {Object} options.itemsByItemId - Map of itemId (camelCase) to item objects\r\n * @returns {Object} Inventory map with structure: { uniqueId: { equipped: false, ItemID: mongoId } }\r\n */\r\nexport const addItemsToInventory = (itemsArray, { itemsByItemId = {} }) => {\r\n    if (!itemsArray || itemsArray.length === 0) {\r\n        console.log('No items to add to inventory');\r\n        return {};\r\n    }\r\n\r\n    const inventoryMap = {};\r\n    \r\n    itemsArray.forEach(({ itemId, quantity }) => {\r\n        // Look up the item in the context-provided map\r\n        const item = itemsByItemId[itemId];\r\n        const itemMongoId = item?._id;\r\n        \r\n        if (itemMongoId) {\r\n            // Create entries for each quantity\r\n            for (let i = 0; i < quantity; i++) {\r\n                const uniqueId = generateUniqueId();\r\n                inventoryMap[uniqueId] = {\r\n                    equipped: false,\r\n                    ItemID: itemMongoId\r\n                };\r\n            }\r\n            console.log(`Added ${quantity}x ${itemId} to inventory`);\r\n        } else {\r\n            console.warn(`Item not found in items map: ${itemId}`);\r\n        }\r\n    });\r\n\r\n    console.log(`Inventory map created with ${Object.keys(inventoryMap).length} item instances`);\r\n    return inventoryMap;\r\n};\r\n\r\n/**\r\n * Weapon and tool lists for \"any\" item selections\r\n */\r\nexport const weaponLists = {\r\n    simpleWeapons: [\r\n        'club', 'dagger', 'greatclub', 'handaxe', 'javelin', 'lightHammer', 'mace', \r\n        'quarterstaff', 'sickle', 'spear', 'lightCrossbow', 'dart', 'shortbow', 'sling'\r\n    ],\r\n    \r\n    martialWeapons: [\r\n        'battleaxe', 'flail', 'glaive', 'greataxe', 'greatsword', 'halberd', 'lance', \r\n        'longsword', 'maul', 'morningstar', 'pike', 'rapier', 'scimitar', 'shortsword', \r\n        'trident', 'warPick', 'warhammer', 'whip', 'blowgun', 'handCrossbow', \r\n        'heavyCrossbow', 'longbow', 'net'\r\n    ],\r\n    \r\n    simpleMeleeWeapons: [\r\n        'club', 'dagger', 'greatclub', 'handaxe', 'javelin', 'lightHammer', 'mace', \r\n        'quarterstaff', 'sickle', 'spear'\r\n    ]\r\n};\r\n\r\nexport const toolLists = {\r\n    musicalInstruments: [\r\n        'bagpipes', 'drum', 'dulcimer', 'flute', 'lute', 'lyre', 'horn', 'panFlute', \r\n        'shawm', 'viol'\r\n    ],\r\n    \r\n    artisansTools: [\r\n        'alchemistsSupplies', 'brewersSupplies', 'calligraphersSupplies', 'carpentersTools',\r\n        'cartographersTools', 'cobblersTools', 'cooksUtensils', 'glassblowersTools',\r\n        'jewelersTools', 'leatherworkersTools', 'masonsTools', 'paintersSupplies',\r\n        'pottersTools', 'smithsTools', 'tinkersTools', 'weaversTools', 'woodcarversTools'\r\n    ],\r\n    \r\n    gamingSets: [\r\n        'diceSet', 'dragonchessSet', 'playingCardSet', 'threedragonAnteSet'\r\n    ]\r\n};\r\n\r\nexport const languages = [\r\n    'common', 'dwarvish', 'elvish', 'giant', 'gnomish', 'goblin', 'halfling', 'orc',\r\n    'abyssal', 'celestial', 'draconic', 'deepSpeech', 'infernal', 'primordial', \r\n    'sylvan', 'undercommon'\r\n];\r\n\r\n/**\r\n * Get dropdown options based on \"any\" item type\r\n * @param {string} itemKey - The item key to match\r\n * @returns {Array} List of available options\r\n */\r\nexport const getAnyItemOptions = (itemKey) => {\r\n    const lowerKey = itemKey.toLowerCase();\r\n    if (lowerKey.includes('simpleweapon')) return weaponLists.simpleWeapons;\r\n    if (lowerKey.includes('martialweapon')) return weaponLists.martialWeapons;\r\n    if (lowerKey.includes('simplemelee')) return weaponLists.simpleMeleeWeapons;\r\n    if (lowerKey.includes('musicalinstrument')) return toolLists.musicalInstruments;\r\n    if (lowerKey.includes('artisanstool')) return toolLists.artisansTools;\r\n    if (lowerKey.includes('gamingset')) return toolLists.gamingSets;\r\n    return [];\r\n};\r\n","import React, { useMemo } from 'react';\nimport { Card } from '../../../pageComponents/card';\nimport { CircleUser } from 'lucide-react';\nimport classFeatures from '../../../data/classfeatures';\nimport { useGameData } from '../../../data/gameDataContext';\nimport {\n    toTitleCase,\n    startingPacks,\n    isStartingPack,\n    isAnyItem,\n    addItemsToInventory,\n    getAnyItemOptions\n} from '../utils/inventory';\n\nexport function Class({ values, onChange, classes = [], subclasses = [] }) {\n    // Get game data from context (items, maps, selectors)\n    const { maps } = useGameData();\n\n    const selected = values?.class || '';\n    const selectedSubclass = values?.subclass || '';\n    const emit = (partial) => { \n        if (typeof onChange === 'function') onChange(partial); \n    };\n\n    // Memoize the selected class object\n    const selectedClass = useMemo(() => {\n        return classes.find(c => c._id === selected);\n    }, [classes, selected]);\n\n    // Memoize available subclasses for selected class\n    const availableSubclasses = useMemo(() => {\n        if (!selectedClass) return [];\n        return subclasses.filter(sc => sc.parentClass === selectedClass.name);\n    }, [selectedClass, subclasses]);\n\n    // Memoize the selected subclass object\n    const selectedSubclassObj = useMemo(() => {\n        return subclasses.find(sc => sc._id === selectedSubclass);\n    }, [subclasses, selectedSubclass]);\n\n    // Note: Inventory helper functions are now imported from shared utility module above\n    // This includes: toTitleCase, isStartingPack, isAnyItem, getAnyItemOptions, addItemsToInventory\n\n    // 2. Logic: Handle Class Selection & Auto-populate Base Proficiencies + Resources\n    const handleClassChange = (classId) => {\n        const fullClassData = classes.find(c => c._id === classId);\n        if (!fullClassData) return;\n        const previousClassData = classes.find(c => c._id === values?.class);\n\n        const baseMods = fullClassData.baseProficiencies || {};\n        const resMods = fullClassData.resourcePoolModifier || { HP: 1, STA: 1, MP: 1 };\n\n        // Parse base equipment items\n        const fixedItems = (fullClassData.baseEquipment || []).map(itemStr => {\n            const parts = itemStr.split(':');\n            const name = parts.length === 3 ? parts[1] : parts[0];\n            const qty = parts.length === 3 ? parseInt(parts[2]) : parseInt(parts[1]);\n            return { itemId: name, quantity: qty || 1 };\n        });\n\n        // Reset subclass when class changes\n        const applyUpdate = (inventoryMap) => {\n            const previousClassBase = values.classBaseProficiencies || [];\n            const previousClassSkillOptions = previousClassData?.choices?.proficiencies?.skills?.options || [];\n            const nextClassBase = [\n                ...(baseMods.armor || []),\n                ...(baseMods.weapons || []),\n                ...(baseMods.tools || []),\n                ...(baseMods.abilityScore || [])\n            ];\n\n            // Start from existing proficiencies so background/manual selections are preserved.\n            const proficienciesMap = { ...(values.skills?.proficiencies || {}) };\n\n            // Remove old class base proficiencies and old class-pick skills.\n            [...previousClassBase, ...previousClassSkillOptions].forEach((key) => {\n                delete proficienciesMap[key];\n            });\n\n            // Add new class base proficiencies.\n            nextClassBase.forEach((key) => {\n                proficienciesMap[key] = 'proficient';\n            });\n\n            // Remove all previous class-added items (base + equipment choices + any-item picks)\n            const currentItems = { ...(values.inv?.items || {}) };\n            const itemIdsToRemove = [\n                ...(values.classBaseItemIds || []),\n                ...Object.values(values.classEquipmentChoices || {}).flatMap(choice => choice?.addedIds || []),\n                ...Object.values(values.classAnyItemSelections || {}).map(selection => selection?.uniqueId).filter(Boolean),\n            ];\n            itemIdsToRemove.forEach((id) => {\n                if (currentItems[id]) delete currentItems[id];\n            });\n            const updatedItems = { ...currentItems, ...inventoryMap };\n\n            const update = {\n                class: classId,\n                subclass: '', // Reset subclass when class changes\n                // Auto-calculate base resources (Example base: 10 * modifier)\n                HP: { ...values.HP, max: Math.floor(10 * (resMods.HP || 1)), current: Math.floor(10 * (resMods.HP || 1)) },\n                STA: { ...values.STA, max: Math.floor(10 * (resMods.STA || 1)), current: Math.floor(10 * (resMods.STA || 1)) },\n                MP: { ...values.MP, max: Math.floor(10 * (resMods.MP || 1)), current: Math.floor(10 * (resMods.MP || 1)) },\n                // Push base proficiencies into character skills as Map\n                skills: {\n                    ...values.skills,\n                    proficiencies: proficienciesMap\n                },\n                // Set base equipment\n                inv: { \n                    gp: values.inv?.gp || 0,\n                    items: updatedItems,\n                    equipment: values.inv?.equipment || {}\n                },\n                classBaseItemIds: Object.keys(inventoryMap),\n                classBaseProficiencies: nextClassBase,\n                // Reset equipment choices\n                classEquipmentChoices: {},\n                // Reset any item selections\n                classAnyItemSelections: {}\n            };\n\n            emit(update);\n        };\n\n        // Convert items to inventory format using context-provided items map\n        if (fixedItems.length > 0) {\n            const inventoryMap = addItemsToInventory(fixedItems, { itemsByItemId: maps.itemsByItemId });\n            applyUpdate(inventoryMap);\n        } else {\n            applyUpdate({});\n        }\n    };\n\n    // 3. Logic: Handle Skill Choice Toggles (Pick X)\nconst handleSkillToggle = (skillName) => {\n    if (!selectedClass?.choices?.proficiencies?.skills) return;\n\n    const currentProficiencies = values.skills?.proficiencies || {};\n    const maxAllowed = selectedClass.choices.proficiencies.skills.amount;\n\n    const skillOptions = selectedClass.choices.proficiencies.skills.options || [];\n    const currentSkillCount = Object.keys(currentProficiencies).filter(key => \n        skillOptions.includes(key)\n    ).length;\n\n    console.log('=== BEFORE TOGGLE ===');\n    console.log('Skill:', skillName);\n    console.log('values.skills.proficiencies:', values.skills?.proficiencies);\n    console.log('Is selected?', currentProficiencies[skillName]);\n\n    const newProficiencies = { ...currentProficiencies };\n\n    if (newProficiencies[skillName]) {\n        delete newProficiencies[skillName];\n        console.log('DELETED:', skillName);\n    } else {\n        if (currentSkillCount < maxAllowed) {\n            newProficiencies[skillName] = 'proficient';\n            console.log('ADDED:', skillName);\n        } else {\n            console.log('LIMIT REACHED');\n            return;\n        }\n    }\n\n    console.log('=== EMITTING ===');\n    console.log('New proficiencies:', newProficiencies);\n    \n    const updatePayload = {\n        skills: {\n            active: values.skills?.active || {},\n            passive: values.skills?.passive || {},\n            proficiencies: newProficiencies\n        }\n    };\n    \n    console.log('Full payload:', updatePayload);\n    \n    onChange(updatePayload);\n    \n    // Check after a tick to see if state updated\n    setTimeout(() => {\n        console.log('=== AFTER UPDATE (next tick) ===');\n        console.log('values.skills.proficiencies:', values.skills?.proficiencies);\n    }, 0);\n};\n\n    // 4. Logic: Handle Equipment Choice Selection\n    const handleEquipmentChoice = (choiceKey, optionKey, items) => {\n        if (!selectedClass?.choices?.equipment?.[choiceKey]?.[optionKey]) return;\n\n        const currentItems = { ...(values.inv?.items || {}) };\n        const previousChoices = values.classEquipmentChoices || {};\n        const previousChoice = previousChoices[choiceKey];\n        const previousOptionKey = previousChoice?.optionKey;\n        if (previousOptionKey === optionKey) return;\n\n        const nextAnySelections = { ...(values.classAnyItemSelections || {}) };\n\n        if (previousChoice) {\n            (previousChoice.addedIds || []).forEach((id) => {\n                if (currentItems[id]) delete currentItems[id];\n            });\n\n            Object.keys(nextAnySelections).forEach((key) => {\n                if (!key.startsWith(`${choiceKey}_${previousOptionKey}_`)) return;\n                const uniqueId = nextAnySelections[key]?.uniqueId;\n                if (uniqueId && currentItems[uniqueId]) delete currentItems[uniqueId];\n                delete nextAnySelections[key];\n            });\n        }\n\n        const itemsToAdd = [];\n        Object.entries(items).forEach(([name, qty]) => {\n            if (isAnyItem(name)) return;\n\n            if (isStartingPack(name)) {\n                itemsToAdd.push({ itemId: name, quantity: qty });\n                const packContents = startingPacks[name].items;\n                packContents.forEach((itemStr) => {\n                    const parts = itemStr.split(':');\n                    const itemName = parts[0];\n                    const itemQty = parseInt(parts[1], 10) || 1;\n                    itemsToAdd.push({ itemId: itemName, quantity: itemQty * qty });\n                });\n                return;\n            }\n\n            itemsToAdd.push({ itemId: name, quantity: qty });\n        });\n\n        const newInventoryItems = addItemsToInventory(itemsToAdd, { itemsByItemId: maps.itemsByItemId });\n        const addedIds = Object.keys(newInventoryItems);\n        const updatedItems = { ...currentItems, ...newInventoryItems };\n\n        emit({\n            classEquipmentChoices: {\n                ...previousChoices,\n                [choiceKey]: { optionKey, items, addedIds }\n            },\n            classAnyItemSelections: nextAnySelections,\n            inv: {\n                ...values.inv,\n                items: updatedItems\n            }\n        });\n    };\n\n    // 5. Logic: Handle \"Any\" Item Selection (Dropdown)\n    const handleAnyItemSelection = (choiceKey, optionKey, anyItemKey, selectedItem) => {\n        if (!selectedItem) return;\n\n        const choiceItems = selectedClass?.choices?.equipment?.[choiceKey]?.[optionKey];\n        if (!choiceItems) return;\n\n        const currentItems = { ...(values.inv?.items || {}) };\n        const nextAnySelections = { ...(values.classAnyItemSelections || {}) };\n        const nextChoices = { ...(values.classEquipmentChoices || {}) };\n        const previousChoice = nextChoices[choiceKey];\n        const previousOptionKey = previousChoice?.optionKey;\n        const isSwitching = Boolean(previousChoice) && previousOptionKey !== optionKey;\n\n        if (isSwitching) {\n            (previousChoice.addedIds || []).forEach((id) => {\n                if (currentItems[id]) delete currentItems[id];\n            });\n\n            Object.keys(nextAnySelections).forEach((key) => {\n                if (!key.startsWith(`${choiceKey}_${previousOptionKey}_`)) return;\n                const uniqueId = nextAnySelections[key]?.uniqueId;\n                if (uniqueId && currentItems[uniqueId]) delete currentItems[uniqueId];\n                delete nextAnySelections[key];\n            });\n        }\n\n        if (!previousChoice || isSwitching) {\n            const itemsToAdd = [];\n            Object.entries(choiceItems).forEach(([name, qty]) => {\n                if (isAnyItem(name)) return;\n\n                if (isStartingPack(name)) {\n                    itemsToAdd.push({ itemId: name, quantity: qty });\n                    const packContents = startingPacks[name].items;\n                    packContents.forEach((itemStr) => {\n                        const parts = itemStr.split(':');\n                        const itemName = parts[0];\n                        const itemQty = parseInt(parts[1], 10) || 1;\n                        itemsToAdd.push({ itemId: itemName, quantity: itemQty * qty });\n                    });\n                    return;\n                }\n\n                itemsToAdd.push({ itemId: name, quantity: qty });\n            });\n\n            const fixedInventoryItems = addItemsToInventory(itemsToAdd, { itemsByItemId: maps.itemsByItemId });\n            const addedIds = Object.keys(fixedInventoryItems);\n            Object.assign(currentItems, fixedInventoryItems);\n            nextChoices[choiceKey] = { optionKey, items: choiceItems, addedIds };\n        }\n\n        const selectionKey = `${choiceKey}_${optionKey}_${anyItemKey}`;\n        const previousSelection = nextAnySelections[selectionKey];\n        if (previousSelection?.uniqueId && currentItems[previousSelection.uniqueId]) {\n            delete currentItems[previousSelection.uniqueId];\n        }\n\n        const quantity = Number(choiceItems[anyItemKey] || 1);\n        const selectedInventoryItems = addItemsToInventory([{ itemId: selectedItem, quantity }], { itemsByItemId: maps.itemsByItemId });\n        const uniqueIds = Object.keys(selectedInventoryItems);\n        Object.assign(currentItems, selectedInventoryItems);\n\n        nextAnySelections[selectionKey] = {\n            itemId: selectedItem,\n            uniqueId: uniqueIds[0]\n        };\n\n        emit({\n            classEquipmentChoices: nextChoices,\n            classAnyItemSelections: nextAnySelections,\n            inv: {\n                ...values.inv,\n                items: currentItems\n            }\n        });\n    };\n\n    return (\n        <div className='bg-website-default-900 min-h-screen grid grid-cols-1 md:grid-cols-[1fr_2fr_1fr]'>\n            <div className='p-4 space-y-4 md:col-start-2'>\n\n                {/* Name Input */}\n                <div className='flex flex-row p-4 space-x-4 border-b border-website-specials-500'>\n                    <CircleUser size={48} />\n                    <div className='flex flex-col'>\n                        <div className='text-left text-l font-semibold'>Character Name</div>\n                        <input\n                            type=\"text\"\n                            placeholder='Name...'\n                            className='border-b border-website-highlights-400 bg-website-default-900 focus:outline-none focus:bg-gradient-to-t from-website-highlights-500 to-website-default-900'\n                            value={values.name || ''}\n                            onChange={(e) => emit({ name: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                <div className='space-y-8 flex flex-col text-left'>\n                    {/* BASE CLASS SECTION */}\n                    <div>\n                        <h1 className=\"text-2xl font-semibold mb-4 text-white\">Base Class</h1>\n\n                        <div className=\"grid grid-cols-1 gap-6\">\n                            {/* Class Selector */}\n                            <Card className='bg-website-default-800 border-website-specials-500'>\n                                <Card.Header>\n                                    <Card.Title className='text-website-default-100'>Class</Card.Title>\n                                    <Card.Description className='text-website-default-300'>Choose your base class.</Card.Description>\n                                </Card.Header>\n                                <Card.Content>\n                                    <div className='flex flex-col'>\n                                        <select\n                                            className='rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 text-white focus:outline-none'\n                                            value={selected}\n                                            onChange={(e) => handleClassChange(e.target.value)}\n                                        >\n                                            <option value='' disabled>Select class</option>\n                                            {classes.map(c => (\n                                                <option key={c._id} value={c._id}>{c.name}</option>\n                                            ))}\n                                        </select>\n                                        {selectedClass && (\n                                            <div className='mt-4 p-4 border border-website-specials-500 rounded bg-website-default-900/50'>\n                                                <div className='text-website-default-300 text-sm'>\n                                                    {selectedClass.description}\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                </Card.Content>\n                            </Card>\n\n                            {selectedClass && (\n                                <>\n                                    {/* Modifiers Card */}\n                                    <Card className='bg-website-default-800 border-website-specials-500'>\n                                        <Card.Header className=\"border-b border-website-default-700 pb-4\">\n                                            <Card.Title className='text-website-default-100'> Class Modifiers</Card.Title>\n                                        </Card.Header>\n                                        <Card.Content className=\"pt-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                            <div className=\"bg-website-default-900/50 p-4 rounded-lg border border-website-default-700\">\n                                                <h4 className=\"text-website-specials-400 text-xs tracking-widest mb-3 uppercase\">Stat Increases</h4>\n                                                <ul className='space-y-2'>\n                                                    {Object.entries(selectedClass.baseStatModifier || {}).map(([stat, val]) => (\n                                                        <li key={stat} className=\"flex justify-between text-sm\">\n                                                            <span className=\"text-website-default-100 font-bold\">{stat}</span>\n                                                            <span className=\"text-website-specials-500\">+{val}</span>\n                                                        </li>\n                                                    ))}\n                                                </ul>\n                                            </div>\n                                            <div className=\"bg-website-default-900/50 p-4 rounded-lg border border-website-default-700\">\n                                                <h4 className=\"text-website-highlights-400 text-xs tracking-widest mb-3 uppercase\">Resource Multipliers</h4>\n                                                <ul className='space-y-2'>\n                                                    {Object.entries(selectedClass.resourcePoolModifier || {}).map(([res, val]) => (\n                                                        <li key={res} className=\"flex justify-between text-sm\">\n                                                            <span className=\"text-website-default-100 font-bold\">{res}</span>\n                                                            <span className=\"text-website-highlights-500\">x{val.toFixed(1)}</span>\n                                                        </li>\n                                                    ))}\n                                                </ul>\n                                            </div>\n                                        </Card.Content>\n                                    </Card>\n\n                                    {/* Proficiencies Card */}\n                                    <Card className='bg-website-default-800 border-website-specials-500'>\n                                        <Card.Header className=\"border-b border-website-default-700/50\">\n                                            <Card.Title className='text-website-default-100'> Proficiencies</Card.Title>\n                                        </Card.Header>\n                                        <Card.Content className=\"space-y-4\">\n                                            <div className='grid grid-cols-1 md:grid-cols-2 gap-3'>\n                                                {Object.entries(selectedClass.baseProficiencies || {}).map(([cat, items]) => (\n                                                    Array.isArray(items) && items.length > 0 && (\n                                                        <div key={cat} className=\"bg-website-default-900/60 p-3 rounded-lg border border-website-default-700\">\n                                                            <h4 className=\"text-website-highlights-400 text-[10px] uppercase mb-2\">{cat}</h4>\n                                                            <div className=\"flex flex-wrap gap-1\">\n                                                                {items.map(item => (\n                                                                    <span key={item} className=\"px-2 py-0.5 bg-website-default-700 text-white text-[10px] rounded border border-website-default-600\">\n                                                                        {toTitleCase(item)}\n                                                                    </span>\n                                                                ))}\n                                                            </div>\n                                                        </div>\n                                                    )\n                                                ))}\n                                            </div>\n\n                                            {/* Skill Choices */}\n                                            {selectedClass.choices?.proficiencies?.skills && (\n                                                <div className=\"bg-website-specials-900/20 border border-website-specials-700/30 p-3 rounded-lg\">\n                                                    <div className=\"flex justify-between items-center mb-3\">\n                                                        <h4 className=\"text-website-specials-400 text-[10px] uppercase\">Skill Choices</h4>\n                                                        <span className=\"text-[10px] text-white bg-website-specials-600 px-2 py-0.5 rounded-full\">\n                                                            Picked {(() => {\n                                                                const proficiencies = values.skills?.proficiencies || {};\n                                                                const skillOptions = selectedClass.choices.proficiencies.skills.options || [];\n                                                                return Object.keys(proficiencies).filter(key => skillOptions.includes(key)).length;\n                                                            })()} / {selectedClass.choices.proficiencies.skills.amount}\n                                                        </span>\n                                                    </div>\n                                                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                                                        {selectedClass.choices.proficiencies.skills.options?.map((skill) => {\n                                                            const proficiencies = values.skills?.proficiencies || {};\n                                                            const isSelected = proficiencies.hasOwnProperty(skill);\n                                                            \n                                                            // Add this console log to debug\n                                                            \n                                                            \n                                                            return (\n                                                                <button\n                                                                    key={skill}\n                                                                    onClick={() => handleSkillToggle(skill)}\n                                                                    className={`text-[11px] flex items-center gap-1.5 capitalize p-1.5 rounded border transition-all ${\n                                                                        isSelected \n                                                                        ? 'border-website-specials-500 bg-website-specials-900/40 text-white' \n                                                                        : 'border-website-default-700 text-website-default-400 hover:border-website-default-500'\n                                                                    }`}\n                                                                >\n                                                                    <div className={`w-1 h-1 rotate-45 ${isSelected ? 'bg-website-specials-400' : 'bg-website-default-600'}`} />\n                                                                    {toTitleCase(skill)}\n                                                                </button>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </Card.Content>\n                                    </Card>\n\n                                    {/* Equipment Card */}\n                                    <Card className='bg-website-default-800 border-website-specials-500'>\n                                        <Card.Header className=\"border-b border-website-default-700/50\">\n                                            <Card.Title className='text-website-default-100'> Equipment</Card.Title>\n                                            <Card.Description className='text-website-default-300'>Your starting gear and equipment choices.</Card.Description>\n                                        </Card.Header>\n                                        <Card.Content className=\"pt-6 space-y-6\">\n                                            {/* Base Equipment */}\n                                            {selectedClass.baseEquipment && selectedClass.baseEquipment.length > 0 && (\n                                                <div>\n                                                    <h4 className=\"text-website-highlights-400 text-xs tracking-widest mb-3 uppercase\">Base Equipment</h4>\n                                                    <div className=\"flex flex-wrap gap-2\">\n                                                        {selectedClass.baseEquipment.map((item, idx) => {\n                                                            const parts = item.split(':');\n                                                            const itemName = parts.length === 3 ? parts[1] : parts[0];\n                                                            const quantity = parts.length === 3 ? parts[2] : parts[1] || '1';\n                                                            return (\n                                                                <div key={idx} className=\"bg-website-default-900 border border-website-default-700 px-3 py-2 rounded-lg text-sm\">\n                                                                    <span className=\"text-website-specials-400 font-bold mr-1\">{quantity}x</span>\n                                                                    <span className=\"text-website-default-100\">{toTitleCase(itemName)}</span>\n                                                                </div>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                </div>\n                                            )}\n\n                                            {/* Equipment Choices */}\n                                            {selectedClass.choices?.equipment && Object.entries(selectedClass.choices.equipment).map(([choiceKey, options]) => (\n                                                <div key={choiceKey} className=\"space-y-3\">\n                                                    <h4 className=\"text-website-specials-400 text-xs tracking-widest uppercase\">\n                                                        {toTitleCase(choiceKey).replace(/choice/i, 'Choice')}\n                                                    </h4>\n                                                    <div className=\"flex flex-col gap-3\">\n                                                        {Object.entries(options).map(([optionKey, items]) => {\n                                                            const isActive = values.classEquipmentChoices?.[choiceKey]?.optionKey === optionKey;\n                                                            const hasAnyItems = Object.keys(items).some(key => isAnyItem(key));\n\n                                                            // Regular option with button and optional dropdowns\n                                                            return (\n                                                                <div key={optionKey} className=\"space-y-2\">\n                                                                    <button\n                                                                        onClick={() => handleEquipmentChoice(choiceKey, optionKey, items)}\n                                                                        className={`w-full p-4 text-left rounded-lg border transition-all ${\n                                                                            isActive \n                                                                            ? 'bg-website-specials-900/40 border-website-specials-500' \n                                                                            : 'bg-website-default-900 border-website-default-700 hover:border-website-default-500'\n                                                                        }`}\n                                                                    >\n                                                                        <div className=\"flex justify-between items-start\">\n                                                                            <div className=\"text-sm flex-1\">\n                                                                                {Object.entries(items).map(([itemName, quantity], idx) => {\n                                                                                    const isPack = isStartingPack(itemName);\n                                                                                    \n                                                                                    return (\n                                                                                        <div key={itemName} className={idx > 0 ? 'mt-2' : ''}>\n                                                                                            <div>\n                                                                                                <span className=\"text-website-specials-400 font-bold\">{quantity}x</span>\n                                                                                                {' '}\n                                                                                                <span className=\"text-website-default-100\">{toTitleCase(itemName)}</span>\n                                                                                            </div>\n                                                                                            \n                                                                                            {/* Show pack contents */}\n                                                                                            {isPack && (\n                                                                                                <div className=\"ml-4 mt-1 text-xs text-website-default-400\">\n                                                                                                    <div className=\"italic mb-1\">Contains:</div>\n                                                                                                    <div className=\"flex flex-wrap gap-1\">\n                                                                                                        {startingPacks[itemName].items.map((packItem, pIdx) => {\n                                                                                                            const [pName, pQty] = packItem.split(':');\n                                                                                                            return (\n                                                                                                                <span key={pIdx} className=\"bg-website-default-800/50 px-1.5 py-0.5 rounded\">\n                                                                                                                    {pQty}x {toTitleCase(pName)}\n                                                                                                                </span>\n                                                                                                            );\n                                                                                                        })}\n                                                                                                    </div>\n                                                                                                </div>\n                                                                                            )}\n                                                                                        </div>\n                                                                                    );\n                                                                                })}\n                                                                            </div>\n                                                                            {isActive && (\n                                                                                <span className=\"text-website-specials-400 font-bold text-lg ml-2\"></span>\n                                                                            )}\n                                                                        </div>\n                                                                    </button>\n                                                                    \n                                                                    {/* Show dropdowns for \"any\" items if this option is selected */}\n                                                                    {isActive && hasAnyItems && (\n                                                                        <div className=\"ml-4 space-y-2 p-3 bg-website-default-900/50 rounded border border-website-default-700\">\n                                                                            {Object.entries(items).map(([itemName, quantity]) => {\n                                                                                if (!isAnyItem(itemName)) return null;\n                                                                                \n                                                                                const dropdownOptions = getAnyItemOptions(itemName);\n                                                                                const selectionKey = `${choiceKey}_${optionKey}_${itemName}`;\n                                                                                const selectionData = values.classAnyItemSelections?.[selectionKey];\n                                                                                const currentSelection = selectionData?.itemId || '';\n                                                                                \n                                                                                return (\n                                                                                    <div key={itemName} className=\"flex items-center gap-2\">\n                                                                                        <span className=\"text-xs text-website-default-300\">\n                                                                                            <span className=\"text-website-specials-400 font-bold\">{quantity}x</span> {toTitleCase(itemName)}:\n                                                                                        </span>\n                                                                                        <select\n                                                                                            className='flex-1 rounded border border-website-specials-500 bg-website-default-900 px-2 py-1 text-xs text-white focus:outline-none'\n                                                                                            value={currentSelection}\n                                                                                            onChange={(e) => handleAnyItemSelection(choiceKey, optionKey, itemName, e.target.value)}\n                                                                                        >\n                                                                                            <option value='' disabled>Select {toTitleCase(itemName.replace(/any/i, '').trim())}</option>\n                                                                                            {dropdownOptions.map(opt => (\n                                                                                                <option key={opt} value={opt}>{toTitleCase(opt)}</option>\n                                                                                            ))}\n                                                                                        </select>\n                                                                                    </div>\n                                                                                );\n                                                                            })}\n                                                                        </div>\n                                                                    )}\n                                                                </div>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                </div>\n                                            ))}\n                                        </Card.Content>\n                                    </Card>\n\n                                    {/* Abilities Card */}\n                                    {selectedClass.featuresByLevel && Object.keys(selectedClass.featuresByLevel).length > 0 && (\n                                        <Card className='bg-website-default-800 border-website-specials-500'>\n                                            <Card.Header className=\"border-b border-website-default-700/50\">\n                                                <Card.Title className='text-website-default-100'> Class Features</Card.Title>\n                                                <Card.Description className='text-website-default-300'>All features and abilities by level.</Card.Description>\n                                            </Card.Header>\n                                            <Card.Content className=\"pt-6\">\n                                                <div className=\"space-y-4\">\n                                                    {Object.entries(selectedClass.featuresByLevel)\n                                                        .filter(([level, features]) => features && features.length > 0)\n                                                        .sort((a, b) => {\n                                                            const aNum = parseInt(a[0].replace('level', ''));\n                                                            const bNum = parseInt(b[0].replace('level', ''));\n                                                            return aNum - bNum;\n                                                        })\n                                                        .map(([level, features]) => (\n                                                            <div key={level} className=\"space-y-2\">\n                                                                <h4 className=\"text-website-specials-400 text-xs tracking-widest uppercase font-bold\">\n                                                                    Level {level.replace('level', '')}\n                                                                </h4>\n                                                                <div className=\"space-y-2 ml-2\">\n                                                                    {features.map((featureId, idx) => {\n                                                                        const feature = classFeatures[featureId];\n                                                                        if (!feature) {\n                                                                            return (\n                                                                                <div key={idx} className=\"text-website-default-400 text-sm\">\n                                                                                    <span className=\"text-website-specials-400 font-bold\"></span> {toTitleCase(featureId)} (No data)\n                                                                                </div>\n                                                                            );\n                                                                        }\n                                                                        return (\n                                                                            <div \n                                                                                key={idx} \n                                                                                className=\"p-3 bg-website-default-900/50 border border-website-default-700 rounded-lg hover:border-website-specials-500/50 transition-colors\"\n                                                                            >\n                                                                                <div className=\"flex items-start gap-2\">\n                                                                                    <span className=\"text-website-specials-400 font-bold mt-1\"></span>\n                                                                                    <div className=\"flex-1\">\n                                                                                        <h5 className=\"text-website-default-100 font-semibold text-sm\">\n                                                                                            {feature.name}\n                                                                                        </h5>\n                                                                                        <p className=\"text-website-default-300 text-xs mt-1 leading-relaxed\">\n                                                                                            {feature.description}\n                                                                                        </p>\n                                                                                    </div>\n                                                                                </div>\n                                                                            </div>\n                                                                        );\n                                                                    })}\n                                                                </div>\n                                                            </div>\n                                                        ))}\n                                                </div>\n                                            </Card.Content>\n                                        </Card>\n                                    )}\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* SUBCLASS SECTION */}\n                    {selectedClass && availableSubclasses.length > 0 && (\n                        <div>\n                            <h1 className=\"text-2xl font-semibold mb-4 text-white\">Subclass</h1>\n\n                            <div className=\"grid grid-cols-1 gap-6\">\n                                {/* Subclass Selector */}\n                                <Card className='bg-website-default-800 border-website-highlights-500'>\n                                    <Card.Header>\n                                        <Card.Title className='text-website-default-100'>Subclass</Card.Title>\n                                        <Card.Description className='text-website-default-300'>Choose your specialization.</Card.Description>\n                                    </Card.Header>\n                                    <Card.Content>\n                                        <div className='flex flex-col space-y-4'>\n                                            <select\n                                                className='rounded border border-website-highlights-500 bg-website-default-900 px-3 py-2 text-white focus:outline-none'\n                                                value={selectedSubclass}\n                                                onChange={(e) => emit({ subclass: e.target.value })}\n                                            >\n                                                <option value='' disabled>Select subclass (optional)</option>\n                                                {availableSubclasses.map(sc => (\n                                                    <option key={sc._id} value={sc._id}>{sc.name}</option>\n                                                ))}\n                                            </select>\n                                            {selectedSubclassObj && (\n                                                <div className='p-4 border border-website-highlights-500 rounded bg-website-default-900/50'>\n                                                    <div className='text-website-default-300 text-sm'>\n                                                        {selectedSubclassObj.description}\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </Card.Content>\n                                </Card>\n\n                                {/* Subclass Features Card */}\n                                {selectedSubclassObj && selectedSubclassObj.featuresByLevel && Object.keys(selectedSubclassObj.featuresByLevel).length > 0 && (\n                                    <Card className='bg-website-default-800 border-website-highlights-500'>\n                                        <Card.Header className=\"border-b border-website-default-700/50\">\n                                            <Card.Title className='text-website-default-100'> Subclass Features</Card.Title>\n                                            <Card.Description className='text-website-default-300'>Features from {selectedSubclassObj.name}</Card.Description>\n                                        </Card.Header>\n                                        <Card.Content className=\"pt-6\">\n                                            <div className=\"space-y-4\">\n                                                {Object.entries(selectedSubclassObj.featuresByLevel)\n                                                    .filter(([level, features]) => features && features.length > 0)\n                                                    .sort((a, b) => {\n                                                        const aNum = parseInt(a[0].replace('level', ''));\n                                                        const bNum = parseInt(b[0].replace('level', ''));\n                                                        return aNum - bNum;\n                                                    })\n                                                    .map(([level, features]) => (\n                                                        <div key={level} className=\"space-y-2\">\n                                                            <h4 className=\"text-website-highlights-400 text-xs tracking-widest uppercase font-bold\">\n                                                                Level {level.replace('level', '')}\n                                                            </h4>\n                                                            <div className=\"space-y-2 ml-2\">\n                                                                {features.map((featureId, idx) => {\n                                                                    const feature = classFeatures[featureId];\n                                                                    if (!feature) {\n                                                                        return (\n                                                                            <div key={idx} className=\"text-website-default-400 text-sm\">\n                                                                                <span className=\"text-website-highlights-400 font-bold\"></span> {toTitleCase(featureId)} (No data)\n                                                                            </div>\n                                                                        );\n                                                                    }\n                                                                    return (\n                                                                        <div \n                                                                            key={idx} \n                                                                            className=\"p-3 bg-website-default-900/50 border border-website-default-700 rounded-lg hover:border-website-highlights-500/50 transition-colors\"\n                                                                        >\n                                                                            <div className=\"flex items-start gap-2\">\n                                                                                <span className=\"text-website-highlights-400 font-bold mt-1\"></span>\n                                                                                <div className=\"flex-1\">\n                                                                                    <h5 className=\"text-website-default-100 font-semibold text-sm\">\n                                                                                        {feature.name}\n                                                                                    </h5>\n                                                                                    <p className=\"text-website-default-300 text-xs mt-1 leading-relaxed\">\n                                                                                        {feature.description}\n                                                                                    </p>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    );\n                                                                })}\n                                                            </div>\n                                                        </div>\n                                                    ))}\n                                            </div>\n                                        </Card.Content>\n                                    </Card>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Class;\n","import React, { useMemo } from 'react';\nimport { Card } from '../../../pageComponents/card';\nimport { CircleUser } from 'lucide-react';\nimport { useGameData } from '../../../data/gameDataContext';\nimport {\n    toTitleCase,\n    startingPacks,\n    isStartingPack,\n    isAnyItem,\n    addItemsToInventory,\n    toolLists,\n    languages,\n    getAnyItemOptions\n} from '../utils/inventory';\n\nexport function Background({ values, onChange, backgrounds = [], items = [], classes = [] }) {\n    // Get game data from context (items, maps, selectors)\n    const { maps } = useGameData();\n\n    const selected = values?.background || '';\n    const emit = (partial) => { if (typeof onChange === 'function') onChange(partial); };\n\n    // Memoize the selected background object\n    const selectedBackground = useMemo(() => {\n        return backgrounds.find(b => b._id === selected);\n    }, [backgrounds, selected]);\n\n    const selectedClass = useMemo(() => {\n        return classes?.find(c => c._id === values?.class);\n    }, [classes, values?.class]);\n\n    // Import tool and language lists from shared utilities\n    const { musicalInstruments, artisansTools, gamingSets } = toolLists;\n\n    // Helper: Check if an option is \"any\"\n    const isAnyOption = (option) => {\n        return option && option.toLowerCase().includes('any');\n    };\n\n    // Helper: Get dropdown options based on \"any\" type\n    const getAnyOptions = (option) => {\n        const lowerOption = option.toLowerCase();\n        // First check if it matches weapon/tool patterns from shared utility\n        const itemOptions = getAnyItemOptions(option);\n        if (itemOptions && itemOptions.length > 0) {\n            return itemOptions;\n        }\n        // Otherwise check for language (special case for backgrounds)\n        if (lowerOption === 'any') {\n            return languages;\n        }\n        return [];\n    };\n\n    // Note: All inventory helper functions (toTitleCase, isStartingPack, isAnyItem, \n    // addItemsToInventory) are now imported from the shared utility module above\n\n    // 2. Logic: Handle Background Selection & Auto-populate\n    const handleBackgroundChange = (backgroundId) => {\n        const fullBackgroundData = backgrounds.find(b => b._id === backgroundId);\n        if (!fullBackgroundData) return;\n\n        // Parse base equipment items\n        const fixedItems = (fullBackgroundData.baseEquipment || []).map(itemStr => {\n            // Handle format: itemName or itemName:quantity\n            const parts = itemStr.split(':');\n            const name = parts[0];\n            const qty = parts[1] ? parseInt(parts[1]) : 1;\n            return { itemId: name, quantity: qty };\n        });\n\n        const applyUpdate = (inventoryMap) => {\n            const currentItems = { ...(values.inv?.items || {}) };\n            const itemIdsToRemove = [\n                ...(values.backgroundBaseItemIds || []),\n                ...Object.values(values.backgroundEquipmentChoices || {}).flatMap(choice => choice?.addedIds || []),\n                ...Object.values(values.backgroundAnyItemSelections || {}).map(selection => selection?.uniqueId).filter(Boolean),\n            ];\n            itemIdsToRemove.forEach((id) => {\n                if (currentItems[id]) delete currentItems[id];\n            });\n            const updatedItems = { ...currentItems, ...inventoryMap };\n\n            // Convert proficiency selections to map and replace previous background contributions.\n            const proficienciesMap = { ...values.skills?.proficiencies || {} };\n            const previousBackgroundBase = values.backgroundBaseProficiencies || [];\n            const previousChoiceSelections = Object.values(values.proficiencyChoices || {});\n\n            [...previousBackgroundBase, ...previousChoiceSelections].forEach((prof) => {\n                delete proficienciesMap[prof];\n            });\n\n            const nextBackgroundBase = fullBackgroundData.baseProficiencies || [];\n            nextBackgroundBase.forEach((prof) => {\n                proficienciesMap[prof] = 'proficient';\n            });\n\n            const previousBackgroundGp = Number(values.backgroundBaseGp || 0);\n            const currentGp = Number(values.inv?.gp || 0);\n            const nextBackgroundGp = Number(fullBackgroundData.gp || 0);\n            const normalizedGp = Math.max(0, currentGp - previousBackgroundGp + nextBackgroundGp);\n\n            const update = {\n                background: backgroundId,\n                // Replace prior background gold/items/proficiencies contribution.\n                inv: { \n                    gp: normalizedGp,\n                    items: updatedItems,\n                    equipment: values.inv?.equipment || {}\n                },\n                // Update proficiencies\n                skills: {\n                    ...values.skills,\n                    proficiencies: proficienciesMap\n                },\n                backgroundBaseGp: nextBackgroundGp,\n                backgroundBaseItemIds: Object.keys(inventoryMap),\n                backgroundBaseProficiencies: nextBackgroundBase,\n                // Reset choices\n                proficiencyChoices: {},\n                backgroundEquipmentChoices: {},\n                backgroundAnyItemSelections: {}\n            };\n\n            emit(update);\n        };\n\n        // Convert items to inventory format using context-provided items map\n        if (fixedItems.length > 0) {\n            const inventoryMap = addItemsToInventory(fixedItems, { itemsByItemId: maps.itemsByItemId });\n            applyUpdate(inventoryMap);\n        } else {\n            applyUpdate({});\n        }\n    };\n\n    // 3. Logic: Handle Skill/Language/Tool Choice Toggles\n    const handleProficiencyToggle = (category, option) => {\n        // Special handling for tools which might be under proficiencies\n        const choiceData = selectedBackground?.choices?.proficiencies?.[category];\n        if (!choiceData) return;\n\n        const currentProficiencies = values.skills?.proficiencies || {};\n        const choiceKey = `${category}_${option}`;\n        const currentChoices = values.proficiencyChoices || {};\n        const maxAllowed = choiceData.amount;\n        \n        // Count how many from this category are chosen\n        const categoryChoices = Object.keys(currentChoices).filter(key => \n            key.startsWith(`${category}_`)\n        );\n        const currentCount = categoryChoices.length;\n\n        // Create new proficiencies and choices\n        const newProficiencies = { ...currentProficiencies };\n        const newChoices = { ...currentChoices };\n\n        if (newChoices[choiceKey]) {\n            // Remove the choice\n            delete newChoices[choiceKey];\n            delete newProficiencies[option];\n        } else {\n            // Add the choice if limit not reached\n            if (currentCount < maxAllowed) {\n                newChoices[choiceKey] = option;\n                newProficiencies[option] = 'proficient';\n            } else {\n                return; // Limit reached\n            }\n        }\n\n        emit({\n            skills: {\n                ...values.skills,\n                proficiencies: newProficiencies\n            },\n            proficiencyChoices: newChoices\n        });\n    };\n\n    // 3b. Logic: Handle \"Any\" Proficiency Selection (Dropdown)\n    const handleAnyProficiencySelection = (category, anyOption, slotIndex, selectedValue) => {\n        if (!selectedValue) return;\n\n        const currentProficiencies = values.skills?.proficiencies || {};\n        const choiceKey = `${category}_${anyOption}_${slotIndex}`;\n        const currentChoices = values.proficiencyChoices || {};\n        \n        // Remove previous selection if exists\n        if (currentChoices[choiceKey]) {\n            const previousValue = currentChoices[choiceKey];\n            delete currentProficiencies[previousValue];\n        }\n\n        // Add new selection\n        const newProficiencies = { ...currentProficiencies, [selectedValue]: 'proficient' };\n        const newChoices = { ...currentChoices, [choiceKey]: selectedValue };\n\n        emit({\n            skills: {\n                ...values.skills,\n                proficiencies: newProficiencies\n            },\n            proficiencyChoices: newChoices\n        });\n    };\n\n    // 4. Logic: Handle Equipment Choice Selection\n    const handleEquipmentChoice = (choiceKey, optionKey, items) => {\n        if (!selectedBackground?.choices?.equipment?.[choiceKey]?.[optionKey]) return;\n\n        const currentItems = { ...(values.inv?.items || {}) };\n        const previousChoices = values.backgroundEquipmentChoices || {};\n        const previousChoice = previousChoices[choiceKey];\n        const previousOptionKey = previousChoice?.optionKey;\n        if (previousOptionKey === optionKey) return;\n\n        const nextAnySelections = { ...(values.backgroundAnyItemSelections || {}) };\n\n        if (previousChoice) {\n            (previousChoice.addedIds || []).forEach((id) => {\n                if (currentItems[id]) delete currentItems[id];\n            });\n\n            Object.keys(nextAnySelections).forEach((key) => {\n                if (!key.startsWith(`${choiceKey}_${previousOptionKey}_`)) return;\n                const uniqueId = nextAnySelections[key]?.uniqueId;\n                if (uniqueId && currentItems[uniqueId]) delete currentItems[uniqueId];\n                delete nextAnySelections[key];\n            });\n        }\n\n        const itemsToAdd = [];\n        Object.entries(items).forEach(([name, qty]) => {\n            if (isAnyItem(name)) return;\n\n            if (isStartingPack(name)) {\n                itemsToAdd.push({ itemId: name, quantity: qty });\n                const packContents = startingPacks[name].items;\n                packContents.forEach((itemStr) => {\n                    const parts = itemStr.split(':');\n                    const itemName = parts[0];\n                    const itemQty = parseInt(parts[1], 10) || 1;\n                    itemsToAdd.push({ itemId: itemName, quantity: itemQty * qty });\n                });\n                return;\n            }\n\n            itemsToAdd.push({ itemId: name, quantity: qty });\n        });\n\n        const newInventoryItems = addItemsToInventory(itemsToAdd, { itemsByItemId: maps.itemsByItemId });\n        const addedIds = Object.keys(newInventoryItems);\n        const updatedItems = { ...currentItems, ...newInventoryItems };\n\n        emit({\n            backgroundEquipmentChoices: {\n                ...previousChoices,\n                [choiceKey]: { optionKey, items, addedIds }\n            },\n            backgroundAnyItemSelections: nextAnySelections,\n            inv: {\n                ...values.inv,\n                items: updatedItems\n            }\n        });\n    };\n\n    // 4b. Logic: Handle \"Any\" Item Selection (Dropdown)\n    const handleAnyItemSelection = (choiceKey, optionKey, anyItemKey, selectedItem) => {\n        if (!selectedItem) return;\n\n        const choiceItems = selectedBackground?.choices?.equipment?.[choiceKey]?.[optionKey];\n        if (!choiceItems) return;\n\n        const currentItems = { ...(values.inv?.items || {}) };\n        const nextAnySelections = { ...(values.backgroundAnyItemSelections || {}) };\n        const nextChoices = { ...(values.backgroundEquipmentChoices || {}) };\n        const previousChoice = nextChoices[choiceKey];\n        const previousOptionKey = previousChoice?.optionKey;\n        const isSwitching = Boolean(previousChoice) && previousOptionKey !== optionKey;\n\n        if (isSwitching) {\n            (previousChoice.addedIds || []).forEach((id) => {\n                if (currentItems[id]) delete currentItems[id];\n            });\n\n            Object.keys(nextAnySelections).forEach((key) => {\n                if (!key.startsWith(`${choiceKey}_${previousOptionKey}_`)) return;\n                const uniqueId = nextAnySelections[key]?.uniqueId;\n                if (uniqueId && currentItems[uniqueId]) delete currentItems[uniqueId];\n                delete nextAnySelections[key];\n            });\n        }\n\n        if (!previousChoice || isSwitching) {\n            const itemsToAdd = [];\n            Object.entries(choiceItems).forEach(([name, qty]) => {\n                if (isAnyItem(name)) return;\n\n                if (isStartingPack(name)) {\n                    itemsToAdd.push({ itemId: name, quantity: qty });\n                    const packContents = startingPacks[name].items;\n                    packContents.forEach((itemStr) => {\n                        const parts = itemStr.split(':');\n                        const itemName = parts[0];\n                        const itemQty = parseInt(parts[1], 10) || 1;\n                        itemsToAdd.push({ itemId: itemName, quantity: itemQty * qty });\n                    });\n                    return;\n                }\n\n                itemsToAdd.push({ itemId: name, quantity: qty });\n            });\n\n            const fixedInventoryItems = addItemsToInventory(itemsToAdd, { itemsByItemId: maps.itemsByItemId });\n            const addedIds = Object.keys(fixedInventoryItems);\n            Object.assign(currentItems, fixedInventoryItems);\n            nextChoices[choiceKey] = { optionKey, items: choiceItems, addedIds };\n        }\n\n        const selectionKey = `${choiceKey}_${optionKey}_${anyItemKey}`;\n        const previousSelection = nextAnySelections[selectionKey];\n        if (previousSelection?.uniqueId && currentItems[previousSelection.uniqueId]) {\n            delete currentItems[previousSelection.uniqueId];\n        }\n\n        const quantity = Number(choiceItems[anyItemKey] || 1);\n        const selectedInventoryItems = addItemsToInventory([{ itemId: selectedItem, quantity }], { itemsByItemId: maps.itemsByItemId });\n        const uniqueIds = Object.keys(selectedInventoryItems);\n        Object.assign(currentItems, selectedInventoryItems);\n\n        nextAnySelections[selectionKey] = {\n            itemId: selectedItem,\n            uniqueId: uniqueIds[0]\n        };\n\n        emit({\n            backgroundEquipmentChoices: nextChoices,\n            backgroundAnyItemSelections: nextAnySelections,\n            inv: {\n                ...values.inv,\n                items: currentItems\n            }\n        });\n    };\n\n    return (\n        <div className='bg-website-default-900 min-h-screen grid grid-cols-1 md:grid-cols-[1fr_2fr_1fr]'>\n            <div className='p-4 space-y-4 md:col-start-2'>\n\n                {/* Name Input */}\n                <div className='flex flex-col sm:flex-row sm:items-center p-4 gap-3 sm:gap-4 border-b border-website-specials-500'>\n                    <CircleUser size={48} />\n                    <div className='flex flex-col'>\n                        <div className='text-left text-l font-semibold'>Character Name</div>\n                        <input\n                            type=\"text\"\n                            placeholder='Name...'\n                            className='border-b border-website-highlights-400 bg-website-default-900 focus:outline-none focus:bg-gradient-to-t from-website-highlights-500 to-website-default-900'\n                            value={values.name || ''}\n                            onChange={(e) => emit({ name: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                <div className='space-y-8 flex flex-col text-left'>\n                    <div>\n                        <h1 className=\"text-2xl font-semibold mb-4 text-white\">Choose Background</h1>\n\n                        <div className=\"grid grid-cols-1 gap-6\">\n                            {/* Background Selector */}\n                            <Card className='bg-website-default-800 border-website-specials-500'>\n                                <Card.Header>\n                                    <Card.Title className='text-website-default-100'>Background</Card.Title>\n                                    <Card.Description className='text-website-default-300'>Select your character's background.</Card.Description>\n                                </Card.Header>\n                                <Card.Content>\n                                    <div className='flex flex-col'>\n                                        <select\n                                            className='rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 text-white focus:outline-none'\n                                            value={selected}\n                                            onChange={(e) => handleBackgroundChange(e.target.value)}\n                                        >\n                                            <option value='' disabled>Select background</option>\n                                            {backgrounds.map(b => (\n                                                <option key={b._id} value={b._id}>{b.name}</option>\n                                            ))}\n                                        </select>\n                                        {selectedBackground && (\n                                            <div className='mt-4 p-4 border border-website-specials-500 rounded bg-website-default-900/50'>\n                                                <div className='text-website-default-300 text-sm'>\n                                                    {selectedBackground.description}\n                                                </div>\n                                                <div className='mt-3 pt-3 border-t border-website-default-700'>\n                                                    <span className='text-website-highlights-400 font-semibold'>Starting Gold: </span>\n                                                    <span className='text-white'>{selectedBackground.gp} gp</span>\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                </Card.Content>\n                            </Card>\n\n                            {selectedBackground && (\n                                <>\n                                    {/* Features Card */}\n                                    {selectedBackground.features && Object.keys(selectedBackground.features).length > 0 && (\n                                        <Card className='bg-website-default-800 border-website-specials-500'>\n                                            <Card.Header className=\"border-b border-website-default-700 pb-4\">\n                                                <Card.Title className='text-website-default-100'> Background Features</Card.Title>\n                                            </Card.Header>\n                                            <Card.Content className=\"pt-6 space-y-4\">\n                                                {Object.entries(selectedBackground.features).map(([featureName, descriptions]) => (\n                                                    <div key={featureName} className=\"bg-website-default-900/50 p-4 rounded-lg border border-website-default-700\">\n                                                        <h4 className=\"text-website-highlights-400 text-sm font-semibold mb-2 capitalize\">\n                                                            {toTitleCase(featureName)}\n                                                        </h4>\n                                                        <ul className=\"space-y-2\">\n                                                            {descriptions.map((desc, idx) => (\n                                                                <li key={idx} className=\"text-website-default-200 text-sm flex gap-2\">\n                                                                    <span className=\"text-website-specials-400\"></span>\n                                                                    <span>{desc}</span>\n                                                                </li>\n                                                            ))}\n                                                        </ul>\n                                                    </div>\n                                                ))}\n                                            </Card.Content>\n                                        </Card>\n                                    )}\n\n                                    {/* Proficiencies Card */}\n                                    <Card className='bg-website-default-800 border-website-specials-500'>\n                                        <Card.Header className=\"border-b border-website-default-700/50\">\n                                            <Card.Title className='text-website-default-100'> Proficiencies</Card.Title>\n                                        </Card.Header>\n                                        <Card.Content className=\"pt-6 space-y-4\">\n                                            {/* Base Proficiencies */}\n                                            {selectedBackground.baseProficiencies && selectedBackground.baseProficiencies.length > 0 && (\n                                                <div className=\"bg-website-default-900/60 p-3 rounded-lg border border-website-default-700\">\n                                                    <h4 className=\"text-website-highlights-400 text-[10px] uppercase mb-2\">Base Proficiencies</h4>\n                                                    <div className=\"flex flex-wrap gap-1\">\n                                                        {selectedBackground.baseProficiencies.map(prof => (\n                                                            <span key={prof} className=\"px-2 py-0.5 bg-website-default-700 text-white text-[10px] rounded border border-website-default-600\">\n                                                                {toTitleCase(prof)}\n                                                            </span>\n                                                        ))}\n                                                    </div>\n                                                </div>\n                                            )}\n\n                                            {/* Proficiency Choices */}\n                                            {selectedBackground.choices?.proficiencies && Object.entries(selectedBackground.choices.proficiencies)\n                                                .filter(([category]) => category !== 'tools') // Filter out tools from proficiencies\n                                                .map(([category, choiceData]) => (\n                                                <div key={category} className=\"bg-website-specials-900/20 border border-website-specials-700/30 p-3 rounded-lg\">\n                                                    <div className=\"flex justify-between items-center mb-3\">\n                                                        <h4 className=\"text-website-specials-400 text-[10px] uppercase capitalize\">\n                                                            {category} Choices\n                                                        </h4>\n                                                        <span className=\"text-[10px] text-white bg-website-specials-600 px-2 py-0.5 rounded-full\">\n                                                            Picked {Object.keys(values.proficiencyChoices || {}).filter(k => k.startsWith(`${category}_`)).length} / {choiceData.amount}\n                                                        </span>\n                                                    </div>\n                                                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                                                        {choiceData.options.map((option) => {\n                                                            const choiceKey = `${category}_${option}`;\n                                                            const isSelected = (values.proficiencyChoices || {})[choiceKey];\n                                                            const isAny = isAnyOption(option);\n                                                            \n                                                            if (isAny) {\n                                                                return null; // Skip \"any\" options from button display\n                                                            }\n                                                            \n                                                            return (\n                                                                <button\n                                                                    key={option}\n                                                                    onClick={() => handleProficiencyToggle(category, option)}\n                                                                    className={`text-[11px] flex items-center gap-1.5 capitalize p-1.5 rounded border transition-all ${\n                                                                        isSelected \n                                                                        ? 'border-website-specials-500 bg-website-specials-900/40 text-white' \n                                                                        : 'border-website-default-700 text-website-default-400 hover:border-website-default-500'\n                                                                    }`}\n                                                                >\n                                                                    <div className={`w-1 h-1 rotate-45 ${isSelected ? 'bg-website-specials-400' : 'bg-website-default-600'}`} />\n                                                                    {toTitleCase(option)}\n                                                                </button>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                    \n                                                    {/* Dropdowns for \"any\" proficiencies */}\n                                                    {choiceData.options.some(isAnyOption) && (\n                                                        <div className=\"mt-3 space-y-2 p-3 bg-website-default-900/50 rounded border border-website-default-700\">\n                                                            {(() => {\n                                                                // Create slots based on amount\n                                                                const slots = Array.from({ length: choiceData.amount }, (_, idx) => idx);\n                                                                const anyOption = choiceData.options.find(isAnyOption);\n                                                                if (!anyOption) return null;\n                                                                \n                                                                const dropdownOptions = getAnyOptions(anyOption);\n                                                                // Get already selected values for this category\n                                                                const selectedValues = new Set(\n                                                                    Object.entries(values.proficiencyChoices || {})\n                                                                        .filter(([key, value]) => key.startsWith(`${category}_${anyOption}_`))\n                                                                        .map(([_, value]) => value)\n                                                                );\n                                                                \n                                                                return slots.map((slotIndex) => {\n                                                                    const choiceKey = `${category}_${anyOption}_${slotIndex}`;\n                                                                    const currentSelection = (values.proficiencyChoices || {})[choiceKey] || '';\n                                                                    \n                                                                    // Filter options to exclude already selected values\n                                                                    const availableOptions = dropdownOptions.filter(opt => \n                                                                        !selectedValues.has(opt) || opt === currentSelection\n                                                                    );\n                                                                    \n                                                                    return (\n                                                                        <div key={choiceKey} className=\"flex items-center gap-2\">\n                                                                            <span className=\"text-xs text-website-default-300\">\n                                                                                {(() => {\n                                                                                    if (choiceData.amount > 1) return `Choice ${slotIndex + 1}`;\n                                                                                    const cleaned = toTitleCase(anyOption.replace(/any/i, '').trim());\n                                                                                    return cleaned || 'Language';\n                                                                                })()} :\n                                                                            </span>\n                                                                            <select\n                                                                                className='flex-1 rounded border border-website-specials-500 bg-website-default-900 px-2 py-1 text-xs text-white focus:outline-none'\n                                                                                value={currentSelection}\n                                                                                onChange={(e) => handleAnyProficiencySelection(category, anyOption, slotIndex, e.target.value)}\n                                                                            >\n                                                                                <option value='' disabled>Select {toTitleCase(anyOption.replace(/any/i, '').trim())}</option>\n                                                                                {availableOptions.map(opt => (\n                                                                                    <option key={opt} value={opt}>{toTitleCase(opt)}</option>\n                                                                                ))}\n                                                                            </select>\n                                                                        </div>\n                                                                    );\n                                                                });\n                                                            })()}\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            ))}\n                                            \n                                            {/* Tool Proficiency Choices - Render separately */}\n                                            {selectedBackground.choices?.proficiencies?.tools && (\n                                                <div className=\"bg-website-specials-900/20 border border-website-specials-700/30 p-3 rounded-lg\">\n                                                    <div className=\"flex justify-between items-center mb-3\">\n                                                        <h4 className=\"text-website-specials-400 text-[10px] uppercase\">Tool Proficiency Choices</h4>\n                                                        <span className=\"text-[10px] text-white bg-website-specials-600 px-2 py-0.5 rounded-full\">\n                                                            Picked {Object.keys(values.proficiencyChoices || {}).filter(k => k.startsWith('tools_')).length} / {selectedBackground.choices.proficiencies.tools.amount}\n                                                        </span>\n                                                    </div>\n                                                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                                                        {selectedBackground.choices.proficiencies.tools.options.map((option) => {\n                                                            const choiceKey = `tools_${option}`;\n                                                            const isSelected = (values.proficiencyChoices || {})[choiceKey];\n                                                            const isAny = isAnyOption(option);\n                                                            \n                                                            if (isAny) {\n                                                                return null;\n                                                            }\n                                                            \n                                                            return (\n                                                                <button\n                                                                    key={option}\n                                                                    onClick={() => handleProficiencyToggle('tools', option)}\n                                                                    className={`text-[11px] flex items-center gap-1.5 capitalize p-1.5 rounded border transition-all ${\n                                                                        isSelected \n                                                                        ? 'border-website-specials-500 bg-website-specials-900/40 text-white' \n                                                                        : 'border-website-default-700 text-website-default-400 hover:border-website-default-500'\n                                                                    }`}\n                                                                >\n                                                                    <div className={`w-1 h-1 rotate-45 ${isSelected ? 'bg-website-specials-400' : 'bg-website-default-600'}`} />\n                                                                    {toTitleCase(option)}\n                                                                </button>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                    \n                                                    {/* Dropdowns for \"any\" tool proficiencies */}\n                                                    {selectedBackground.choices.proficiencies.tools.options.some(isAnyOption) && (\n                                                        <div className=\"mt-3 space-y-2 p-3 bg-website-default-900/50 rounded border border-website-default-700\">\n                                                            {(() => {\n                                                                // Create slots based on amount\n                                                                const slots = Array.from({ length: selectedBackground.choices.proficiencies.tools.amount }, (_, idx) => idx);\n                                                                const anyOption = selectedBackground.choices.proficiencies.tools.options.find(isAnyOption);\n                                                                if (!anyOption) return null;\n                                                                \n                                                                const dropdownOptions = getAnyOptions(anyOption);\n                                                                // Get already selected values for tools\n                                                                const selectedValues = new Set(\n                                                                    Object.entries(values.proficiencyChoices || {})\n                                                                        .filter(([key, value]) => key.startsWith(`tools_${anyOption}_`))\n                                                                        .map(([_, value]) => value)\n                                                                );\n                                                                \n                                                                return slots.map((slotIndex) => {\n                                                                    const choiceKey = `tools_${anyOption}_${slotIndex}`;\n                                                                    const currentSelection = (values.proficiencyChoices || {})[choiceKey] || '';\n                                                                    \n                                                                    // Filter options to exclude already selected values\n                                                                    const availableOptions = dropdownOptions.filter(opt => \n                                                                        !selectedValues.has(opt) || opt === currentSelection\n                                                                    );\n                                                                    \n                                                                    return (\n                                                                        <div key={choiceKey} className=\"flex items-center gap-2\">\n                                                                            <span className=\"text-xs text-website-default-300\">\n                                                                                {(() => {\n                                                                                    if (selectedBackground.choices.proficiencies.tools.amount > 1) return `Choice ${slotIndex + 1}`;\n                                                                                    const cleaned = toTitleCase(anyOption.replace(/[Aa]ny/, '').trim());\n                                                                                    return cleaned || 'Tool';\n                                                                                })()} :\n                                                                            </span>\n                                                                            <select\n                                                                                className='flex-1 rounded border border-website-specials-500 bg-website-default-900 px-2 py-1 text-xs text-white focus:outline-none'\n                                                                                value={currentSelection}\n                                                                                onChange={(e) => handleAnyProficiencySelection('tools', anyOption, slotIndex, e.target.value)}\n                                                                            >\n                                                                                <option value='' disabled>Select {toTitleCase(anyOption.replace(/any/i, '').trim())}</option>\n                                                                                {availableOptions.map(opt => (\n                                                                                    <option key={opt} value={opt}>{toTitleCase(opt)}</option>\n                                                                                ))}\n                                                                            </select>\n                                                                        </div>\n                                                                    );\n                                                                });\n                                                            })()}\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            )}\n                                        </Card.Content>\n                                    </Card>\n\n                                    {/* Equipment Card */}\n                                    {selectedBackground.baseEquipment && selectedBackground.baseEquipment.length > 0 && (\n                                        <Card className='bg-website-default-800 border-website-specials-500'>\n                                            <Card.Header className=\"border-b border-website-default-700/50\">\n                                                <Card.Title className='text-website-default-100'> Equipment</Card.Title>\n                                                <Card.Description className='text-website-default-300'>Your starting gear.</Card.Description>\n                                            </Card.Header>\n                                            <Card.Content className=\"pt-6 space-y-6\">\n                                                {/* Base Equipment */}\n                                                <div>\n                                                    <h4 className=\"text-website-highlights-400 text-xs tracking-widest mb-3 uppercase\">Base Equipment</h4>\n                                                    <div className=\"flex flex-wrap gap-2\">\n                                                        {selectedBackground.baseEquipment.map((item, idx) => {\n                                                            const parts = item.split(':');\n                                                            const itemName = parts[0];\n                                                            const quantity = parts[1] || '1';\n                                                            return (\n                                                                <div key={idx} className=\"bg-website-default-900 border border-website-default-700 px-3 py-2 rounded-lg text-sm\">\n                                                                    <span className=\"text-website-specials-400 font-bold mr-1\">{quantity}x</span>\n                                                                    <span className=\"text-website-default-100\">{toTitleCase(itemName)}</span>\n                                                                </div>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                </div>\n\n                                                {/* Equipment Choices */}\n                                                {selectedBackground.choices?.equipment && Object.entries(selectedBackground.choices.equipment).map(([choiceKey, options]) => (\n                                                    <div key={choiceKey} className=\"space-y-3\">\n                                                        <h4 className=\"text-website-specials-400 text-xs tracking-widest uppercase\">\n                                                            {toTitleCase(choiceKey).replace(/choice/i, 'Choice')}\n                                                        </h4>\n                                                        <div className=\"flex flex-col gap-3\">\n                                                            {Object.entries(options).map(([optionKey, items]) => {\n                                                                const isActive = values.backgroundEquipmentChoices?.[choiceKey]?.optionKey === optionKey;\n                                                                const hasAnyItems = Object.keys(items).some(key => isAnyItem(key));\n\n                                                                // Regular option with button and optional dropdowns\n                                                                return (\n                                                                    <div key={optionKey} className=\"space-y-2\">\n                                                                        <button\n                                                                            onClick={() => handleEquipmentChoice(choiceKey, optionKey, items)}\n                                                                            className={`w-full p-4 text-left rounded-lg border transition-all ${\n                                                                                isActive \n                                                                                ? 'bg-website-specials-900/40 border-website-specials-500' \n                                                                                : 'bg-website-default-900 border-website-default-700 hover:border-website-default-500'\n                                                                            }`}\n                                                                        >\n                                                                            <div className=\"flex justify-between items-start\">\n                                                                                <div className=\"text-sm flex-1\">\n                                                                                    {Object.entries(items).map(([itemName, quantity], idx) => (\n                                                                                        <div key={itemName} className={idx > 0 ? 'mt-2' : ''}>\n                                                                                            <span className=\"text-website-specials-400 font-bold\">{quantity}x</span>\n                                                                                            {' '}\n                                                                                            <span className=\"text-website-default-100\">{toTitleCase(itemName)}</span>\n                                                                                        </div>\n                                                                                    ))}\n                                                                                </div>\n                                                                                {isActive && (\n                                                                                    <span className=\"text-website-specials-400 font-bold text-lg ml-2\"></span>\n                                                                                )}\n                                                                            </div>\n                                                                        </button>\n                                                                        \n                                                                        {/* Show dropdowns for \"any\" items if this option is selected */}\n                                                                        {isActive && hasAnyItems && (\n                                                                            <div className=\"ml-4 space-y-2 p-3 bg-website-default-900/50 rounded border border-website-default-700\">\n                                                                                {Object.entries(items).map(([itemName, quantity]) => {\n                                                                                    if (!isAnyItem(itemName)) return null;\n                                                                                    \n                                                                                    const dropdownOptions = getAnyOptions(itemName);\n                                                                                    const selectionKey = `${choiceKey}_${optionKey}_${itemName}`;\n                                                                                    const selectionData = values.backgroundAnyItemSelections?.[selectionKey];\n                                                                                    const currentSelection = selectionData?.itemId || '';\n                                                                                    \n                                                                                    return (\n                                                                                        <div key={itemName} className=\"flex items-center gap-2\">\n                                                                                            <span className=\"text-xs text-website-default-300\">\n                                                                                                <span className=\"text-website-specials-400 font-bold\">{quantity}x</span> {toTitleCase(itemName)}:\n                                                                                            </span>\n                                                                                            <select\n                                                                                                className='flex-1 rounded border border-website-specials-500 bg-website-default-900 px-2 py-1 text-xs text-white focus:outline-none'\n                                                                                                value={currentSelection}\n                                                                                                onChange={(e) => handleAnyItemSelection(choiceKey, optionKey, itemName, e.target.value)}\n                                                                                            >\n                                                                                                <option value='' disabled>Select {toTitleCase(itemName.replace(/any/i, '').trim())}</option>\n                                                                                                {dropdownOptions.map(opt => (\n                                                                                                    <option key={opt} value={opt}>{toTitleCase(opt)}</option>\n                                                                                                ))}\n                                                                                            </select>\n                                                                                        </div>\n                                                                                    );\n                                                                                })}\n                                                                            </div>\n                                                                        )}\n                                                                    </div>\n                                                                );\n                                                            })}\n                                                        </div>\n                                                    </div>\n                                                ))}\n                                            </Card.Content>\n                                        </Card>\n                                    )}\n                                </>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Background;\n","import React, { useMemo } from 'react';\nimport { Card } from '../../../pageComponents/card';\nimport { useGameData } from '../../../data/gameDataContext';\nimport { CircleUser, Shuffle } from 'lucide-react';\nimport {\n  getChoiceBonus,\n  getModifierValue,\n  parseAbilityScoreChoiceConfig,\n  sanitizeChoiceMap\n} from '../utils/abilityScoreModifiers';\n\n// Stats used for buy/roll methods (exclude Luck from automated systems)\nconst CORE_STATS = ['str', 'dex', 'con', 'int', 'wis', 'cha'];\n\nconst LABELS = {\n  str: 'Strength',\n  dex: 'Dexterity',\n  con: 'Constitution',\n  int: 'Intelligence',\n  wis: 'Wisdom',\n  cha: 'Charisma',\n  luck: 'Luck',\n};\n\n// Standard 27-point buy cost table for scores 8..15\nconst POINT_BUY_COST = { 8: 0, 9: 1, 10: 2, 11: 3, 12: 4, 13: 5, 14: 7, 15: 9 };\nconst MIN_BUY = 8;\nconst MAX_BUY = 15;\nconst POINT_POOL = 27;\n\nfunction calcPointCost(value) {\n  if (value < MIN_BUY) return Infinity;\n  if (value > MAX_BUY) return Infinity;\n  return POINT_BUY_COST[value] ?? Infinity;\n}\n\nexport function AbilityScores({ values, onChange }) {\n  const { maps } = useGameData();\n  const { classesById, racesById, subracesById } = maps;\n  \n  const stats = values?.stats || { str: '', dex: '', con: '', int: '', wis: '', cha: '', luck: '' };\n  const method = values?.abilityScoreMethod || 'random';\n  const selectedRaceId = values?.race || '';\n  const selectedSubraceId = values?.subrace || '';\n  const selectedClassId = values?.class || '';\n\n  const emit = (partial) => { if (typeof onChange === 'function') onChange(partial); };\n\n  // Resolve selected objects from context maps - direct lookup by ID\n  const selectedRace = useMemo(() => racesById[selectedRaceId] || null, [racesById, selectedRaceId]);\n  const selectedSubrace = useMemo(() => subracesById[selectedSubraceId] || null, [subracesById, selectedSubraceId]);\n  const selectedClass = useMemo(() => classesById[selectedClassId] || null, [classesById, selectedClassId]);\n\n  const raceChoiceConfig = useMemo(() => parseAbilityScoreChoiceConfig(selectedRace), [selectedRace]);\n  const subraceChoiceConfig = useMemo(() => parseAbilityScoreChoiceConfig(selectedSubrace), [selectedSubrace]);\n  const raceChoiceMap = useMemo(() => sanitizeChoiceMap(values?.abilityScoreChoices?.race, raceChoiceConfig), [values?.abilityScoreChoices?.race, raceChoiceConfig]);\n  const subraceChoiceMap = useMemo(() => sanitizeChoiceMap(values?.abilityScoreChoices?.subrace, subraceChoiceConfig), [values?.abilityScoreChoices?.subrace, subraceChoiceConfig]);\n\n  // Compute modified stats = base + class + race + subrace modifiers\n  const modifiedStats = useMemo(() => {\n    const out = { ...stats };\n    const raceMods = selectedRace?.abilityScoreModifiers || {};\n    const subraceMods = selectedSubrace?.abilityScoreModifiers || {};\n    const classMods = selectedClass?.baseStatModifier || {};\n\n    Object.keys(out).forEach((k) => {\n      const base = parseInt(out[k], 10) || 0;\n      const bonus =\n        getModifierValue(raceMods, k) +\n        getModifierValue(subraceMods, k) +\n        getModifierValue(classMods, k) +\n        getChoiceBonus(raceChoiceMap, k) +\n        getChoiceBonus(subraceChoiceMap, k);\n      out[k] = base + bonus;\n    });\n    return out;\n  }, [stats, selectedRace, selectedSubrace, selectedClass, raceChoiceMap, subraceChoiceMap]);\n\n  // Helpers to update base stats\n  const updateStat = (key, val) => {\n    const n = val === '' ? '' : Math.max(1, Math.min(30, parseInt(val, 10) || 0));\n    emit({ stats: { ...stats, [key]: n } });\n  };\n\n  // Weighted random roll: average 8, each step away from 8 halves the chance\n  // Distribution extends to 20 with exponentially decreasing probability\n  const weightedRoll = () => {\n    const distribution = [\n      { value: 4, weight: 1 },\n      { value: 5, weight: 2 },\n      { value: 6, weight: 4 },\n      { value: 7, weight: 8 },\n      { value: 8, weight: 16 },\n      { value: 9, weight: 8 },\n      { value: 10, weight: 4 },\n      { value: 11, weight: 2 },\n      { value: 12, weight: 1 },\n      { value: 13, weight: 0.5 },\n      { value: 14, weight: 0.25 },\n      { value: 15, weight: 0.125 },\n      { value: 16, weight: 0.0625 },\n      { value: 17, weight: 0.03125 },\n      { value: 18, weight: 0.015625 },\n      { value: 19, weight: 0.0078125 },\n      { value: 20, weight: 0.00390625 }\n    ];\n    const totalWeight = distribution.reduce((sum, item) => sum + item.weight, 0);\n    let random = Math.random() * totalWeight;\n    for (const item of distribution) {\n      random -= item.weight;\n      if (random <= 0) return item.value;\n    }\n    return 4; // fallback\n  };\n\n  const rollWeightedStats = () => {\n    const next = { ...stats };\n    CORE_STATS.forEach((s) => {\n      next[s] = weightedRoll();\n    });\n    emit({ stats: next });\n  };\n\n  // Method selection\n  const setMethod = (m) => {\n    // If switching to point-buy and stats are unset, initialize core stats to 8\n    if (m === 'pointbuy') {\n      const next = { ...stats };\n      CORE_STATS.forEach((s) => {\n        const v = parseInt(next[s], 10);\n        if (!v || v < MIN_BUY || v > MAX_BUY) next[s] = MIN_BUY;\n      });\n      emit({ abilityScoreMethod: m, stats: next });\n      return;\n    }\n    emit({ abilityScoreMethod: m });\n  };\n\n  // Point-buy logic\n  const currentPointTotal = useMemo(() => {\n    if (method !== 'pointbuy') return POINT_POOL; // Not used\n    let spent = 0;\n    for (const s of CORE_STATS) {\n      const v = parseInt(stats[s], 10) || MIN_BUY;\n      const clamped = Math.min(Math.max(v, MIN_BUY), MAX_BUY);\n      spent += calcPointCost(clamped);\n    }\n    return POINT_POOL - spent;\n  }, [method, stats]);\n\n  const incStatBuy = (code) => {\n    const current = parseInt(stats[code], 10) || MIN_BUY;\n    const nextVal = Math.min(current + 1, MAX_BUY);\n    if (nextVal === current) return;\n\n    // Check point availability\n    const curCost = calcPointCost(Math.min(Math.max(current, MIN_BUY), MAX_BUY));\n    const nextCost = calcPointCost(nextVal);\n    const delta = nextCost - curCost;\n    if (currentPointTotal - delta < 0) return; // Not enough points\n\n    emit({ stats: { ...stats, [code]: nextVal } });\n  };\n\n  const decStatBuy = (code) => {\n    const current = parseInt(stats[code], 10) || MIN_BUY;\n    const nextVal = Math.max(current - 1, MIN_BUY);\n    if (nextVal === current) return;\n    emit({ stats: { ...stats, [code]: nextVal } });\n  };\n\n  const StatPointBuyRow = ({ code }) => {\n    const v = parseInt(stats[code], 10) || MIN_BUY;\n    const clamped = Math.min(Math.max(v, MIN_BUY), MAX_BUY);\n    return (\n      <div className='flex items-center justify-between p-2 bg-website-default-900 border border-website-default-700 rounded'>\n        <div className='text-website-default-100 text-sm'>{LABELS[code]}</div>\n        <div className='flex items-center gap-2'>\n          <button\n            onClick={() => decStatBuy(code)}\n            className='px-2 py-1 text-xs rounded border border-website-default-600 text-website-default-300 hover:border-website-default-400'\n          >-</button>\n          <div className='w-8 text-center text-white'>{clamped}</div>\n          <button\n            onClick={() => incStatBuy(code)}\n            className='px-2 py-1 text-xs rounded border border-website-specials-600 text-white hover:border-website-specials-400'\n          >+</button>\n        </div>\n      </div>\n    );\n  };\n\n  const BaseVsModified = () => (\n    <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>\n      {CORE_STATS.map((code) => {\n        const base = parseInt(stats[code], 10) || 0;\n        const mod = parseInt(modifiedStats[code], 10) || 0;\n        const delta = mod - base;\n        const positive = delta > 0;\n        const negative = delta < 0;\n        return (\n          <div key={code} className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n            <div className='flex items-center justify-between'>\n              <div className='text-website-default-100 text-sm font-semibold'>{LABELS[code]}</div>\n              <div className='text-sm'>\n                <span className='text-website-default-300'>Base:</span> <span className='text-white font-semibold'>{base}</span>\n                <span className='mx-2 text-website-default-500'></span>\n                <span className='text-website-default-300'>Modified:</span> <span className='text-white font-semibold'>{mod}</span>\n                {delta !== 0 && (\n                  <span className={`ml-2 text-xs ${positive ? 'text-website-highlights-400' : 'text-website-specials-400'}`}>\n                    {positive ? `+${delta}` : `${delta}`}\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n\n  return (\n    <div className='bg-website-default-900 min-h-screen grid grid-cols-1 md:grid-cols-[1fr_2fr_1fr]'>\n      <div className='p-4 space-y-4  md:col-start-2'>\n\n        <div className='flex flex-row p-4 space-x-4 border-b border-website-specials-500'>\n          <CircleUser size={48} />\n          <div className='flex flex-col'>\n            <div className='text-left text-l font-semibold'>Character Name</div>\n            <input \n              type='text'\n              placeholder='Name...'\n              className='border-b border-website-highlights-400 bg-website-default-900 focus:outline-none focus:bg-gradient-to-t from-website-highlights-500 to-website-default-900'\n              value={values.name || ''}\n              onChange={(e) => emit({ name: e.target.value })}\n            />\n          </div>\n        </div>\n\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Ability Scores</Card.Title>\n            <Card.Description className='text-website-default-300'>Choose how to generate your base scores and see final modified totals.</Card.Description>\n          </Card.Header>\n          <Card.Content className='space-y-6'>\n            {/* Method Selector */}\n            <div className='flex flex-col md:flex-row md:items-center md:justify-between gap-3 p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n              <div className='text-website-default-300 text-sm'>Generation Method</div>\n              <div className='flex items-center gap-3'>\n                <label className='flex items-center gap-1 text-sm text-white'>\n                  <input type='radio' name='method' value='random' checked={method === 'random'} onChange={() => setMethod('random')} /> Randomized\n                </label>\n                <label className='flex items-center gap-1 text-sm text-white'>\n                  <input type='radio' name='method' value='pointbuy' checked={method === 'pointbuy'} onChange={() => setMethod('pointbuy')} /> Point Buy\n                </label>\n              </div>\n            </div>\n\n            {/* Randomized */}\n            {method === 'random' && (\n              <div className='space-y-4'>\n                <div className='flex items-center justify-between'>\n                  <div className='text-website-default-300 text-sm'>Weighted random (average 8), assign to core abilities</div>\n                  <button onClick={rollWeightedStats} className='flex items-center gap-2 px-3 py-2 rounded border border-website-highlights-600 text-white hover:border-website-highlights-400'>\n                    <Shuffle size={16} /> Roll\n                  </button>\n                </div>\n                <div className='grid grid-cols-1 md:grid-cols-3 gap-4'>\n                  {CORE_STATS.map((s) => (\n                    <div key={s} className='flex flex-col'>\n                      <label className='text-sm text-website-default-300 mb-1'>{LABELS[s]}</label>\n                      <input type='number' min='1' max='30' className='rounded border border-website-specials-500 bg-website-default-900 px-3 py-2 focus:outline-none' value={stats[s] ?? ''} onChange={(e) => updateStat(s, e.target.value)} />\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Point Buy */}\n            {method === 'pointbuy' && (\n              <div className='space-y-4'>\n                <div className='flex items-center justify-between p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                  <div className='text-website-default-300 text-sm'>Point Pool</div>\n                  <div className={`text-sm font-semibold ${currentPointTotal < 0 ? 'text-website-specials-400' : 'text-white'}`}>{currentPointTotal} / {POINT_POOL}</div>\n                </div>\n                <div className='grid grid-cols-1 md:grid-cols-2 gap-3'>\n                  {CORE_STATS.map((s) => (\n                    <StatPointBuyRow key={s} code={s} />\n                  ))}\n                </div>\n                <div className='text-xs text-website-default-400'>\n                  Costs: 8=0, 9=1, 10=2, 11=3, 12=4, 13=5, 14=7, 15=9. Min 8, Max 15.\n                </div>\n              </div>\n            )}\n\n            {/* Base vs Modified */}\n            <div className='mt-6'>\n              <h4 className='text-website-default-100 font-semibold mb-2'>Base vs Modified</h4>\n              <BaseVsModified />\n            </div>\n          </Card.Content>\n        </Card>\n      </div>\n      <div></div>\n    </div>\n  );\n}\n\nexport default AbilityScores;\n","import React, { useMemo, useState } from 'react';\nimport { Card } from '../../../pageComponents/card';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  getChoiceBonus,\n  getModifierValue,\n  parseAbilityScoreChoiceConfig,\n  sanitizeChoiceMap\n} from '../utils/abilityScoreModifiers';\n\nconst LABELS = {\n  str: 'Strength',\n  dex: 'Dexterity',\n  con: 'Constitution',\n  int: 'Intelligence',\n  wis: 'Wisdom',\n  cha: 'Charisma',\n};\n\nconst toTagArray = (value) => {\n  if (Array.isArray(value)) {\n    return [...new Set(value.map((entry) => String(entry).trim()).filter(Boolean))];\n  }\n  if (typeof value === 'string') {\n    return [...new Set(\n      value\n        .split(/[\\n,]/g)\n        .map((entry) => entry.trim())\n        .filter(Boolean)\n    )];\n  }\n  return [];\n};\n\nconst toTitleCase = (value) => {\n  if (!value) return '';\n  return String(value)\n    .replace(/([A-Z])/g, ' $1')\n    .replace(/^./, (char) => char.toUpperCase())\n    .trim();\n};\n\nexport function Summary({ values, onSave, classes = [], subclasses = [], races = [], subraces = [], backgrounds = [] }) {\n  const character = values || {};\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState('');\n\n  const navigate = useNavigate();\n\n  const handleSave = async () => {\n    if (isSaving) return;\n\n    setIsSaving(true);\n    setSaveError('');\n    try {\n      const response = (typeof onSave === 'function')\n        ? await onSave()\n        : { success: false, message: 'Save handler unavailable' };\n\n      if (!response?.success) {\n        setSaveError(response?.message || 'Failed to save character');\n        return;\n      }\n\n      navigate(`/ISK/${sessionStorage.getItem(\"session_ID\")}/character`);\n    } catch (error) {\n      setSaveError(error?.message || 'Failed to save character');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const selectedClass = useMemo(() => classes.find((c) => c._id === character.class), [classes, character.class]);\n  const selectedSubclass = useMemo(() => subclasses.find((sc) => sc._id === character.subclass), [subclasses, character.subclass]);\n  const selectedRace = useMemo(() => races.find((r) => r._id === character.race), [races, character.race]);\n  const selectedSubrace = useMemo(() => subraces.find((sr) => sr._id === character.subrace), [subraces, character.subrace]);\n  const selectedBackground = useMemo(() => backgrounds.find((b) => b._id === character.background), [backgrounds, character.background]);\n  const raceChoiceConfig = useMemo(() => parseAbilityScoreChoiceConfig(selectedRace), [selectedRace]);\n  const subraceChoiceConfig = useMemo(() => parseAbilityScoreChoiceConfig(selectedSubrace), [selectedSubrace]);\n  const raceChoiceMap = useMemo(() => sanitizeChoiceMap(character?.abilityScoreChoices?.race, raceChoiceConfig), [character?.abilityScoreChoices?.race, raceChoiceConfig]);\n  const subraceChoiceMap = useMemo(() => sanitizeChoiceMap(character?.abilityScoreChoices?.subrace, subraceChoiceConfig), [character?.abilityScoreChoices?.subrace, subraceChoiceConfig]);\n\n  // Compute modified stats\n  const baseStats = character.stats || {};\n  const modifiedStats = useMemo(() => {\n    const raceMods = selectedRace?.abilityScoreModifiers || {};\n    const subraceMods = selectedSubrace?.abilityScoreModifiers || {};\n    const classMods = selectedClass?.baseStatModifier || {};\n    const out = {};\n    Object.keys(LABELS).forEach((k) => {\n      const base = parseInt(baseStats[k], 10) || 0;\n      const bonus =\n        getModifierValue(raceMods, k) +\n        getModifierValue(subraceMods, k) +\n        getModifierValue(classMods, k) +\n        getChoiceBonus(raceChoiceMap, k) +\n        getChoiceBonus(subraceChoiceMap, k);\n      out[k] = base + bonus;\n    });\n    return out;\n  }, [baseStats, selectedRace, selectedSubrace, selectedClass, raceChoiceMap, subraceChoiceMap]);\n\n  // Proficiencies and languages\n  const proficiencies = character?.skills?.proficiencies || {};\n  const selectedLanguages = Object.keys(character?.skills?.languages || {});\n  const languages = selectedLanguages.length > 0\n    ? selectedLanguages\n    : (selectedSubrace?.languages?.length ? selectedSubrace.languages : selectedRace?.languages || []);\n\n  // Simple inventory summary\n  const gp = character?.inv?.gp ?? 0;\n  const itemCount = character?.inv?.items ? Object.keys(character.inv.items).length : 0;\n  const customization = character?.customization || {};\n  const stories = character?.stories || {};\n  const additionalTraitTags = toTagArray(customization.additionalTraits);\n  const personalityTags = toTagArray(stories.personality);\n  const idealTags = toTagArray(stories.ideals);\n  const flawTags = toTagArray(stories.flaws);\n  const saveLabel = character?._id ? 'Save Changes' : 'Save Character';\n  const currentClassChoices = Object.values(character?.classEquipmentChoices || {}).map((choice) => choice?.optionKey).filter(Boolean);\n  const currentBackgroundChoices = Object.values(character?.backgroundEquipmentChoices || {}).map((choice) => choice?.optionKey).filter(Boolean);\n\n  const requiredChecklist = [\n    { label: 'Name', complete: Boolean(character.name) },\n    { label: 'Class', complete: Boolean(character.class) },\n    { label: 'Race', complete: Boolean(character.race) },\n    { label: 'Background', complete: Boolean(character.background) },\n    {\n      label: 'Ability Scores',\n      complete: Object.keys(LABELS).every((code) => Number.isFinite(parseInt(baseStats[code], 10)))\n    }\n  ];\n  const completeCount = requiredChecklist.filter((item) => item.complete).length;\n  const completionPercent = Math.round((completeCount / requiredChecklist.length) * 100);\n\n  const resolveColorValue = (baseKey, customKey) => {\n    const baseValue = String(customization?.[baseKey] || '').trim();\n    const customValue = String(customization?.[customKey] || '').trim();\n    if (!baseValue) return '';\n    if (baseValue === 'other' && customValue) return customValue;\n    return baseValue;\n  };\n\n  const appearanceColors = {\n    skin: resolveColorValue('skinColor', 'skinColorCustom'),\n    eyes: resolveColorValue('eyeColor', 'eyeColorCustom'),\n    hair: resolveColorValue('hairColor', 'hairColorCustom')\n  };\n\n  const renderTagGroup = (label, tags) => (\n    <div className='space-y-2'>\n      <div className='text-website-default-300 text-xs uppercase tracking-wider'>{label}</div>\n      <div className='flex flex-wrap gap-2'>\n        {tags.length === 0 && (\n          <span className='text-website-default-400 text-xs'>None</span>\n        )}\n        {tags.map((tag) => (\n          <span key={`${label}_${tag}`} className='px-2 py-1 bg-website-default-900 border border-website-default-700 rounded text-xs text-white'>\n            {tag}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n\n  const StatRow = ({ code }) => {\n    const base = parseInt(baseStats[code], 10) || 0;\n    const mod = parseInt(modifiedStats[code], 10) || 0;\n    const delta = mod - base;\n    return (\n      <div className='flex items-center justify-between p-2 bg-website-default-900/50 border border-website-default-700 rounded'>\n        <div className='text-website-default-100 text-sm'>{LABELS[code]}</div>\n        <div className='text-sm'>\n          <span className='text-website-default-300'>Base:</span> <span className='text-white font-semibold'>{base}</span>\n          <span className='mx-2 text-website-default-500'>-&gt;</span>\n          <span className='text-website-default-300'>Final:</span> <span className='text-white font-semibold'>{mod}</span>\n          {delta !== 0 && (\n            <span className={`ml-2 text-xs ${delta > 0 ? 'text-website-highlights-400' : 'text-website-specials-400'}`}>{delta > 0 ? `+${delta}` : `${delta}`}</span>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className='bg-website-default-900 min-h-screen grid grid-cols-1 md:grid-cols-[1fr_2fr_1fr]'>\n      <div className='p-4 space-y-4 md:col-start-2'>\n        {/* Identity */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Character Summary</Card.Title>\n            <Card.Description className='text-website-default-300'>Review your character before saving.</Card.Description>\n          </Card.Header>\n          <Card.Content className='space-y-6'>\n            <div className='flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2'>\n              <div>\n                <div className='text-website-default-300 text-sm'>Name</div>\n                <div className='text-white font-semibold text-lg'>{character.name || '-'}</div>\n              </div>\n              <div className='text-right'>\n                <div className='text-website-default-300 text-sm'>Level</div>\n                <div className='text-white font-semibold text-lg'>{character.level ?? 1}</div>\n              </div>\n            </div>\n\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-3'>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Race</div>\n                <div className='text-white font-semibold'>{selectedRace?.name || '-'}</div>\n                {selectedRace?.description && (\n                  <div className='text-website-default-400 text-xs mt-1'>{selectedRace.description}</div>\n                )}\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Subrace</div>\n                <div className='text-white font-semibold'>{selectedSubrace?.name || '-'}</div>\n                {selectedSubrace?.description && (\n                  <div className='text-website-default-400 text-xs mt-1'>{selectedSubrace.description}</div>\n                )}\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Class</div>\n                <div className='text-white font-semibold'>{selectedClass?.name || '-'}</div>\n                {selectedClass?.description && (\n                  <div className='text-website-default-400 text-xs mt-1'>{selectedClass.description}</div>\n                )}\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Subclass</div>\n                <div className='text-white font-semibold'>{selectedSubclass?.name || '-'}</div>\n                {selectedSubclass?.description && (\n                  <div className='text-website-default-400 text-xs mt-1'>{selectedSubclass.description}</div>\n                )}\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded md:col-span-2'>\n                <div className='text-website-default-300 text-xs'>Background</div>\n                <div className='text-white font-semibold'>{selectedBackground?.name || '-'}</div>\n                {selectedBackground?.description && (\n                  <div className='text-website-default-400 text-xs mt-1'>{selectedBackground.description}</div>\n                )}\n              </div>\n            </div>\n          </Card.Content>\n        </Card>\n\n        {/* Completion */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Creation Readiness</Card.Title>\n            <Card.Description className='text-website-default-300'>Quick completion check before save.</Card.Description>\n          </Card.Header>\n          <Card.Content className='space-y-4'>\n            <div className='flex items-center justify-between text-sm'>\n              <span className='text-website-default-300'>Completion</span>\n              <span className='text-white font-semibold'>{completionPercent}%</span>\n            </div>\n            <div className='h-2 rounded bg-website-default-900 overflow-hidden'>\n              <div\n                className='h-full bg-website-highlights-500 transition-all duration-300'\n                style={{ width: `${completionPercent}%` }}\n              />\n            </div>\n            <div className='grid grid-cols-1 sm:grid-cols-2 gap-2'>\n              {requiredChecklist.map((item) => (\n                <div key={item.label} className='flex items-center justify-between rounded border border-website-default-700 bg-website-default-900/50 px-3 py-2 text-xs'>\n                  <span className='text-website-default-200'>{item.label}</span>\n                  <span className={item.complete ? 'text-website-highlights-400' : 'text-website-specials-400'}>\n                    {item.complete ? 'Ready' : 'Missing'}\n                  </span>\n                </div>\n              ))}\n            </div>\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-website-default-300'>\n              <div className='rounded border border-website-default-700 bg-website-default-900/50 px-3 py-2'>\n                Class Equipment Choices: {currentClassChoices.length > 0 ? currentClassChoices.join(', ') : 'None'}\n              </div>\n              <div className='rounded border border-website-default-700 bg-website-default-900/50 px-3 py-2'>\n                Background Equipment Choices: {currentBackgroundChoices.length > 0 ? currentBackgroundChoices.join(', ') : 'None'}\n              </div>\n            </div>\n          </Card.Content>\n        </Card>\n\n        {/* Appearance & Story */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Appearance & Persona</Card.Title>\n            <Card.Description className='text-website-default-300'>Color choices and story tags.</Card.Description>\n          </Card.Header>\n          <Card.Content className='space-y-4'>\n            <div className='grid grid-cols-2 md:grid-cols-4 gap-3'>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Gender</div>\n                <div className='text-white text-sm font-semibold'>{character?.gender || '-'}</div>\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Alignment</div>\n                <div className='text-white text-sm font-semibold'>{character?.alignment || '-'}</div>\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Age</div>\n                <div className='text-white text-sm font-semibold'>{character?.age?.years || '-'}</div>\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Size</div>\n                <div className='text-white text-sm font-semibold'>{toTitleCase(character?.model?.size) || '-'}</div>\n              </div>\n            </div>\n\n            <div className='grid grid-cols-1 md:grid-cols-3 gap-3'>\n              {Object.entries(appearanceColors).map(([key, value]) => {\n                const isHex = /^#[0-9a-fA-F]{6}$/.test(value || '');\n                const label = key.charAt(0).toUpperCase() + key.slice(1);\n                return (\n                  <div key={key} className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                    <div className='text-website-default-300 text-xs'>{label} Color</div>\n                    <div className='mt-1 flex items-center gap-2'>\n                      {value && (\n                        <span\n                          className='inline-block h-3 w-3 rounded-full border border-website-default-500'\n                          style={isHex ? { backgroundColor: value } : undefined}\n                        />\n                      )}\n                      <span className='text-white text-sm font-semibold'>\n                        {value ? (isHex ? value : toTitleCase(value)) : '-'}\n                      </span>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>\n              {renderTagGroup('Additional Traits', additionalTraitTags)}\n              {renderTagGroup('Personality', personalityTags)}\n              {renderTagGroup('Ideals', idealTags)}\n              {renderTagGroup('Flaws', flawTags)}\n            </div>\n          </Card.Content>\n        </Card>\n\n        {/* Ability Scores */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Ability Scores</Card.Title>\n            <Card.Description className='text-website-default-300'>Base vs final (after class, race, and subrace bonuses).</Card.Description>\n          </Card.Header>\n          <Card.Content className='grid grid-cols-1 md:grid-cols-2 gap-3'>\n            {Object.keys(LABELS).map((code) => (\n              <StatRow key={code} code={code} />\n            ))}\n          </Card.Content>\n        </Card>\n\n        {/* Skills & Proficiencies */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Skills & Proficiencies</Card.Title>\n            <Card.Description className='text-website-default-300'>Selected and granted proficiencies.</Card.Description>\n          </Card.Header>\n          <Card.Content>\n            <div className='flex flex-wrap gap-2'>\n              {Object.keys(proficiencies).length === 0 && (\n                <span className='text-website-default-400 text-sm'>None</span>\n              )}\n              {Object.entries(proficiencies).map(([name, level]) => (\n                <span key={name} className='px-2 py-1 bg-website-default-900 border border-website-default-700 rounded text-sm text-white'>\n                  {toTitleCase(name)}\n                  {typeof level === 'string' ? ` (${level})` : ''}\n                </span>\n              ))}\n            </div>\n          </Card.Content>\n        </Card>\n\n        {/* Languages */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Languages</Card.Title>\n            <Card.Description className='text-website-default-300'>Languages from race/subrace.</Card.Description>\n          </Card.Header>\n          <Card.Content>\n            <div className='flex flex-wrap gap-2'>\n              {(languages || []).length === 0 && (\n                <span className='text-website-default-400 text-sm'>None</span>\n              )}\n              {(languages || []).map((lang) => (\n                <span key={lang} className='px-2 py-1 bg-website-default-900 border border-website-default-700 rounded text-sm text-white'>\n                  {toTitleCase(lang)}\n                </span>\n              ))}\n            </div>\n          </Card.Content>\n        </Card>\n\n        {/* Inventory & Resources */}\n        <Card className='bg-website-default-800 border-website-specials-500'>\n          <Card.Header>\n            <Card.Title className='text-website-default-100'>Inventory & Resources</Card.Title>\n            <Card.Description className='text-website-default-300'>Currency and quick inventory count.</Card.Description>\n          </Card.Header>\n          <Card.Content>\n            <div className='grid grid-cols-1 md:grid-cols-3 gap-3'>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Gold</div>\n                <div className='text-white font-semibold'>{gp}</div>\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Item Count</div>\n                <div className='text-white font-semibold'>{itemCount}</div>\n              </div>\n              <div className='p-3 bg-website-default-900/50 border border-website-default-700 rounded'>\n                <div className='text-website-default-300 text-xs'>Resources</div>\n                <div className='text-white text-sm'>\n                  HP {character.HP?.current ?? 0}/{character.HP?.max ?? 0} |\n                  {' '}STA {character.STA?.current ?? 0}/{character.STA?.max ?? 0} |\n                  {' '}MP {character.MP?.current ?? 0}/{character.MP?.max ?? 0}\n                </div>\n              </div>\n            </div>\n          </Card.Content>\n        </Card>\n\n        {/* Save */}\n        <div className='flex justify-end'>\n          {saveError && (\n            <div className='mr-4 text-sm text-red-400 self-center'>{saveError}</div>\n          )}\n          <button\n            className='px-4 py-2 bg-website-specials-500 text-white rounded hover:bg-website-specials-600 disabled:opacity-60 disabled:cursor-not-allowed'\n            onClick={handleSave}\n            disabled={isSaving}\n          >\n            {isSaving ? 'Saving...' : saveLabel}\n          </button>\n        </div>\n      </div>\n      <div></div>\n    </div>\n  );\n}\n\nexport default Summary;\n\r\n","import Skeleton from \"../../pageComponents/skeleton\"\nimport React, { useContext, useState, useEffect } from 'react';\nimport { createDefaultCharacter } from '../../data/characterDefaults';\nimport { GameDataProvider } from '../../data/gameDataContext';\nimport { Tabs } from '../../pageComponents/tabs'\nimport { ArrowBigLeftDash, ArrowBigRightDash  } from 'lucide-react';\nimport { SocketContext } from \"../../socket.io/context\";\nimport { useParams } from \"react-router-dom\";\nimport { Customization } from \"../characters/characterCreationPages/Customization\"\nimport { Race } from \"../characters/characterCreationPages/Race\"\nimport { Class } from \"../characters/characterCreationPages/Class\"\nimport { Background } from \"../characters/characterCreationPages/Background\"\nimport { AbilityScores } from \"../characters/characterCreationPages/AbilityScores\"\nimport { Summary } from \"../characters/characterCreationPages/Summary\"\nimport {\n  getChoiceBonus,\n  getModifierValue,\n  parseAbilityScoreChoiceConfig,\n  sanitizeChoiceMap\n} from \"./utils/abilityScoreModifiers\"\n\nconst DRAFT_STAT_KEYS = [\"str\", \"dex\", \"con\", \"int\", \"wis\", \"cha\", \"luck\"];\n\nconst toIdString = (value) => {\n  if (!value) return \"\";\n  if (typeof value === \"string\") return value;\n  if (typeof value === \"number\") return String(value);\n  if (typeof value === \"object\") {\n    if (value.$oid) return String(value.$oid);\n    if (value._id?.$oid) return String(value._id.$oid);\n    if (value._id) return String(value._id);\n    if (value.id) return String(value.id);\n  }\n  return String(value);\n};\n\nconst asObject = (value) => {\n  if (!value || typeof value !== \"object\" || Array.isArray(value)) return {};\n  if (value instanceof Map) return Object.fromEntries(value.entries());\n  return value;\n};\n\nconst asStringArray = (value) => {\n  if (!Array.isArray(value)) return [];\n  return value.map((entry) => toIdString(entry)).filter(Boolean);\n};\n\nconst getBaseStatForDraft = (statsSource, lowerKey, upperKey) => {\n  const source = asObject(statsSource);\n  const lowerRaw = source?.[lowerKey];\n  if (lowerRaw !== undefined && lowerRaw !== null && lowerRaw !== \"\") {\n    const numericLower = Number.parseInt(lowerRaw, 10);\n    return Number.isFinite(numericLower) ? numericLower : \"\";\n  }\n\n  const upperRaw = source?.[upperKey];\n  if (upperRaw && typeof upperRaw === \"object\") {\n    const numericUpper = Number.parseInt(\n      upperRaw?.permMods?.base ?? upperRaw?.total ?? upperRaw?.score,\n      10\n    );\n    return Number.isFinite(numericUpper) ? numericUpper : \"\";\n  }\n\n  const fallback = Number.parseInt(upperRaw, 10);\n  return Number.isFinite(fallback) ? fallback : \"\";\n};\n\nconst normalizeProficienciesForDraft = (rawProficiencies) => {\n  const source = asObject(rawProficiencies);\n  const output = {};\n  const structuredKeys = [\"armor\", \"weapons\", \"tools\", \"abilityScore\", \"skills\"];\n  const hasStructuredShape = structuredKeys.some((key) => Array.isArray(source[key]));\n\n  if (hasStructuredShape) {\n    structuredKeys.forEach((key) => {\n      (source[key] || []).forEach((entry) => {\n        const entryKey = String(entry || \"\").trim();\n        if (!entryKey) return;\n        output[entryKey] = \"proficient\";\n      });\n    });\n    return output;\n  }\n\n  Object.entries(source).forEach(([key, value]) => {\n    const entryKey = String(key || \"\").trim();\n    if (!entryKey) return;\n    if (value === false || value === null || value === undefined || value === \"\") return;\n    output[entryKey] = \"proficient\";\n  });\n  return output;\n};\n\nconst normalizeLanguagesForDraft = (rawLanguages) => {\n  if (Array.isArray(rawLanguages)) {\n    return rawLanguages.reduce((acc, language) => {\n      const key = String(language || \"\").trim();\n      if (!key) return acc;\n      acc[key] = \"proficient\";\n      return acc;\n    }, {});\n  }\n\n  const source = asObject(rawLanguages);\n  return Object.entries(source).reduce((acc, [language, level]) => {\n    const key = String(language || \"\").trim();\n    if (!key) return acc;\n    acc[key] = String(level || \"proficient\");\n    return acc;\n  }, {});\n};\n\nconst normalizeChoiceMapForDraft = (rawChoiceMap) => {\n  const source = asObject(rawChoiceMap);\n  return Object.entries(source).reduce((acc, [key, value]) => {\n    const cleanKey = String(key || \"\").trim();\n    const numericValue = Number(value);\n    if (!cleanKey || !Number.isFinite(numericValue) || numericValue <= 0) return acc;\n    acc[cleanKey] = numericValue;\n    return acc;\n  }, {});\n};\n\nconst normalizeInventoryItemsForDraft = (rawItems) => {\n  const source = asObject(rawItems);\n  const output = {};\n  Object.entries(source).forEach(([key, itemEntry]) => {\n    const entryObject = asObject(itemEntry);\n    const itemID = toIdString(entryObject.ItemID || entryObject.itemID || entryObject.itemId);\n    if (!itemID) return;\n    output[key] = {\n      equipped: Boolean(entryObject.equipped),\n      ItemID: itemID,\n    };\n  });\n  return output;\n};\n\nconst normalizeEquipmentForDraft = (rawEquipment) => {\n  const source = asObject(rawEquipment);\n  return Object.entries(source).reduce((acc, [slot, items]) => {\n    if (!Array.isArray(items)) return acc;\n    acc[slot] = asStringArray(items);\n    return acc;\n  }, {});\n};\n\nconst normalizeCharacterToDraft = (rawCharacter = {}) => {\n  const source = asObject(rawCharacter);\n  const draft = createDefaultCharacter();\n\n  const sourceStats = asObject(source.stats);\n  const normalizedStats = {};\n  DRAFT_STAT_KEYS.forEach((key) => {\n    normalizedStats[key] = getBaseStatForDraft(sourceStats, key, key.toUpperCase());\n  });\n\n  const sourceInv = asObject(source.inv);\n  const sourceSkills = asObject(source.skills);\n  const sourceChoices = asObject(source.abilityScoreChoices);\n\n  return {\n    ...draft,\n    _id: toIdString(source._id || source.id),\n    name: String(source.name || \"\"),\n    age: {\n      years: source?.age?.years ?? \"\",\n      month: source?.age?.month ?? \"\",\n      day: source?.age?.day ?? \"\",\n    },\n    gender: String(source.gender || \"\"),\n    model: {\n      size: source?.model?.size ?? \"\",\n      height: source?.model?.height ?? \"\",\n      weight: source?.model?.weight ?? \"\",\n    },\n    alignment: String(source.alignment || \"\"),\n    customization: {\n      ...draft.customization,\n      ...asObject(source.customization),\n      additionalTraits: Array.isArray(source?.customization?.additionalTraits)\n        ? source.customization.additionalTraits\n        : [],\n    },\n    stories: {\n      ...draft.stories,\n      ...asObject(source.stories),\n      personality: Array.isArray(source?.stories?.personality) ? source.stories.personality : [],\n      ideals: Array.isArray(source?.stories?.ideals) ? source.stories.ideals : [],\n      flaws: Array.isArray(source?.stories?.flaws) ? source.stories.flaws : [],\n      relationships: asObject(source?.stories?.relationships),\n    },\n    race: toIdString(source.race),\n    class: toIdString(source.class),\n    subclass: toIdString(source.subclass),\n    subrace: toIdString(source.subrace),\n    background: toIdString(source.background),\n    level: Number.parseInt(source.level, 10) || 1,\n    stats: normalizedStats,\n    abilityScoreChoices: {\n      race: normalizeChoiceMapForDraft(sourceChoices.race),\n      subrace: normalizeChoiceMapForDraft(sourceChoices.subrace),\n    },\n    inv: {\n      ...draft.inv,\n      gp: Number(sourceInv.gp) || 0,\n      items: normalizeInventoryItemsForDraft(sourceInv.items),\n      equipment: {\n        ...draft.inv.equipment,\n        ...normalizeEquipmentForDraft(sourceInv.equipment),\n      },\n    },\n    HP: asObject(source.HP),\n    MP: asObject(source.MP),\n    STA: asObject(source.STA),\n    skills: {\n      active: asObject(sourceSkills.active),\n      passive: asObject(sourceSkills.passive),\n      proficiencies: normalizeProficienciesForDraft(sourceSkills.proficiencies),\n      languages: normalizeLanguagesForDraft(sourceSkills.languages),\n    },\n    effects: Array.isArray(source.effects) ? source.effects : [],\n    actions: Array.isArray(source.actions) ? source.actions : [],\n  };\n};\n\nexport default function Test2(){\n  const socket = useContext(SocketContext)\n  const { characterID } = useParams();\n  const isEditMode = Boolean(characterID);\n  const playerID = localStorage.getItem(\"player_ID\");\n\n  // Single source of truth for the entire character draft\n  const [characterDraft, setCharacterDraft] = useState(() => createDefaultCharacter());\n  const [loadingDraft, setLoadingDraft] = useState(() => isEditMode);\n  const [draftError, setDraftError] = useState(\"\");\n\n  // Load all game data on component mount\n  const [gameData, setGameData] = useState({\n    classes: [],\n    subclasses: [],\n    races: [],\n    subraces: [],\n    backgrounds: [],\n    items: []\n  });\n\n  useEffect(() => {\n    if (!socket) return;\n\n    const collections = ['classes', 'subclasses', 'races', 'subraces', 'backgrounds', 'items'];\n    const results = {};\n    let completedCount = 0;\n\n    console.log('Starting data load...');\n\n    collections.forEach(collection => {\n      socket.emit(\n        'database_query',\n        {\n          collection: collection,\n          operation: 'findAll',\n        },\n        (response) => {\n          const success = !!response?.success;\n          console.log(`Loaded ${collection}:`, success ? `${response.data.length} items` : response?.message);\n\n          if (success) {\n            results[collection] = response.data || [];\n          } else {\n            results[collection] = [];\n            console.error(`Failed to load ${collection}:`, response?.message);\n          }\n\n          completedCount += 1;\n          console.log(`Progress: ${completedCount}/${collections.length}`);\n\n          // Update state when all collections complete (success or failure)\n          if (completedCount === collections.length) {\n            console.log('All data requests completed, updating state');\n            setGameData({\n              classes: results.classes || [],\n              subclasses: results.subclasses || [],\n              races: results.races || [],\n              subraces: results.subraces || [],\n              backgrounds: results.backgrounds || [],\n              items: results.items || []\n            });\n          }\n        }\n      );\n    });\n  }, [socket]);\n\n  // Deep-merge helper to apply partial patches from child pages\nconst deepMerge = (t, s) => {\n    if (!s || typeof s !== 'object') return t;\n    const out = Array.isArray(t) ? [...t] : { ...t };\n    for (const [k, v] of Object.entries(s)) {\n      // Special case: completely replace proficiencies object\n      if (k === 'proficiencies') {\n        out[k] = v;\n      } else if (v && typeof v === 'object' && !Array.isArray(v)) {\n        out[k] = deepMerge(out[k] || {}, v);\n      } else {\n        out[k] = v;\n      }\n    }\n    return out;\n};\n\nconst hasOwn = (obj, key) => Object.prototype.hasOwnProperty.call(obj || {}, key);\n\nconst getPathValue = (obj, path) => path.reduce((acc, key) => (acc == null ? undefined : acc[key]), obj);\n\nconst hasPath = (obj, path) => {\n  let current = obj;\n  for (const key of path) {\n    if (!hasOwn(current, key)) return false;\n    current = current[key];\n  }\n  return true;\n};\n\nconst setPathValue = (obj, path, value) => {\n  if (!path.length) return;\n  let current = obj;\n  for (let i = 0; i < path.length - 1; i += 1) {\n    const key = path[i];\n    if (!current[key] || typeof current[key] !== 'object') {\n      current[key] = {};\n    }\n    current = current[key];\n  }\n  current[path[path.length - 1]] = value;\n};\n\nconst REPLACE_PATHS = [\n  ['skills'],\n  ['abilityScoreChoices'],\n  ['proficiencyChoices'],\n  ['classEquipmentChoices'],\n  ['classAnyItemSelections'],\n  ['backgroundEquipmentChoices'],\n  ['backgroundAnyItemSelections'],\n  ['inv', 'items'],\n  ['inv', 'equipment']\n];\n\n  // Update function passed to children to merge partial updates\nconst updateDraft = React.useCallback((partial) => {\n    setCharacterDraft(prev => {\n      const updated = deepMerge(prev, partial);\n      REPLACE_PATHS.forEach((path) => {\n        if (!hasPath(partial, path)) return;\n        setPathValue(updated, path, getPathValue(partial, path));\n      });\n      return updated;\n    });\n}, []);\n\n  useEffect(() => {\n    if (!isEditMode) {\n      setLoadingDraft(false);\n      setDraftError(\"\");\n      return;\n    }\n\n    if (!socket) return;\n\n    if (!playerID) {\n      setDraftError(\"Missing player ID\");\n      setLoadingDraft(false);\n      return;\n    }\n\n    let cancelled = false;\n    setLoadingDraft(true);\n    setDraftError(\"\");\n\n    socket.emit(\n      \"character_getViewData\",\n      {\n        playerID,\n        characterID,\n        contextKey: \"base\",\n      },\n      (response) => {\n        if (cancelled) return;\n\n        if (!response?.success) {\n          setDraftError(response?.message || \"Failed to load character for editing\");\n          setLoadingDraft(false);\n          return;\n        }\n\n        const loadedDraft = normalizeCharacterToDraft(response.rawCharacter || {});\n        setCharacterDraft(loadedDraft);\n        setDraftError(\"\");\n        setLoadingDraft(false);\n      }\n    );\n\n    return () => {\n      cancelled = true;\n    };\n  }, [socket, playerID, characterID, isEditMode]);\n\n  // Compute final stats, features, and resources before saving\n  const characterCreation = () => {\n    const getById = (arr, id) => (arr || []).find(x => x && x._id === id);\n\n    const level = parseInt(characterDraft.level, 10) || 1;\n    const cls = getById(gameData.classes, characterDraft.class);\n    const race = getById(gameData.races, characterDraft.race);\n    const subrace = getById(gameData.subraces, characterDraft.subrace);\n\n    const baseStats = characterDraft.stats || {};\n    const classMods = (cls && cls.baseStatModifier) || {};\n    const raceMods = (race && race.abilityScoreModifiers) || {};\n    const subraceMods = (subrace && subrace.abilityScoreModifiers) || {};\n    const raceChoiceConfig = parseAbilityScoreChoiceConfig(race);\n    const subraceChoiceConfig = parseAbilityScoreChoiceConfig(subrace);\n    const raceChoiceMap = sanitizeChoiceMap(characterDraft?.abilityScoreChoices?.race, raceChoiceConfig);\n    const subraceChoiceMap = sanitizeChoiceMap(characterDraft?.abilityScoreChoices?.subrace, subraceChoiceConfig);\n\n    // Calculate final stats (Luck excluded from pipeline, but kept if present)\n    const STAT_KEYS = ['str','dex','con','int','wis','cha'];\n    const finalStats = {};\n    const baseStatsWithChoice = {};\n    for (const k of STAT_KEYS) {\n      const base = parseInt(baseStats[k], 10) || 0;\n      const choiceBonus = getChoiceBonus(raceChoiceMap, k) + getChoiceBonus(subraceChoiceMap, k);\n      baseStatsWithChoice[k] = base + choiceBonus;\n      finalStats[k] =\n        baseStatsWithChoice[k] +\n        getModifierValue(classMods, k) +\n        getModifierValue(raceMods, k) +\n        getModifierValue(subraceMods, k);\n    }\n    // Preserve any additional stats (e.g., luck) as-is\n    Object.keys(baseStats || {}).forEach(k => {\n      if (!STAT_KEYS.includes(k)) {\n        const parsed = parseInt(baseStats[k], 10) || 0;\n        finalStats[k] = parsed;\n        baseStatsWithChoice[k] = parsed;\n      }\n    });\n\n    // Resource computation parameters (base and per-level increments may be provided by mods outside classes)\n    const resourceBase = (cls && (cls.resourceBase || cls.resourcePoolModifier)) || { HP: 0, MP: 0, STA: 0 };\n    const resourceLevelUp = (cls && cls.resourceLevelUp) || { HP: 0, MP: 0, STA: 0 };\n\n    const DEX = finalStats.dex || 0;\n    const WIS = finalStats.wis || 0;\n    const CON = finalStats.con || 0;\n\n    // max STA = 2 * DEX * (1 + Base STA + (level / 2 * STA level up))\n    const maxSTA = Math.floor(2 * DEX * (1 + (resourceBase.STA || 0) + ((level / 2) * (resourceLevelUp.STA || 0))));\n    // max MP = WIS * (1 + Base MP + (level / 2 * MP level up))\n    const maxMP = Math.floor(WIS * (1 + (resourceBase.MP || 0) + ((level / 2) * (resourceLevelUp.MP || 0))));\n    // max HP = CON * (1 + Base HP + (level / 2 * HP level up))\n    const maxHP = Math.floor(CON * (1 + (resourceBase.HP || 0) + ((level / 2) * (resourceLevelUp.HP || 0))));\n\n    // Merge explicit language choices with race/subrace grants\n    const langsArr = [\n      ...(Array.isArray(race?.languages) ? race.languages : []),\n      ...(Array.isArray(subrace?.languages) ? subrace.languages : []),\n    ];\n    const langsMap = { ...(characterDraft.skills?.languages || {}) };\n    langsArr.forEach(l => {\n      if (!langsMap[l]) langsMap[l] = 'native';\n    });\n\n    // Prepare payload aligned with server schema\n    const payload = {\n      ...characterDraft,\n      abilityScoreChoices: {\n        ...(characterDraft.abilityScoreChoices || {}),\n        race: raceChoiceMap,\n        subrace: subraceChoiceMap\n      },\n      // Submit base stats with choice bonuses folded in.\n      stats: baseStatsWithChoice,\n      abilityScoreChoicesAppliedToBase: true,\n      HP: { ...(characterDraft.HP || {}), max: maxHP, current: Math.max(0, Math.min(characterDraft.HP?.current ?? maxHP, maxHP)) },\n      MP: { ...(characterDraft.MP || {}), max: maxMP, current: Math.max(0, Math.min(characterDraft.MP?.current ?? maxMP, maxMP)) },\n      STA: { ...(characterDraft.STA || {}), max: maxSTA, current: Math.max(0, Math.min(characterDraft.STA?.current ?? maxSTA, maxSTA)) },\n      // Conform skills schema\n      skills: {\n        active: characterDraft.skills?.active || {},\n        passive: characterDraft.skills?.passive || {},\n        proficiencies: characterDraft.skills?.proficiencies || {},\n        languages: langsMap,\n      },\n    };\n\n    if (!socket) {\n      return Promise.resolve({ success: false, message: 'Socket unavailable' });\n    }\n    if (!playerID) {\n      return Promise.resolve({ success: false, message: 'Missing player ID' });\n    }\n\n    return new Promise((resolve) => {\n      console.log({ character: payload, playerID });\n      socket.emit('playerData_saveCharacter', { character: payload, playerID }, (response) => {\n        if (!response) {\n          const noResponse = { success: false, message: 'No server response' };\n          console.error(noResponse.message);\n          resolve(noResponse);\n          return;\n        }\n\n        if (!response.success) {\n          console.error('Character save failed:', response.message);\n        } else {\n          console.log('Character save success');\n        }\n        resolve(response);\n      });\n    });\n  };\n\n  if (isEditMode && loadingDraft) {\n    return (\n      <Skeleton>\n        <div className=\"bg-website-default-900 text-website-default-100 p-8 text-center\">\n          Loading character data...\n        </div>\n      </Skeleton>\n    );\n  }\n\n  if (isEditMode && draftError) {\n    return (\n      <Skeleton>\n        <div className=\"bg-website-default-900 text-red-400 p-8 text-center\">\n          Error: {draftError}\n        </div>\n      </Skeleton>\n    );\n  }\n\n  return (\n    <Skeleton>\n      <div className=\"bg-website-default-900 text-center p-4 shadow-lg text-website-default-100 flex flex-row items-center justify-center space-x-8\">\n        <GameDataProvider gameData={gameData}>\n          <Tabs defaultTab={0}>\n          <Tabs.Prev className=\"fixed left-20 top-1/2 -translate-y-1/2 z-50\">\n            <ArrowBigLeftDash />\n          </Tabs.Prev>\n          <Tabs.Next max={5} className=\"fixed right-20 top-1/2 -translate-y-1/2 z-50\">\n            <ArrowBigRightDash  />\n          </Tabs.Next>\n          <Tabs.Nav className='flex flex-row justify-center items-center'>\n            <Tabs.Tab index={0}>Customization</Tabs.Tab>\n            <Tabs.Tab index={1}>Class</Tabs.Tab>\n            <Tabs.Tab index={2}>Background</Tabs.Tab>\n            <Tabs.Tab index={3}>Race</Tabs.Tab>\n            <Tabs.Tab index={4}>Ability Score</Tabs.Tab>\n            <Tabs.Tab index={5}>Summary</Tabs.Tab>\n          </Tabs.Nav>\n\n          <Tabs.Panels>\n            <Tabs.Panel index={0} >\n              <Customization values={characterDraft} onChange={updateDraft} />\n            </Tabs.Panel>\n\n            <Tabs.Panel index={1}>\n              <Class values={characterDraft} onChange={updateDraft} classes={gameData.classes} subclasses={gameData.subclasses} />\n            </Tabs.Panel>\n\n            <Tabs.Panel index={2}>\n              <Background \n                values={characterDraft} \n                onChange={updateDraft} \n                backgrounds={gameData.backgrounds} \n                items={gameData.items}\n                classes={gameData.classes}  // Add this line\n            />\n            </Tabs.Panel>\n\n            <Tabs.Panel index={3}>\n              <Race values={characterDraft} onChange={updateDraft} />\n            </Tabs.Panel>\n\n            <Tabs.Panel index={4}>\n              <AbilityScores values={characterDraft} onChange={updateDraft} />\n            </Tabs.Panel>\n\n            \n            <Tabs.Panel index={5}>\n              <Summary values={characterDraft} onChange={updateDraft} onSave={characterCreation} classes={gameData.classes} subclasses={gameData.subclasses} races={gameData.races} subraces={gameData.subraces} backgrounds={gameData.backgrounds} />\n            </Tabs.Panel>\n          </Tabs.Panels>\n        </Tabs>\n        </GameDataProvider>\n      </div>\n    </Skeleton>\n  )\n}\n","import React, { useState } from 'react';\r\n\r\nexport default function EquipmentViewer({ equipment, gp }) {\r\n  const [activeTab, setActiveTab] = useState('armor');\r\n  const [expandedSlot, setExpandedSlot] = useState(null);\r\n\r\n  const equipmentGroups = {\r\n    armor: [\r\n      { key: \"head\", label: \"Head\" },\r\n      { key: \"body\", label: \"Chest\" },\r\n      { key: \"back\", label: \"Back\" },\r\n      { key: \"arms\", label: \"Arms\" },\r\n      { key: \"hands\", label: \"Hands\" },\r\n      { key: \"legs\", label: \"Legs\" },\r\n      { key: \"feet\", label: \"Feet\" },\r\n    ],\r\n    weapons: [\r\n      { key: \"weapon\", label: \"Main Hand\" },\r\n      { key: \"fists\", label: \"Off-Hand\" },\r\n    ],\r\n    accessories: [\r\n      { key: \"neck\", label: \"Neck\" },\r\n      { key: \"waist\", label: \"Waist\" },\r\n      { key: \"fingers\", label: \"Rings\" },\r\n      { key: \"trinkets\", label: \"Trinkets\" },\r\n      { key: \"face\", label: \"Face\" },\r\n      { key: \"eyes\", label: \"Eyes\" },\r\n    ]\r\n  };\r\n\r\n  const Slot = ({ slotKey, label }) => {\r\n    const items = equipment?.[slotKey] || [];\r\n    const hasItems = items.length > 0;\r\n    const isExpanded = expandedSlot === slotKey;\r\n\r\n    return (\r\n      <div className=\"flex flex-col items-center relative\">\r\n        {/* Main Slot Button */}\r\n        <button \r\n          onClick={() => setExpandedSlot(isExpanded ? null : slotKey)}\r\n          className={`w-14 h-14 rounded-lg border-2 flex flex-col items-center justify-center transition-all relative\r\n            ${hasItems \r\n              ? 'bg-red-900/30 border-red-600 shadow-[0_0_10px_rgba(220,38,38,0.3)]' \r\n              : 'bg-black/40 border-white/10 hover:border-white/30'}`}\r\n        >\r\n          {hasItems ? (\r\n            <>\r\n              <span className=\"text-[9px] text-white font-black truncate px-1 w-full leading-tight\">\r\n                {items[0].name}\r\n              </span>\r\n              {items.length > 1 && (\r\n                <div className=\"absolute -top-1 -right-1 bg-red-600 text-[8px] font-bold px-1 rounded-sm border border-white/20\">\r\n                  +{items.length - 1}\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <span className=\"text-[8px] text-gray-700 font-black uppercase tracking-tighter\">Empty</span>\r\n          )}\r\n        </button>\r\n        <span className=\"text-[9px] mt-1 text-gray-500 font-bold uppercase tracking-tighter\">{label}</span>\r\n\r\n        {/* Expanded Items Overlay */}\r\n        {isExpanded && (\r\n          <div className=\"absolute top-16 z-50 bg-[#1a1a1a] border border-red-900 rounded-md shadow-2xl p-2 min-w-[120px] max-h-[200px] overflow-y-auto ring-4 ring-black/50\">\r\n            <div className=\"text-[8px] text-red-500 font-black uppercase mb-2 border-b border-red-900/30\">Equipped {label}</div>\r\n            {hasItems ? (\r\n              <div className=\"space-y-1\">\r\n                {items.map((item, idx) => (\r\n                  <div key={idx} className=\"text-[10px] text-gray-200 bg-black/40 p-1.5 rounded border border-white/5 hover:bg-red-950/30 transition-colors\">\r\n                    {item.name || \"Unknown Item\"}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-[10px] text-gray-600 italic\">No {label} equipped.</div>\r\n            )}\r\n            <button \r\n              onClick={() => setExpandedSlot(null)}\r\n              className=\"w-full mt-2 text-[8px] text-gray-500 hover:text-white uppercase font-bold py-1 border-t border-white/5\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-website-default-800/90 p-4 rounded-xl border border-white/10 shadow-2xl backdrop-blur-md\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest underline decoration-red-900/50 underline-offset-4\">Equipment</h3>\r\n        <div className=\"flex gap-3\">\r\n          <div className=\"flex items-center gap-1.5 px-3 py-1 bg-black/60 rounded-full border border-amber-900/50\">\r\n            <span className=\"text-amber-500 text-xs font-bold tracking-tighter\">{gp || 0} GP</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"grid grid-cols-3 gap-1 mb-8 bg-black/60 p-1 rounded-lg border border-white/5\">\r\n        {Object.keys(equipmentGroups).map((group) => (\r\n          <button\r\n            key={group}\r\n            onClick={() => { setActiveTab(group); setExpandedSlot(null); }}\r\n            className={`py-1.5 text-[10px] font-black uppercase tracking-widest transition-all rounded-md\r\n              ${activeTab === group ? 'bg-red-900 text-white shadow-lg' : 'text-gray-500 hover:text-gray-300'}`}\r\n          >\r\n            {group}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"min-h-[380px] flex items-center justify-center\">\r\n        {activeTab === 'armor' && (\r\n          <div className=\"grid grid-cols-3 gap-y-6 gap-x-12 place-items-center\">\r\n            <div className=\"col-start-2\"><Slot slotKey=\"head\" label=\"Head\" /></div>\r\n            <div className=\"col-start-1 row-start-2\"><Slot slotKey=\"back\" label=\"Back\" /></div>\r\n            <div className=\"col-start-2 row-start-2\"><Slot slotKey=\"body\" label=\"Chest\" /></div>\r\n            <div className=\"col-start-3 row-start-2\"><Slot slotKey=\"arms\" label=\"Arms\" /></div>\r\n            <div className=\"col-start-1 row-start-3\"><Slot slotKey=\"hands\" label=\"Hands\" /></div>\r\n            <div className=\"col-start-2 row-start-3\"><Slot slotKey=\"legs\" label=\"Legs\" /></div>\r\n            <div className=\"col-start-3 row-start-3\"><Slot slotKey=\"feet\" label=\"Feet\" /></div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'weapons' && (\r\n          <div className=\"flex gap-12\">\r\n            <Slot slotKey=\"weapon\" label=\"Main Hand\" />\r\n            <Slot slotKey=\"fists\" label=\"Off-Hand\" />\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'accessories' && (\r\n          <div className=\"grid grid-cols-2 gap-y-8 gap-x-16\">\r\n            <Slot slotKey=\"neck\" label=\"Necklace\" />\r\n            <Slot slotKey=\"waist\" label=\"Belt\" />\r\n            <Slot slotKey=\"fingers\" label=\"Rings\" />\r\n            <Slot slotKey=\"trinkets\" label=\"Trinkets\" />\r\n            <Slot slotKey=\"face\" label=\"Face\" />\r\n            <Slot slotKey=\"eyes\" label=\"Eyes\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect, useContext, useMemo } from 'react';\r\nimport { CircleUser, X, Shield, Sword, Box, Info } from 'lucide-react';\r\nimport { SocketContext } from \"../../../socket.io/context\";\r\n\r\nexport default function InventoryBox({ inventory, characterWeight = 0 }) {\r\n    const socket = useContext(SocketContext);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [filter, setFilter] = useState(\"All\");\r\n    const [dbItems, setDbItems] = useState([]);\r\n    const [selectedItem, setSelectedItem] = useState(null); // State for the pop-up\r\n\r\n    useEffect(() => {\r\n        if (!socket) return;\r\n        socket.emit('database_query', {\r\n            collection: 'items',\r\n            operation: 'findAll',\r\n        }, (response) => {\r\n            if (response.success) {\r\n                setDbItems(response.data);\r\n            }\r\n        });\r\n    }, [socket]);\r\n\r\n    const allItems = useMemo(() => {\r\n        const invItemsMap = inventory?.inv?.items || inventory?.items || {};\r\n        const keys = Object.keys(invItemsMap);\r\n\r\n        return keys.map(key => {\r\n            const instance = invItemsMap[key];\r\n            const charItemID = (instance.ItemID?.$oid || instance.ItemID || \"\").toString();\r\n\r\n            const template = dbItems.find(dbItem => \r\n                (dbItem._id?.$oid || dbItem._id || \"\").toString() === charItemID || dbItem.itemId === charItemID\r\n            );\r\n\r\n            return {\r\n                instanceId: (instance._id?.$oid || instance._id || key).toString(),\r\n                equipped: instance.equipped,\r\n                name: template?.name || \"Unknown Item\",\r\n                description: template?.description || \"No description provided.\",\r\n                // Correctly parsing nested properties\r\n                type: template?.properties?.type || template?.attributes?.[0] || \"Misc\",\r\n                weight: template?.weight || 0,\r\n                rarity: template?.rarity || \"common\",\r\n                properties: template?.properties || {}, // Pass raw properties for the modal\r\n                icon: template?.properties?.type === \"Weapon\" ? \"\" : \"\"\r\n            };\r\n        });\r\n    }, [inventory, dbItems]);\r\n\r\n    const filteredItems = allItems.filter(item => {\r\n        const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const matchesFilter = filter === \"All\" || \r\n            (filter === \"Weapons\" && item.type.toLowerCase() === \"weapon\") || \r\n            (filter === \"Misc\" && item.type.toLowerCase() !== \"weapon\");\r\n        return matchesSearch && matchesFilter;\r\n    });\r\n\r\n    return (\r\n        <div className=\"relative bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md flex flex-col h-[500px]\">\r\n            {/* Header & Search */}\r\n            <div className=\"p-4 bg-black/40 border-b border-white/5 space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest\">Carried Items</h3>\r\n                    <span className=\"text-[10px] text-gray-500 font-bold\">Slots: {allItems.length}</span>\r\n                </div>\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Search...\"\r\n                    className=\"w-full bg-black/60 border border-white/10 rounded px-3 py-1.5 text-xs text-white outline-none focus:border-red-500/50\"\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            {/* Filter Tabs */}\r\n            <div className=\"flex border-b border-white/5 bg-black/20\">\r\n                {[\"All\", \"Weapons\", \"Misc\"].map((cat) => (\r\n                    <button key={cat} onClick={() => setFilter(cat)} className={`px-4 py-2 text-[9px] font-black uppercase transition-colors ${filter === cat ? 'text-red-500 border-b-2 border-red-600' : 'text-gray-500 hover:text-gray-300'}`}>\r\n                        {cat}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Item List */}\r\n            <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\r\n                {filteredItems.map((item) => (\r\n                    <div \r\n                        key={item.instanceId} \r\n                        onClick={() => setSelectedItem(item)}\r\n                        className=\"flex items-center justify-between p-2 bg-black/20 border border-white/5 rounded cursor-pointer hover:bg-white/5 transition-all group\"\r\n                    >\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-8 h-8 bg-black/40 border border-white/10 rounded flex items-center justify-center group-hover:border-red-500/50\">{item.icon}</div>\r\n                            <div className=\"flex flex-col\">\r\n                                <span className=\"text-xs font-bold text-gray-200\">{item.name}</span>\r\n                                <span className=\"text-[9px] text-gray-500 uppercase\">{item.type}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"text-[10px] text-gray-600 font-bold\">{item.weight} lbs</div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* ITEM DETAIL POPUP (MODAL) */}\r\n            {selectedItem && (\r\n                <div className=\"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm\">\r\n                    <div className=\"w-full max-w-xs bg-website-default-900 border border-red-900/50 rounded-lg shadow-2xl flex flex-col max-h-[90%]\">\r\n                        {/* Modal Header */}\r\n                        <div className=\"flex justify-between items-center p-3 border-b border-white/10 bg-black/40\">\r\n                            <h4 className=\"text-[10px] font-black text-red-500 uppercase italic\">Item Inspection</h4>\r\n                            <button onClick={() => setSelectedItem(null)} className=\"text-gray-500 hover:text-white\"><X size={14} /></button>\r\n                        </div>\r\n\r\n                        <div className=\"p-4 overflow-y-auto space-y-4\">\r\n                            {/* Item Title */}\r\n                            <div className=\"text-center\">\r\n                                <div className=\"text-2xl mb-2\">{selectedItem.icon}</div>\r\n                                <h2 className=\"text-sm font-bold text-white uppercase tracking-tight\">{selectedItem.name}</h2>\r\n                                <span className={`text-[9px] font-bold px-2 py-0.5 rounded uppercase ${selectedItem.rarity === 'rare' ? 'bg-blue-900/40 text-blue-400' : 'bg-gray-800 text-gray-400'}`}>\r\n                                    {selectedItem.rarity}\r\n                                </span>\r\n                            </div>\r\n\r\n                            {/* Description */}\r\n                            <p className=\"text-[11px] text-gray-400 leading-relaxed bg-black/20 p-2 rounded border border-white/5 italic\">\r\n                                \"{selectedItem.description}\"\r\n                            </p>\r\n\r\n                            {/* Dynamic Properties (Damage, etc.) */}\r\n                            {selectedItem.properties?.damage && (\r\n                                <div className=\"grid grid-cols-2 gap-2\">\r\n                                    {Object.entries(selectedItem.properties.damage).map(([key, val]) => (\r\n                                        <div key={key} className=\"bg-black/40 p-2 rounded border border-white/5 text-center\">\r\n                                            <div className=\"text-[8px] uppercase text-gray-500\">{key}</div>\r\n                                            <div className=\"text-xs font-bold text-red-400\">{val}</div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* USE BUTTONS */}\r\n                            {/* USE BUTTONS */}\r\n<div className=\"space-y-2\">\r\n    <span className=\"text-[9px] font-black text-gray-500 uppercase\">Actions</span>\r\n    <div className=\"grid grid-cols-1 gap-1.5\">\r\n        {Array.isArray(selectedItem.properties?.uses) ? (\r\n            // If it's an array, map it\r\n            selectedItem.properties.uses.map((use) => (\r\n                <button \r\n                    key={use}\r\n                    className=\"w-full py-2 bg-red-900/20 border border-red-700/50 rounded text-[10px] font-black text-red-400 uppercase hover:bg-red-700 hover:text-white transition-all\"\r\n                    onClick={() => console.log(`Action: ${use} on ${selectedItem.name}`)}\r\n                >\r\n                    {use}\r\n                </button>\r\n            ))\r\n        ) : selectedItem.properties?.uses && typeof selectedItem.properties.uses === 'string' ? (\r\n            // If it's just a single string, show one button\r\n            <button \r\n                className=\"w-full py-2 bg-red-900/20 border border-red-700/50 rounded text-[10px] font-black text-red-400 uppercase hover:bg-red-700 hover:text-white transition-all\"\r\n                onClick={() => console.log(`Action: ${selectedItem.properties.uses}`)}\r\n            >\r\n                {selectedItem.properties.uses}\r\n            </button>\r\n        ) : (\r\n            // Fallback if it's missing or an invalid type\r\n            <div className=\"text-[10px] text-gray-600 italic py-2 text-center border border-dashed border-white/10 rounded\">\r\n                No special actions\r\n            </div>\r\n        )}\r\n    </div>\r\n</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function EffectsTab({ effects }) {\r\n  // If your database uses IDs for effects, you might later map these to a lookup table\r\n  const hasEffects = effects && effects.length > 0;\r\n\r\n  return (\r\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md flex flex-col min-h-[400px]\">\r\n      {/* Header */}\r\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\r\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest\">\r\n          Active Conditions & Effects\r\n        </h3>\r\n        <span className=\"bg-red-900/20 text-red-500 text-[10px] font-black px-2 py-0.5 rounded border border-red-900/50\">\r\n          {effects?.length || 0} ACTIVE\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"p-4 flex-1 overflow-y-auto space-y-3 custom-scrollbar\">\r\n        {hasEffects ? (\r\n          effects.map((effect, idx) => (\r\n            <div \r\n              key={idx} \r\n              className=\"relative overflow-hidden bg-black/40 border border-white/5 rounded-lg p-4 group hover:border-red-900/40 transition-all\"\r\n            >\r\n              {/* Decorative side-bar for the effect card */}\r\n              <div className=\"absolute left-0 top-0 bottom-0 w-1 bg-red-600 shadow-[0_0_10px_rgba(220,38,38,0.5)]\" />\r\n              \r\n              <div className=\"flex justify-between items-start\">\r\n                <div className=\"flex flex-col\">\r\n                  <h4 className=\"text-sm font-black text-white uppercase tracking-tight\">\r\n                    {effect.name || \"Unknown Effect\"}\r\n                  </h4>\r\n                  <p className=\"text-[10px] text-gray-500 font-bold uppercase tracking-tighter mb-2\">\r\n                    Source: {effect.source || \"Environmental\"}\r\n                  </p>\r\n                </div>\r\n                \r\n                {/* Duration Badge */}\r\n                <div className=\"text-[9px] font-black bg-white/5 px-2 py-1 rounded text-gray-400 border border-white/5\">\r\n                  {effect.duration || \"Permanent\"}\r\n                </div>\r\n              </div>\r\n\r\n              <p className=\"text-xs text-gray-400 leading-relaxed italic\">\r\n                {effect.description || \"No description provided for this effect.\"}\r\n              </p>\r\n\r\n              {/* Tag system for mechanical changes */}\r\n              {effect.modifiers && (\r\n                <div className=\"mt-3 flex flex-wrap gap-2\">\r\n                  {Object.entries(effect.modifiers).map(([stat, value]) => (\r\n                    <span key={stat} className=\"text-[9px] font-black px-2 py-0.5 bg-red-900/20 text-red-400 rounded border border-red-900/30 uppercase\">\r\n                      {stat} {value >= 0 ? `+${value}` : value}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          /* Empty State */\r\n          <div className=\"h-full flex flex-col items-center justify-center py-20 opacity-20\">\r\n            <div className=\"w-16 h-16 border-4 border-dashed border-gray-500 rounded-full flex items-center justify-center mb-4 text-2xl\">\r\n              \r\n            </div>\r\n            <p className=\"text-[10px] font-black uppercase tracking-widest text-center\">\r\n              No active conditions or <br /> magical effects\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Quick Info Footer */}\r\n      <div className=\"p-3 bg-black/20 border-t border-white/5\">\r\n        <p className=\"text-[9px] text-gray-600 italic leading-tight\">\r\n          Effects are automatically calculated into your total Ability Scores and Vitals.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\n\nconst ACTION_TYPE_LABELS = {\n  action: 'Action',\n  bonusAction: 'Bonus Action',\n  reaction: 'Reaction',\n  movement: 'Movement',\n  free: 'Free',\n  passive: 'Passive',\n  special: 'Special',\n};\n\nconst toTitleCase = (value) => {\n  if (!value) return '';\n  return String(value)\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .replace(/[_-]+/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim()\n    .replace(/\\b\\w/g, (char) => char.toUpperCase());\n};\n\nexport default function ActionsTab({ actions = [] }) {\n  const visibleActions = Array.isArray(actions)\n    ? actions.filter((action) => action?.enabled !== false)\n    : [];\n\n  return (\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md flex flex-col min-h-[320px]\">\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest\">\n          Available Actions\n        </h3>\n        <span className=\"bg-red-900/20 text-red-500 text-[10px] font-black px-2 py-0.5 rounded border border-red-900/50\">\n          {visibleActions.length} READY\n        </span>\n      </div>\n\n      <div className=\"p-4 flex-1 overflow-y-auto space-y-2\">\n        {visibleActions.length === 0 && (\n          <div className=\"h-full flex items-center justify-center text-[10px] uppercase tracking-widest text-gray-500\">\n            No actions available\n          </div>\n        )}\n\n        {visibleActions.map((action, index) => {\n          const type = ACTION_TYPE_LABELS[action.actionType] || toTitleCase(action.actionType || 'action');\n          const source = toTitleCase(action.source || 'custom');\n          return (\n            <div\n              key={action.id || `${action.name}_${index}`}\n              className=\"bg-black/30 border border-white/5 rounded-lg px-3 py-2\"\n            >\n              <div className=\"flex items-center justify-between gap-3\">\n                <div className=\"text-xs font-bold text-white uppercase tracking-tight\">\n                  {action.name || 'Unnamed Action'}\n                </div>\n                <div className=\"text-[9px] text-red-400 font-black uppercase tracking-wider\">\n                  {type}\n                </div>\n              </div>\n              <div className=\"mt-1 text-[10px] text-gray-500 uppercase tracking-wider\">\n                Source: {source}\n              </div>\n              {action.description && (\n                <p className=\"mt-1 text-[11px] text-gray-400 leading-snug\">\n                  {action.description}\n                </p>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\r\n\r\n\r\nexport default function ProfileCard({ character, raceName, className }) {\r\n  if (!character) return null;\r\n\r\n  const { experience, level, alignment, age, model, subclass } = character;\r\n  \r\n  // Experience Progress Calculation\r\n  const currentXP = experience?.current || 0;\r\n  const goalXP = experience?.nextLevel || 1000;\r\n  const xpPercentage = Math.min((currentXP / goalXP) * 100, 100);\r\n\r\n  return (\r\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md\">\r\n      \r\n      {/* HEADER SECTION: Identity & Level Badge */}\r\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\r\n        <div className=\"flex flex-col text-left\">\r\n          <span className=\"text-[10px] font-black text-red-600 uppercase tracking-[0.2em]\">Identity</span>\r\n          <div className=\"flex gap-2 items-center\">\r\n            <h2 className=\"text-xl font-black text-white italic uppercase tracking-tighter\">\r\n              {raceName || \"Race\"} \r\n            </h2>\r\n            <span className=\"text-gray-600 text-sm font-bold\">/</span>\r\n            <h2 className=\"text-xl font-black text-red-500 italic uppercase tracking-tighter\">\r\n              {className || \"Class\"}\r\n            </h2>\r\n          </div>\r\n          {subclass && (\r\n            <span className=\"text-[10px] text-gray-500 font-bold uppercase italic tracking-widest mt-0.5\">\r\n              {subclass}\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Level Hexagon-style Badge */}\r\n        <div className=\"bg-gradient-to-b from-[#1a1a1a] to-[#0a0a0a] border-2 border-red-900 shadow-[0_0_10px_rgba(153,27,27,0.3)] px-3 py-1 rounded-md flex flex-col items-center justify-center min-w-[55px]\">\r\n          <span className=\"text-[8px] font-black text-red-500 uppercase leading-none mb-1\">Level</span>\r\n          <span className=\"text-2xl font-black text-white leading-none\">{level}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* CENTER SECTION: Experience & Alignment */}\r\n      <div className=\"p-4 space-y-5\">\r\n        \r\n\r\n        {/* Experience Tracker */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex justify-between items-end px-1\">\r\n            <span className=\"text-[9px] font-black text-gray-400 uppercase tracking-[0.15em]\">Progression</span>\r\n            <span className=\"text-[10px] font-bold text-gray-200\">\r\n              {currentXP.toLocaleString()} <span className=\"text-gray-500\">/ {goalXP.toLocaleString()} XP</span>\r\n            </span>\r\n          </div>\r\n          \r\n          {/* Main Progress Bar */}\r\n          <div className=\"relative w-full h-3.5 bg-black rounded-full border border-white/10 overflow-hidden shadow-inner\">\r\n            <div \r\n              className=\"absolute h-full bg-gradient-to-r from-red-950 via-red-600 to-red-400 shadow-[0_0_15px_rgba(220,38,38,0.4)] transition-all duration-1000 ease-out\"\r\n              style={{ width: `${xpPercentage}%` }}\r\n            />\r\n            \r\n            {/* Aesthetic Grid Overlay */}\r\n            <div className=\"absolute inset-0 flex justify-around opacity-20 pointer-events-none\">\r\n              {[...Array(10)].map((_, i) => (\r\n                <div key={i} className=\"w-[1px] h-full bg-white/30\" />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-between items-center\">\r\n            <span className=\"text-[8px] text-gray-600 font-bold uppercase tracking-tighter\">\r\n              {xpPercentage.toFixed(1)}% to next level\r\n            </span>\r\n            <span className=\"text-[9px] text-red-900 font-black uppercase italic\">\r\n              {goalXP - currentXP} XP REMAINING\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    \r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default function StoryBox({ character }) {\n  if (!character) return null;\n\n  const { stories } = character;\n  const shortId = String(character?._id?.$oid || character?._id || character?.id || '').substring(0, 8);\n\r\n  // Helper to render lists (Personality, Ideals, Flaws)\r\n  const StorySection = ({ title, items }) => (\r\n    <div className=\"flex flex-col text-left\">\r\n      <span className=\"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1\">\r\n        {title}\r\n      </span>\r\n      <div className=\"flex flex-wrap gap-1\">\r\n        {items && items.length > 0 ? (\r\n          items.map((item, idx) => (\r\n            <span key={idx} className=\"text-[11px] bg-black/40 border border-white/5 px-2 py-0.5 rounded text-gray-300 italic\">\r\n              {item}\r\n            </span>\r\n          ))\r\n        ) : (\r\n          <span className=\"text-[10px] text-gray-600 italic\">None set</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md flex flex-col min-h-[400px]\">\r\n      \r\n      {/* Header */}\r\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\r\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest\">\r\n          Character Story & Persona\r\n        </h3>\r\n        <div className=\"flex gap-1\">\r\n           <div className=\"w-2 h-2 rounded-full bg-red-900/50\" />\r\n           <div className=\"w-2 h-2 rounded-full bg-red-600/50\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Traits Grid */}\r\n      <div className=\"p-4 grid grid-cols-1 md:grid-cols-3 gap-4 bg-black/20 border-b border-white/5\">\r\n        <StorySection title=\"Personality\" items={stories?.personality} />\r\n        <StorySection title=\"Ideals\" items={stories?.ideals} />\r\n        <StorySection title=\"Flaws\" items={stories?.flaws} />\r\n      </div>\r\n\r\n      {/* Main Long Story Area */}\r\n      <div className=\"relative p-6 flex-1\">\r\n        {/* The Vertical Red Glow Line */}\r\n        <div className=\"absolute left-0 top-6 bottom-6 w-1 bg-red-600 shadow-[0_0_10px_rgba(220,38,38,0.5)] rounded-r\" />\r\n        \r\n        <div className=\"pl-4 text-left\">\r\n          <span className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest block mb-3\">\r\n            Biography\r\n          </span>\r\n          <p className=\"text-sm text-gray-300 leading-relaxed italic font-serif\">\r\n            {stories?.longStory || \"This adventurer's past remains shrouded in mystery. No written history has been recorded in the archives yet...\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer Decoration */}\r\n      <div className=\"p-3 bg-black/40 border-t border-white/5 flex justify-between items-center px-6\">\r\n         <span className=\"text-[9px] text-gray-600 font-bold uppercase italic\">\n            Character ID: {shortId || 'unknown'}...\n         </span>\n         <div className=\"flex gap-2 opacity-20\">\r\n            <div className=\"w-1 h-1 rounded-full bg-white\" />\r\n            <div className=\"w-1 h-1 rounded-full bg-white\" />\r\n            <div className=\"w-1 h-1 rounded-full bg-white\" />\r\n         </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\n","import React from 'react';\n\nconst toTagArray = (value) => {\n  if (Array.isArray(value)) {\n    return [...new Set(value.map((entry) => String(entry).trim()).filter(Boolean))];\n  }\n  if (typeof value === 'string') {\n    return [...new Set(\n      value\n        .split(/[\\n,]/g)\n        .map((entry) => entry.trim())\n        .filter(Boolean)\n    )];\n  }\n  return [];\n};\n\nconst toTitleCase = (value) => {\n  if (!value) return '';\n  return String(value)\n    .replace(/([A-Z])/g, ' $1')\n    .replace(/^./, (char) => char.toUpperCase())\n    .trim();\n};\n\nconst resolveColorValue = (customization, baseKey, customKey) => {\n  const baseValue = String(customization?.[baseKey] || '').trim();\n  const customValue = String(customization?.[customKey] || '').trim();\n\n  if (!baseValue) return '';\n  if (baseValue === 'other' && customValue) return customValue;\n  return baseValue;\n};\n\nexport default function AppearanceCard({ character }) {\n  if (!character) return null;\n\n  const { gender, alignment, customization, model, age } = character;\n  const additionalTraits = toTagArray(customization?.additionalTraits);\n  const colorEntries = [\n    { key: 'skin', label: 'Skin', value: resolveColorValue(customization, 'skinColor', 'skinColorCustom') },\n    { key: 'eyes', label: 'Eyes', value: resolveColorValue(customization, 'eyeColor', 'eyeColorCustom') },\n    { key: 'hair', label: 'Hair', value: resolveColorValue(customization, 'hairColor', 'hairColorCustom') }\n  ];\n\n  return (\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md\">\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest underline decoration-red-900/50 underline-offset-4\">\n          Appearance\n        </h3>\n        <span className=\"text-[10px] text-gray-600 font-black uppercase tracking-tighter\">\n          {model?.size || 'Medium'} Size\n        </span>\n      </div>\n\n      <div className=\"p-4 space-y-3\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"flex flex-col text-left\">\n            <span className=\"text-[9px] font-black text-gray-500 uppercase tracking-tighter\">Gender</span>\n            <span className=\"text-sm font-bold text-gray-200\">{gender || '-'}</span>\n          </div>\n          <div className=\"flex flex-col text-right\">\n            <span className=\"text-[9px] font-black text-gray-500 uppercase tracking-tighter\">Alignment</span>\n            <span className=\"text-sm font-bold text-emerald-500 italic uppercase tracking-tighter\">{alignment || '-'}</span>\n          </div>\n        </div>\n\n        <div className=\"h-px bg-white/5 w-full\" />\n\n        <div className=\"grid grid-cols-3 gap-2 py-1\">\n          {colorEntries.map(({ key, label, value }) => {\n            const isHex = /^#[0-9a-fA-F]{6}$/.test(value || '');\n            return (\n              <div key={key} className=\"bg-black/20 p-2 rounded border border-white/5 text-center group hover:border-red-900/30 transition-colors\">\n                <span className=\"block text-[8px] font-black text-gray-500 uppercase\">{label}</span>\n                <div className=\"flex items-center justify-center gap-1 mt-1\">\n                  {value && (\n                    <span\n                      className=\"inline-block h-2.5 w-2.5 rounded-full border border-white/20\"\n                      style={isHex ? { backgroundColor: value } : undefined}\n                    />\n                  )}\n                  <span className=\"text-xs font-bold text-gray-300 capitalize\">\n                    {value ? (isHex ? value : toTitleCase(value)) : '-'}\n                  </span>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"h-px bg-white/5 w-full\" />\n\n        <div className=\"bg-black/40 p-3 rounded-lg border border-red-900/20 shadow-inner\">\n          <div className=\"grid grid-cols-3 gap-2\">\n            <div className=\"flex flex-col text-left border-r border-white/5\">\n              <span className=\"text-[8px] font-black text-gray-600 uppercase\">Age</span>\n              <span className=\"text-xs font-bold text-white tracking-tight\">\n                {age?.years || '-'} Years\n              </span>\n            </div>\n            <div className=\"flex flex-col text-center border-r border-white/5\">\n              <span className=\"text-[8px] font-black text-gray-600 uppercase\">Height</span>\n              <span className=\"text-xs font-bold text-white\">{model?.height || '-'}\"</span>\n            </div>\n            <div className=\"flex flex-col text-right\">\n              <span className=\"text-[8px] font-black text-gray-600 uppercase\">Weight</span>\n              <span className=\"text-xs font-bold text-white\">{model?.weight || '-'} lbs</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"h-px bg-white/5 w-full\" />\n\n        <div className=\"space-y-2\">\n          <span className=\"text-[9px] font-black text-gray-500 uppercase tracking-tighter\">Additional Traits</span>\n          <div className=\"flex flex-wrap gap-1\">\n            {additionalTraits.length === 0 && (\n              <span className=\"text-[10px] text-gray-600 italic\">None set</span>\n            )}\n            {additionalTraits.map((tag) => (\n              <span key={tag} className=\"text-[11px] bg-black/40 border border-white/5 px-2 py-0.5 rounded text-gray-300 italic\">\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"h-1 w-full bg-gradient-to-r from-transparent via-red-900/50 to-transparent\" />\n    </div>\n  );\n}\n","import React from 'react';\r\n\r\nexport default function AttributesCard({ stats }) {\r\n  if (!stats) return null;\r\n\r\n  const getModifier = (score) => {\r\n    const mod = Math.floor((score - 10) / 2);\r\n    return mod >= 0 ? `+${mod}` : mod;\r\n  };\r\n\r\n  // Separate LUCK from the other stats\r\n  const statEntries = Object.entries(stats).filter(([key, value]) => \r\n    key !== \"_id\" && key !== \"LUCK\" && typeof value === 'object'\r\n  );\r\n  const luckStat = stats.LUCK;\r\n\r\n  // Reusable Stat Block Component\r\n  const StatBlock = ({ name, data, fullWidth = false }) => (\r\n    <div className={`relative group bg-black/40 p-3 rounded-lg border border-white/5 hover:border-red-900/40 hover:bg-red-900/5 transition-all duration-300 text-center shadow-inner ${fullWidth ? 'col-span-2' : ''}`}>\r\n      <span className=\"block text-[10px] text-gray-500 font-black tracking-widest uppercase mb-1 group-hover:text-red-500 transition-colors\">\r\n        {name}\r\n      </span>\r\n      <div className=\"flex flex-col items-center justify-center\">\r\n        <span className={`${fullWidth ? 'text-5xl' : 'text-4xl'} font-black text-white leading-none tracking-tighter`}>\r\n          {data.total}\r\n        </span>\r\n        <div className=\"mt-1 px-2 py-0.5 bg-white/5 rounded border border-white/10 text-[10px] font-black text-gray-300 group-hover:border-red-900/50 group-hover:text-white transition-all\">\r\n          {getModifier(data.total)}\r\n        </div>\r\n      </div>\r\n      <div className=\"text-[9px] text-gray-600 font-bold mt-2 uppercase tracking-tighter\">\r\n        Base: <span className=\"text-gray-400\">{data.permMods?.base || 0}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md\">\r\n      {/* Header */}\r\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\r\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest underline decoration-red-900/50 underline-offset-4\">\r\n          Attributes\r\n        </h3>\r\n        <span className=\"text-[10px] text-gray-600 font-black uppercase tracking-tighter\">Core Stats</span>\r\n      </div>\r\n\r\n      <div className=\"p-4 grid grid-cols-2 gap-3\">\r\n        {/* Render standard 2-column stats */}\r\n        {statEntries.map(([key, value]) => (\r\n          <StatBlock key={key} name={key} data={value} />\r\n        ))}\r\n\r\n        {/* Render LUCK centered at the bottom */}\r\n        {luckStat && (\r\n          <div className=\"col-span-2 mt-2 pt-2 border-t border-white/5\">\r\n             <StatBlock name=\"LUCK\" data={luckStat} fullWidth={true} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"h-1 w-full bg-gradient-to-r from-transparent via-red-950 to-transparent opacity-30\" />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default function VitalsCard({ character }) {\r\n  if (!character) return null;\r\n\r\n  const { HP, MP, STA, water, food } = character;\r\n\r\n  const VitalsBar = ({ label, current, max, temp = 0, color, glow }) => {\r\n    const percentage = Math.min((current / max) * 100, 100);\r\n    const tempPercentage = temp > 0 ? Math.min((temp / max) * 100, 100) : 0;\r\n\r\n    return (\r\n      <div className=\"space-y-1.5 mb-4\">\r\n        <div className=\"flex justify-between items-end px-1\">\r\n          <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest\">{label}</span>\r\n          <div className=\"text-[11px] font-bold text-white\">\r\n            {temp > 0 && <span className=\"text-yellow-500\">+{temp} </span>}\r\n            {current} <span className=\"text-gray-500\">/ {max}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"relative h-3 bg-black rounded-full border border-white/10 overflow-hidden shadow-inner\">\r\n          {/* Main Bar */}\r\n          <div \r\n            className={`absolute h-full ${color} ${glow} transition-all duration-500 ease-out`}\r\n            style={{ width: `${percentage}%` }}\r\n          />\r\n          {/* Temp HP overlay (striped) */}\r\n          {temp > 0 && (\r\n            <div \r\n              className=\"absolute h-full bg-yellow-500/30 border-r border-yellow-400 opacity-50\"\r\n              style={{ width: `${tempPercentage}%`, left: `${percentage}%` }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-website-default-800/90 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-md\">\r\n      \r\n      {/* Header */}\r\n      <div className=\"p-4 bg-black/40 border-b border-white/5 flex justify-between items-center\">\r\n        <h3 className=\"text-xs font-black text-red-600 uppercase italic tracking-widest underline decoration-red-900/50 underline-offset-4\">\r\n          Vitals\r\n        </h3>\r\n        <div className=\"flex gap-1.5\">\r\n           <div className=\"w-1.5 h-1.5 rounded-full bg-red-600 animate-pulse\" />\r\n           <span className=\"text-[9px] text-gray-500 font-black uppercase\">Live Status</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-4 pb-2\">\r\n        {/* Resource Bars */}\r\n        <VitalsBar \r\n          label=\"Health\" \r\n          current={HP.current} \r\n          max={HP.max} \r\n          temp={HP.temp}\r\n          color=\"bg-red-600\" \r\n          glow=\"shadow-[0_0_12px_rgba(220,38,38,0.5)]\" \r\n        />\r\n        <VitalsBar \r\n          label=\"Mana\" \r\n          current={MP.current} \r\n          max={MP.max} \r\n          color=\"bg-blue-600\" \r\n          glow=\"shadow-[0_0_12px_rgba(37,99,235,0.5)]\" \r\n        />\r\n        <VitalsBar \r\n          label=\"Stamina\" \r\n          current={STA.current} \r\n          max={STA.max} \r\n          color=\"bg-emerald-600\" \r\n          glow=\"shadow-[0_0_12px_rgba(5,150,105,0.5)]\" \r\n        />\r\n      </div>\r\n\r\n      {/* Survival Stats (Food/Water) */}\r\n      <div className=\"grid grid-cols-2 gap-px bg-white/5 border-t border-white/5\">\r\n        <div className=\"bg-black/40 p-3 text-center group hover:bg-blue-900/10 transition-colors\">\r\n          <p className=\"text-[9px] text-gray-500 font-black uppercase tracking-widest mb-1\">Hydration</p>\r\n          <div className=\"flex items-center justify-center gap-2\">\r\n            <span className=\"text-blue-400 text-sm\"></span>\r\n            <p className=\"text-md font-black text-white italic\">\r\n              {water.current} <span className=\"text-gray-600 text-[10px]\">/ {water.max}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-black/40 p-3 text-center group hover:bg-orange-900/10 transition-colors\">\r\n          <p className=\"text-[9px] text-gray-500 font-black uppercase tracking-widest mb-1\">Nutrition</p>\r\n          <div className=\"flex items-center justify-center gap-2\">\r\n            <span className=\"text-orange-400 text-sm\"></span>\r\n            <p className=\"text-md font-black text-white italic\">\r\n              {food.current} <span className=\"text-gray-600 text-[10px]\">/ {food.max}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Visual Footer */}\r\n      <div className=\"h-1 w-full bg-gradient-to-r from-red-600/0 via-red-600/20 to-red-600/0\" />\r\n    </div>\r\n  );\r\n}","import Body from \"../../pageComponents/bodySkeleton\";\nimport { SocketContext } from \"../../socket.io/context\";\nimport { useContext, useEffect, useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Equipment from \"./characterViewerPages/equipment\";\nimport InventoryBox from \"./characterViewerPages/inventory\";\nimport EffectsTab from \"./characterViewerPages/effects\";\nimport ActionsTab from \"./characterViewerPages/actions\";\nimport ProfileCard from \"./characterViewerPages/level\";\nimport StoryBox from \"./characterViewerPages/storyBox\";\nimport AppearanceCard from \"./characterViewerPages/appearance\";\nimport AttributesCard from \"./characterViewerPages/attributes\";\nimport VitalsCard from \"./characterViewerPages/vitals\";\n\nconst STAT_KEYS = [\"STR\", \"DEX\", \"CON\", \"INT\", \"WIS\", \"CHA\", \"LUCK\"];\nconst EMPTY_RESOURCE = { current: 0, max: 0, temp: 0 };\nconst EMPTY_SURVIVAL_RESOURCE = { current: 0, max: 0 };\n\nconst EQUIPMENT_SLOT_ALIASES = {\n  head: [\"head\", \"innerhead\", \"outerhead\"],\n  body: [\"body\", \"innerbody\", \"outerbody\"],\n  back: [\"back\"],\n  arms: [\"arms\"],\n  hands: [\"hands\"],\n  legs: [\"legs\", \"innerlegs\", \"outerlegs\"],\n  feet: [\"feet\", \"innerfeet\", \"outerfeet\"],\n  weapon: [\"weapon\"],\n  fists: [\"fists\"],\n  neck: [\"neck\"],\n  waist: [\"waist\"],\n  fingers: [\"fingers\"],\n  trinkets: [\"trinkets\"],\n  face: [\"face\"],\n  eyes: [\"eyes\"],\n};\n\nconst toFiniteNumber = (value, fallback = 0) => {\n  const numeric = Number(value);\n  return Number.isFinite(numeric) ? numeric : fallback;\n};\n\nconst toIdString = (value) => {\n  if (!value) return \"\";\n  if (typeof value === \"string\") return value;\n  if (typeof value === \"number\") return String(value);\n  if (typeof value === \"object\") {\n    if (value.$oid) return String(value.$oid);\n    if (value._id?.$oid) return String(value._id.$oid);\n    if (value._id) return String(value._id);\n    if (value.id) return String(value.id);\n    if (typeof value.toString === \"function\") return value.toString();\n  }\n  return String(value);\n};\n\nconst normalizeResource = (rawResource, builtResource, builtBaseResource) => {\n  const source = builtResource || builtBaseResource || rawResource || EMPTY_RESOURCE;\n  return {\n    current: toFiniteNumber(source.current, 0),\n    max: toFiniteNumber(source.max, 0),\n    temp: toFiniteNumber(source.temp, 0),\n  };\n};\n\nconst normalizeStats = (rawStats = {}, builtStats = {}, builtBaseStats = {}) => {\n  const normalized = {};\n\n  STAT_KEYS.forEach((key) => {\n    const rawValue = rawStats?.[key];\n    const builtValue = builtStats?.[key];\n\n    const totalFromBuilt =\n      typeof builtValue === \"object\"\n        ? builtValue?.total ?? builtValue?.score ?? builtValue?.value\n        : builtValue;\n    const totalFromRaw =\n      typeof rawValue === \"object\"\n        ? rawValue?.total ?? rawValue?.score ?? rawValue?.value\n        : rawValue;\n    const total = toFiniteNumber(totalFromBuilt, toFiniteNumber(totalFromRaw, 0));\n\n    const base = toFiniteNumber(\n      builtValue?.permMods?.base ??\n        builtBaseStats?.[key] ??\n        rawValue?.permMods?.base ??\n        total,\n      total\n    );\n\n    normalized[key] = {\n      ...(typeof rawValue === \"object\" ? rawValue : {}),\n      ...(typeof builtValue === \"object\" ? builtValue : {}),\n      total,\n      permMods: {\n        ...(rawValue?.permMods || {}),\n        ...(builtValue?.permMods || {}),\n        base,\n      },\n    };\n  });\n\n  return normalized;\n};\n\nconst normalizeEquipment = (rawEquipment = {}, builtEquippedItems = []) => {\n  const itemById = new Map();\n  (builtEquippedItems || []).forEach((item) => {\n    const itemId = toIdString(item?._id || item?.id);\n    if (itemId) itemById.set(itemId, item);\n  });\n\n  const normalized = {};\n  Object.entries(EQUIPMENT_SLOT_ALIASES).forEach(([slot, sourceSlots]) => {\n    const slotItems = sourceSlots.flatMap((sourceSlot) => rawEquipment?.[sourceSlot] || []);\n    normalized[slot] = slotItems\n      .map((itemRef) => {\n        const itemId = toIdString(itemRef);\n        const resolved = itemById.get(itemId);\n        if (resolved) return resolved;\n        if (!itemId) return null;\n        return {\n          id: itemId,\n          _id: itemId,\n          name: `Item ${itemId.slice(0, 8)}`,\n        };\n      })\n      .filter(Boolean);\n  });\n\n  return normalized;\n};\n\nconst normalizeActionType = (rawType) => {\n  const normalized = String(rawType || \"\")\n    .trim()\n    .toLowerCase()\n    .replace(/\\s+/g, \"\");\n\n  switch (normalized) {\n    case \"bonus\":\n    case \"bonusaction\":\n      return \"bonusAction\";\n    case \"reaction\":\n      return \"reaction\";\n    case \"move\":\n    case \"movement\":\n      return \"movement\";\n    case \"free\":\n    case \"freeaction\":\n      return \"free\";\n    case \"passive\":\n      return \"passive\";\n    case \"special\":\n      return \"special\";\n    default:\n      return \"action\";\n  }\n};\n\nconst toActionId = (value) =>\n  String(value || \"\")\n    .trim()\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"_\")\n    .replace(/^_+|_+$/g, \"\");\n\nconst normalizeActionEntries = (input) => {\n  if (Array.isArray(input)) return input;\n  if (typeof input === \"string\") return [input];\n  if (input && typeof input === \"object\") {\n    return Object.entries(input).map(([name, value]) => {\n      if (value && typeof value === \"object\" && !Array.isArray(value)) {\n        return { ...value, name: value.name || name };\n      }\n      if (typeof value === \"string\") {\n        return { name, description: value };\n      }\n      return { name };\n    });\n  }\n  return [];\n};\n\nconst normalizeActions = (rawActions, builtActions) => {\n  const merged = [\n    ...normalizeActionEntries(rawActions),\n    ...normalizeActionEntries(builtActions),\n  ];\n\n  const dedupe = new Set();\n  const normalized = [];\n\n  merged.forEach((action, index) => {\n    const source =\n      typeof action === \"string\"\n        ? { name: action, source: \"custom\" }\n        : action && typeof action === \"object\"\n          ? action\n          : null;\n    if (!source) return;\n\n    const name = String(source.name || source.label || source.title || \"\").trim();\n    if (!name) return;\n\n    const normalizedAction = {\n      id: String(source.id || toActionId(name) || `action_${index + 1}`),\n      name,\n      actionType: normalizeActionType(source.actionType || source.type),\n      source: String(source.source || source.sourceType || \"custom\"),\n      sourceId: String(source.sourceId || \"\"),\n      description: String(source.description || \"\"),\n      cost: String(source.cost || \"\"),\n      requirements: Array.isArray(source.requirements)\n        ? source.requirements.map((entry) => String(entry).trim()).filter(Boolean)\n        : [],\n      enabled: source.enabled !== false,\n    };\n\n    const dedupeKey = `${normalizedAction.id}|${normalizedAction.actionType}|${normalizedAction.source}`.toLowerCase();\n    if (dedupe.has(dedupeKey)) return;\n\n    dedupe.add(dedupeKey);\n    normalized.push(normalizedAction);\n  });\n\n  return normalized;\n};\n\nconst mergeCharacterForViewer = (rawCharacter, builtCharacter) => {\n  const raw = rawCharacter || {};\n  const built = builtCharacter || {};\n  const rawInventory = raw.inv || {};\n\n  return {\n    ...raw,\n    ...built,\n    _id: raw._id || built._id || built.id,\n    id: String(built.id || raw.id || raw._id || \"\"),\n    race: built.race || raw.race,\n    classType: built.classType || raw.classType,\n    subclass: built.subclassType?.name || raw.subclass,\n    stats: normalizeStats(raw.stats, built.stats, built._baseStats),\n    HP: normalizeResource(raw.HP, built.HP, built._baseHP),\n    MP: normalizeResource(raw.MP, built.MP, built._baseMP),\n    STA: normalizeResource(raw.STA, built.STA, built._baseSTA),\n    water: raw.water || EMPTY_SURVIVAL_RESOURCE,\n    food: raw.food || EMPTY_SURVIVAL_RESOURCE,\n    effects: raw.effects || built.statusEffects || [],\n    actions: normalizeActions(raw.actions, built.actions),\n    inv: {\n      ...rawInventory,\n      gp: toFiniteNumber(rawInventory.gp, 0),\n      items: rawInventory.items || {},\n      equipment: normalizeEquipment(rawInventory.equipment || {}, built.equippedItems || []),\n    },\n  };\n};\n\nexport default function CharacterViewer() {\n  const socket = useContext(SocketContext);\n  const navigate = useNavigate();\n  const { characterID } = useParams();\n  const playerID = localStorage.getItem(\"player_ID\");\n  const [character, setCharacter] = useState(null);\n  const [viewContexts, setViewContexts] = useState([]);\n  const [selectedContextKey, setSelectedContextKey] = useState(\"\");\n  const [activeContext, setActiveContext] = useState(null);\n  const [contextsLoaded, setContextsLoaded] = useState(false);\n  const [canEditBase, setCanEditBase] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!socket || !characterID || !playerID) {\n      setLoading(false);\n      setContextsLoaded(false);\n      return;\n    }\n\n    let cancelled = false;\n    setContextsLoaded(false);\n    setLoading(true);\n    setError(null);\n\n    socket.emit(\n      \"character_getViewContexts\",\n      { playerID, characterID },\n      (response) => {\n        if (cancelled) return;\n\n        if (!response?.success) {\n          setCharacter(null);\n          setViewContexts([]);\n          setSelectedContextKey(\"\");\n          setCanEditBase(false);\n          setError(response?.message || \"Failed to load character contexts\");\n          setLoading(false);\n          setContextsLoaded(false);\n          return;\n        }\n\n        const contexts = Array.isArray(response.contexts) ? response.contexts : [];\n        const fallbackContextKey = contexts[0]?.key || \"\";\n        const defaultKey = response.defaultContextKey || fallbackContextKey;\n\n        setViewContexts(contexts);\n        setCanEditBase(Boolean(response.canEditBase));\n        setSelectedContextKey(defaultKey);\n        setError(null);\n        setContextsLoaded(true);\n      }\n    );\n\n    return () => {\n      cancelled = true;\n    };\n  }, [socket, characterID, playerID]);\n\n  useEffect(() => {\n    if (!socket || !characterID || !playerID || !contextsLoaded || !selectedContextKey) {\n      return;\n    }\n\n    let cancelled = false;\n    setLoading(true);\n    setError(null);\n\n    const requestedCampaignID = selectedContextKey.startsWith(\"campaign:\")\n      ? selectedContextKey.slice(\"campaign:\".length)\n      : \"\";\n\n    socket.emit(\n      \"character_getViewData\",\n      {\n        playerID,\n        characterID,\n        contextKey: selectedContextKey,\n        campaignID: requestedCampaignID,\n      },\n      (response) => {\n        if (cancelled) return;\n\n        if (!response?.success) {\n          setCharacter(null);\n          setActiveContext(null);\n          setError(response?.message || \"Failed to load character\");\n          setLoading(false);\n          return;\n        }\n\n        const merged = mergeCharacterForViewer(\n          response.rawCharacter || {},\n          response.builtCharacter || {}\n        );\n        setCharacter(merged);\n        setActiveContext(response.context || null);\n        setCanEditBase(Boolean(response.canEditBase));\n        setError(null);\n        setLoading(false);\n      }\n    );\n\n    return () => {\n      cancelled = true;\n    };\n  }, [socket, characterID, playerID, contextsLoaded, selectedContextKey]);\n\n  const selectedContext = useMemo(() => {\n    return (\n      viewContexts.find((context) => context.key === selectedContextKey) ||\n      activeContext ||\n      null\n    );\n  }, [viewContexts, selectedContextKey, activeContext]);\n\n  if (loading) return <div className=\"text-white p-10\">Loading...</div>;\n  if (error) return <div className=\"text-red-400 p-10\">Error: {error}</div>;\n  if (!character) return <div className=\"text-white p-10\">Character not found.</div>;\n\n  const raceName =\n    character?.race?.name ||\n    character?.raceName ||\n    (typeof character?.race === \"string\" ? character.race : undefined);\n  const className =\n    character?.classType?.name ||\n    character?.className ||\n    (typeof character?.classType === \"string\" ? character.classType : undefined);\n  const characterId = toIdString(character?._id || character?.id || characterID);\n  const safeSessionID = sessionStorage.getItem(\"session_ID\") || \"default\";\n  const isBaseContext = selectedContextKey === \"base\";\n  const contextLabel =\n    selectedContext?.type === \"campaign\"\n      ? selectedContext?.campaignName || \"Campaign\"\n      : \"Base Character\";\n\n  return (\n    <Body className=\"bg-website-default-900\">\n      <Body.Header title={character.name || \"Character\"} />\n\n      <Body.Center className=\"p-6 text-left\">\n        <div className=\"mb-5 flex flex-wrap items-center justify-end gap-3\">\n          <div className=\"text-xs uppercase tracking-widest text-website-default-400\">\n            Viewing: {contextLabel}\n          </div>\n          <select\n            value={selectedContextKey}\n            onChange={(event) => setSelectedContextKey(String(event.target.value || \"\"))}\n            className=\"rounded-md border border-website-default-600 bg-website-default-800 px-3 py-2 text-sm text-website-default-100\"\n          >\n            {viewContexts.map((context) => (\n              <option key={context.key} value={context.key}>\n                {context.type === \"base\"\n                  ? \"Base Character\"\n                  : `Campaign: ${context.campaignName || \"Campaign\"}`}\n              </option>\n            ))}\n          </select>\n          {canEditBase && isBaseContext && (\n            <button\n              type=\"button\"\n              onClick={() => navigate(`/ISK/${safeSessionID}/character/edit/${characterId}`)}\n              className=\"rounded-md border border-website-highlights-500 bg-website-highlights-600/20 px-3 py-2 text-sm text-website-highlights-200 hover:bg-website-highlights-600/30\"\n            >\n              Edit Character\n            </button>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-[1fr_2fr_1fr] gap-6\">\n          \r\n          {/* LEFT COLUMN: Vitals & XP */}\r\n          <div className=\"space-y-4\">\r\n\r\n            <div>\n                <ProfileCard\n                    character = {character}\n                    raceName = {raceName}\n                    className = {className}\n                />\n            </div>\n\r\n            <div className=\"bg-website-default-800/50 p-4 rounded-xl border border-white/5 shadow-xl\">\r\n                <VitalsCard\r\n                    character = {character}\r\n                />\r\n\r\n              \r\n            </div>\r\n\r\n             <div>\n                <EffectsTab \n                effects={character?.effects}\n                \n                />\n              </div>\n\n              <div>\n                <ActionsTab actions={character?.actions} />\n              </div>\n\n             \n           </div>\n\r\n          {/* MIDDLE COLUMN: Attributes */}\r\n          <div className=\"space-y-4\">\r\n          <div className=\"bg-website-default-800/50 p-4 rounded-xl border border-white/5 shadow-xl\">\r\n            <AttributesCard\r\n                stats ={character.stats}\r\n            />\r\n            \r\n          </div>\r\n\r\n          <div className=\"col-span-3\">\r\n            {/* Passing character?.inv?.equipment ensures we don't pass undefined to the component */}\r\n            <Equipment \r\n                equipment={character?.inv?.equipment} \r\n                gp={character?.inv?.gp} \r\n            />\r\n            </div>\r\n\r\n          </div>\r\n\r\n          {/* RIGHT COLUMN: Details */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"bg-website-default-800/50 p-4 rounded-xl border border-white/5 shadow-xl\">\r\n             <AppearanceCard\r\n                character ={character}\r\n             />\r\n            </div>\r\n            <div>\r\n\r\n                <InventoryBox\r\n                    inventory={character?.inv}\r\n                    characterWeight={character?.weight}\r\n                />\r\n            </div>\r\n             <div className=\"bg-website-default-800/50 p-4 rounded-xl border border-white/5 shadow-xl\">\r\n             <StoryBox \r\n                character = {character}\r\n             />\r\n              \r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </Body.Center>\r\n\r\n      <Body.Footer>\n        <div className=\"text-[10px] text-gray-600 uppercase tracking-widest\">\n          Character ID: {characterId}\n        </div>\n      </Body.Footer>\n    </Body>\n  );\n}\n","import './App.css';\nimport { HashRouter  as Router, Routes, Route } from 'react-router-dom';\nimport ProtectedRoute from './handlers/protectedRoutes';\nimport { GameProvider } from './data/gameContext';\n\r\nimport Login from './pages/login';\r\nimport StartScreen from './pages/startScreen';\r\nimport HomePage from './pages/homePage';\nimport SignUp from './pages/signUp';\nimport Test from './pages/test'\nimport Test2 from './pages/test2'\nimport Setting from './pages/setting';\nimport LoreMenu from './pages/lore/loreMenu';\nimport GameComponent from './pages/game/game'\nimport LobbyLayout from './pages/campaign/lobbyLayout';\nimport LobbyMenu from './pages/campaign/campaignMenu';\nimport JoinLobby from './pages/campaign/joinCampaign';\nimport CreateLobby from './pages/campaign/createCampaign';\n\r\nimport CharacterMenu from './pages/characters/characterMenu';\r\nimport CharacterCreation from './pages/characters/characterCreation'\r\nimport CharacterViewer from './pages/characters/characterViewer';\r\n\r\nimport { SocketContext, socket } from './socket.io/context';\r\nimport { useEffect, useState } from 'react';\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [connectionError, setConnectionError] = useState(null);\r\n\r\n  function GameWrapper() {\r\n  return (\r\n    <GameProvider>\r\n      <GameComponent />\r\n    </GameProvider>\r\n  );\r\n}\r\n\r\n\r\n  useEffect(() => {\r\n    console.log('Attempting to connect to socket...');\r\n\r\n    socket.on(\"connect\", () => {\n      console.log(\"Connected with ID:\", socket.id);\n      const existingSessionID = sessionStorage.getItem(\"session_ID\");\n      const stableSessionID = existingSessionID || socket.id.toString();\n      if (!existingSessionID) {\n        sessionStorage.setItem(\"session_ID\", stableSessionID);\n      }\n\n      const playerID = localStorage.getItem(\"player_ID\");\n      if (playerID) {\n        socket.emit(\"login_tokenSave\", { playerID, sessionID: stableSessionID }, () => {});\n        socket.emit(\"playerData_logOn\", { playerID });\n      }\n      setIsConnected(true);\n      setConnectionError(null);\n    });\n\r\n    socket.on(\"disconnect\", (reason) => {\r\n      console.log(\"Disconnected:\", reason);\r\n      setIsConnected(false);\r\n    });\r\n\r\n    socket.on(\"welcome\", (data) => {\n      console.log(\"Server says:\", data.message);\n    });\n\r\n    socket.on(\"connect_error\", (err) => {\r\n      console.error(\"Socket connection error:\", err.message);\r\n      setConnectionError(err.message);\r\n      setIsConnected(false);\r\n    });\r\n\r\n    // Manually connect if not already connected\r\n    if (!socket.connected) {\r\n      socket.connect();\r\n    }\r\n\r\n    return () => {\r\n      if(localStorage.getItem(\"player_ID\")){\r\n        socket.emit(\"playerData_logOff\", { playerID: localStorage.getItem(\"player_ID\") });\r\n      }\r\n\r\n      socket.off(\"connect\");\r\n      socket.off(\"disconnect\");\r\n      socket.off(\"welcome\");\r\n      socket.off(\"connect_error\");\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <SocketContext.Provider value={socket}>\r\n      {/* Optional: Show connection status */}\r\n      {connectionError && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          background: 'orange',\r\n          color: 'white',\r\n          padding: '10px',\r\n          textAlign: 'center',\r\n          zIndex: 9999\r\n        }}>\r\n          Connection Error: {connectionError}. Retrying...\r\n        </div>\r\n      )}\r\n      \r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/\" element={<StartScreen />} />\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/signup\" element={<SignUp />} />\n          <Route path=\"/settings\" element={<Setting />} />\n          <Route path=\"/test\" element={<Test />} />\n          <Route path=\"/test2\" element={<Test2 />} />\n          <Route path=\"/ISK/:sessionID\" element={<ProtectedRoute />}> \n            <Route path=\"home\" element={<HomePage />} />\n            <Route path=\"settings\" element={<Setting />} />\n            <Route path=\"lore\" element={<LoreMenu />} />\n            <Route path=\"lore/:topic\" element={<LoreMenu />} />\n\n            <Route path=\"character\">\n              <Route index element={<CharacterMenu />}/>\n              <Route path=\"creation\" element={<CharacterCreation />} />\r\n              <Route path=\"view/:characterID\" element={<CharacterViewer />} />\r\n              <Route path=\"edit/:characterID\" element={<CharacterCreation />} />\r\n            </Route>\r\n\r\n            <Route path=\"lobby\" element ={<LobbyLayout />}>\n              <Route index element ={<LobbyMenu />} />\n              <Route path=\"menu\" element ={<LobbyMenu />} />\n              <Route path=\"join\" element ={<JoinLobby />} />\n              <Route path=\"create\" element ={<CreateLobby />} />\n              \r\n            </Route>\r\n            <Route path=\"game/:gameID\" element ={<GameWrapper  />} />\r\n\r\n          </Route>\r\n        </Routes>\r\n      </Router>\r\n    </SocketContext.Provider>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","node","nodeType","getNearestMountedFiber","fiber","nearestMounted","alternate","return","flags","tag","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","Error","findCurrentHostFiberImpl","child","sibling","assign","Object","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","name","_context","innerType","render","_payload","_init","x","isArrayImpl","Array","isArray","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","value","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","prototype","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","rootHasPendingCommit","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$6","getBumpedLaneForHydrationByLane","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","window","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","parentNode","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","prefix","suffix","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","call","test","removeAttribute","prefix$8","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","describeBuiltInComponentFrame","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","set","Reflect","control","x$9","x$10","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","getStackByFiberInDevAndProd","workInProgress","info","message","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","document","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","canUseDOM","createElement","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","location","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$282","isSupported$jscomp$inline_417","element$jscomp$inline_418","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","FiberNode","pendingProps","mode","elementType","refCleanup","ref","updateQueue","memoizedProps","subtreeFlags","deletions","createFiberImplClass","shouldConstruct","Component","isReactComponent","createWorkInProgress","firstContext","resetWorkInProgress","createFiberFromTypeAndProps","owner","fiberTag","hostContext","itemProp","precedence","rel","onLoad","onError","async","src","isHostHoistableType","createFiberFromFragment","elements","createFiberFromText","content","createFiberFromPortal","portal","pendingChildren","implementation","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldSetTextContent","getNextHydratable","isSingletonScope","previousHydratableOnEnteringScopedSingleton","resetHydrationState","upgradeHydrationErrorsToRecoverable","queuedErrors","workInProgressRootRecoverableErrors","apply","error","valueCursor","currentlyRenderingFiber$1","lastContextDependency","pushProvider","providerFiber","nextValue","popProvider","scheduleContextWorkOnParentPath","propagationRoot","propagateContextChanges","contexts","forcePropagateEntireTree","list","nextFiber","dependency","propagateParentContextChanges","isInsidePropagationBailout","currentParent","checkIfContextChanged","currentDependencies","memoizedValue","prepareToReadContext","readContext","readContextForConsumer","readContextDuringReconciliation","consumer","AbortControllerLocal","AbortController","signal","aborted","listener","abort","forEach","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","status","prevOnStartTransitionFinish","S","then","thenable","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","workInProgressRoot","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","SuspenseException","SuspenseyCommitException","SuspenseActionException","noopSuspenseyCommitThenable","isThenableResolved","noop$3","trackUsedThenable","thenableState","checkIfUseWrappedInAsyncCatch","reason","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","rejectedReason","hasForceUpdate","initializeUpdateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","cloneUpdateQueue","createUpdate","payload","callback","enqueueUpdate","executionContext","entangleTransitions","queueLanes","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","suspendIfUpdateReadFromEntangledAsyncAction","processUpdateQueue","workInProgress$jscomp$0","instance$jscomp$0","pendingQueue","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","workInProgressRootRenderLanes","workInProgressRootSkippedLanes","callCallback","commitCallbacks","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","currentlyRenderingFiber","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter$1","thenableState$1","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","secondArg","nextRenderLanes","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","useMemoCache","size","map","array","basicStateReducer","state","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$32","revertLane","hasEagerState","eagerState","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffectImpl","subscribeToStore","bind","pushSimpleEffect","destroy","resource","updateStoreInstance","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$38","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionStateActionEffect","rerenderActionState","create","createDeps","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","mountEffect","updateEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","updateImperativeHandle","concat","mountDebugValue","updateCallback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$41","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useFormState","useActionState","useOptimistic","useCacheRefresh","initialArg","init","identifierPrefix","booleanOrThenable","thenableIndexCounter","unwrapThenable","coerceRef","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","updateElement","updateFragment","updatePortal","fragment","createChild","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","reconcileChildFibers","mountChildFibers","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","isSuspenseInstanceFallback","revealOrder","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","enqueueSetState","_reactInternals","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$73","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$74","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$75","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","bailoutOnAlreadyFinishedWork","updateMemoComponent","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","markRef","replayFunctionComponent","updateClassComponent","contextType","updater","refs","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","primaryChildren","offscreenProps","_pendingMarkers","_retryCache","_transitions","scheduleSuspenseWorkOnFiber","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","crossOrigin","title","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","markUpdate","preloadResourceAndSuspendIfNeeded","loading","preloadResource","scheduleRetryEffect","retryQueue","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$113","bubbleProperties","completedWork","didBailout","newChildLanes","child$114","completeWork","pendingContext","createElementNS","innerHTML","removeChild","appendChild","autoFocus","createTextNode","cache$127","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","destroy_","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$143","commitHostMount","focus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$205","propKey$221","propKey$226","propKey$231","setPropOnCustomElement","propKey$236","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","_reactRootContainer","insertOrAppendPlacementNode","commitHostSingletonAcquisition","singleton","attributes","removeAttributeNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$142","commitSuspenseHydrationCallbacks","readyState","_reactRetry","registerSuspenseInstanceRetry","retryDehydratedSuspenseBoundary","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","prevHostParent","prevHostParentIsContainer","releaseSingletonInstance","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","property","httpEquiv","charSet","mountHoistable","acquireResource","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","wasHidden","prevOffscreenSubtreeIsHidden","recursivelyTraverseDisappearLayoutEffects","display","hostParentFiber","parent$144","parent$146","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","suspendedState","media","matchMedia","matches","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","pendingEffectsStatus","pendingEffectsRoot","pendingFinishedWork","pendingEffectsLanes","pendingEffectsRemainingLanes","pendingPassiveTransitions","pendingRecoverableErrors","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrentByScheduler","thrownValue$169","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$4","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$2","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$167","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","flushPendingEffects","finishedLanes","remainingLanes","previouslyPendingLanes","index$5","hiddenUpdatesForLane","markRootFinished","callbackNode","callbackPriority","flushPassiveEffects","eventsEnabled","_enabled","selection","rangeCount","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","focusedElem","selectionRange","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","flushMutationEffects","flushLayoutEffects","flushSpawnedWork","rootMutationHasEffect","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","min","win","start$jscomp$0","end$jscomp$0","extend","startMarker","endMarker","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","rootHasLayoutEffect","releaseRootPooledCache","onCommitFiberRoot","onRecoverableError","recoverableError","wasDelayedCommit","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","scheduleMicrotask","processRootScheduleInImmediateTask","processRootScheduleInMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$174","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$3","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1528","eventName$jscomp$inline_1529","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$188","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","possiblePreambleContribution","depth","nextNode","nextNode$jscomp$0","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$244","resource$245","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$250","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1785","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$0","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2256","bundleType","rendererPackageName","currentDispatcherRef","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2257","isDisabled","supportsFiber","inject","exports","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","module","webpackContext","req","webpackContextResolve","__webpack_require__","o","ReactNoopUpdateQueue","isMounted","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","V","ReactElement","self","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","default","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__COMPILER_RUNTIME","__proto__","cloneElement","config","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","permalink","Context","webpackEmptyContext","checkDCE","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","useFormStatus","jsxProd","maybeKey","jsx","jsxs","heap","parentIndex","peek","first","halfLength","leftIndex","rightIndex","right","diff","sortIndex","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","needsPaint","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","isMessageLoopRunning","schedulePerformWorkUntilDeadline","firstTimer","requestHostTimeout","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","priorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_forceFrameRate","fps","floor","unstable_next","eventHandler","unstable_runWithPriority","delay","timeout","unstable_wrapCallback","parentPriorityLevel","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","definition","chunkId","all","reduce","promises","u","miniCssF","obj","prop","inProgress","dataWebpackPrefix","l","script","needAttach","s","charset","nc","onScriptComplete","doneFns","toStringTag","installedChunks","j","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","PopStateEventType","createHashHistory","getUrlBasedHistory","window2","globalHistory","pathname","hash","parsePath","substring","startsWith","createLocation","usr","to","base","hashIndex","createPath","warning","charAt","JSON","stringify","invariant","cond","warn","getHistoryState","idx","_ref","path","parsedPath","searchIndex","getLocation","createHref2","validateLocation","v5Compat","history","getIndex","handlePop","nextIndex","delta","createURL","createBrowserURLImpl","replaceState","listen","createHref","encodeLocation","historyState","pushState","DOMException","go","isAbsolute","origin","URL","matchRoutes","routes","locationArg","matchRoutesImpl","basename","allowPartial","stripBasename","branches","flattenRoutes","sort","score","siblings","every","compareIndexes","routesMeta","meta","childrenIndex","rankRouteBranches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","caseSensitive","joinPaths","computeScore","exploded","explodeOptionalSegments","segments","rest","isOptional","required","restExploded","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","filter","segment","branch","matchedParams","matchedPathname","remainingPathname","matchPath","params","pathnameBase","normalizePathname","pattern","matcher","compiledParams","compilePath","captureGroups","memo2","_ref2","paramName","splatValue","regexpSource","_","v","decodeURIComponent","startIndex","nextChar","getInvalidPathError","field","dest","getPathContributingMatches","getResolveToMatches","pathMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","fromPathname","resolvePathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","statusText","internal","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","DataRouterStateContext","RSCRouterContext","ViewTransitionContext","isTransitioning","FetchersContext","AwaitContext","NavigationContext","LocationContext","RouteContext","outlet","isDataRoute","RouteErrorContext","useInRouterContext","React2","useLocation","navigateEffectWarning","useIsomorphicLayoutEffect","cb","static","useNavigate","router","useDataRouterContext","useCurrentRouteId","activeRef","navigate","fromRouteId","useNavigateStable","dataRouterContext","navigator","routePathnamesJson","parse","relative","useNavigateUnstable","OutletContext","useParams","routeMatch","useResolvedPath","useRoutesImpl","dataRouterState","future","parentMatches","parentParams","parentPathname","parentPathnameBase","parentRoute","warningOnce","locationFromContext","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","navigationType","DefaultErrorComponent","useRouteError","lightgrey","preStyles","padding","backgroundColor","codeStyles","devInfo","fontStyle","defaultErrorElement","RenderErrorBoundary","super","revalidation","routeContext","component","RenderedRoute","_ref10","staticContext","errorElement","ErrorBoundary","_deepestRenderedBoundaryId","errors","initialized","errorIndex","findIndex","renderFallback","fallbackIndex","HydrateFallback","hydrateFallbackElement","loaderData","errors2","needsToRunLoader","loader","reduceRight","shouldRenderHydrateFallback","matches2","getChildren","getDataRouterConsoleError","hookName","ctx","useDataRouterState","useRouteContext","thisRoute","routeId","alreadyWarned","alreadyWarned2","warnOnce","condition","React3","_ref13","Navigate","_ref15","replace2","isStatic","jsonPath","Outlet","useOutlet","Route","Router","_ref16","basenameProp","locationProp","staticProp","navigationContext","locationContext","trailingPathname","Routes","_ref17","createRoutesFromChildren","treePath","hasErrorBoundary","shouldRevalidate","handle","defaultMethod","defaultEncType","isHtmlElement","_formDataSupportsSubmitter","supportedFormEncTypes","getFormEncType","getFormSubmissionInfo","attr","isButtonElement","isInputElement","isFormDataSubmitterSupported","append","getOwnPropertyNames","globalThis","createHtml","html","invariant2","singleFetchUrl","reqUrl","extension","loadRouteModule","routeModulesCache","routeModule","import","__reactRouterContext","isSpaMode","reload","isPageLinkDescriptor","page","isHtmlLinkDescriptor","getNewMatchesForLinks","nextMatches","currentMatches","manifest","isNew","matchPathChanged","manifestRoute","hasLoader","routeChoice","currentUrl","currentParams","nextUrl","nextParams","defaultShouldRevalidate","getModuleLinkHrefs","includeHydrateFallback","hrefs","clientActionModule","clientLoaderModule","hydrateFallbackModule","imports","flat","dedupeLinkDescriptors","descriptors","preloads","preloadsSet","deduped","sorted","sortKeys","isFogOfWarEnabled","routeDiscovery","ssr","useDataRouterContext2","React8","useDataRouterStateContext","FrameworkContext","useFrameworkContext","composeEventHandlers","theirHandler","ourHandler","getActiveMatches","isHydrated","errorIdx","PrefetchPageLinks","_ref31","linkProps","PrefetchPageLinksImpl","useKeyedPrefetchLinks","routeModules","keyedPrefetchLinks","setKeyedPrefetchLinks","interrupted","mod","links","getKeyedPrefetchLinks","_ref32","newMatchesForData","newMatchesForAssets","dataHrefs","routesParams","foundOptOutRoute","m2","hasClientLoader","searchParams","moduleHrefs","_ref33","Scripts","serverHandoffString","renderMeta","routerMatches","isRSCRouterContext","enableFogOfWar","didRenderScripts","initialScripts","contextScript","routeModulesScript","hmr","routeIndex","routeVarName","manifestEntry","clientMiddlewareModule","chunks","varName","chunk","_ref27","sri","routeIds","Boolean","initialRoutes","acc","getPartialManifest","entry","mergeRefs","_len3","_key3","React9","RemixRootDefaultErrorBoundary","_ref34","isOutsideRemixApp","errorInstance","heyDeveloper","BoundaryShell","fontSize","errorString","background","_ref35","renderScripts","Layout","lang","fontFamily","isBrowser","__reactRouterVersion","HashRouter","_ref37","historyRef","React10","setStateImpl","ABSOLUTE_URL_REGEX2","Link","_ref39","forwardedRef","absoluteHref","discover","prefetch","reloadDocument","preventScrollReset","viewTransition","isExternal","targetUrl","protocol","joinedPathname","useHref","shouldPrefetch","prefetchRef","prefetchHandlers","theirElementProps","frameworkContext","maybePrefetch","setMaybePrefetch","setShouldPrefetch","onFocus","onBlur","onMouseEnter","onMouseLeave","onTouchStart","observer","IntersectionObserver","entries","isIntersecting","threshold","observe","disconnect","setIntent","cancelIntent","usePrefetchBehavior","internalOnClick","replaceProp","isModifiedEvent","shouldProcessLinkClick","useLinkClickHandler","_ref40","ariaCurrentProp","className","classNameProp","routerState","vtContext","useDataRouterContext3","currentPath","currentLocation","nextPath","nextLocation","useViewTransitionState","nextLocationPathname","navigation","endSlashPosition","isActive","isPending","renderProps","ariaCurrent","Form","_ref41","fetcherKey","onSubmit","submit","useSubmit","URLSearchParams","indexValues","getAll","qs","useFormAction","submitMethod","getDataRouterConsoleError2","fetcherId","getUniqueFetcherId","currentRouteId","fetch","ProtectedLayout","setCurrentLocation","locationFormatted","sessionStorage","setItem","isSessionValid","sessionID","sessionIDstore","getItem","success","useSessionCheck","_jsx","mapImages","toAssetKey","mapImageMap","fileName","MAP_IMAGE_OPTIONS","localeCompare","GameContext","DEFAULT_LIGHTING","enabled","ambient","shadowEnabled","shadowStrength","shadowSoftness","shadowLength","shadowBlend","sources","intensity","blend","DEFAULT_MAX_HP_BY_TERRAIN","wall","obstacle","DEFAULT_FLOOR_TYPE_BY_TERRAIN","DEFAULT_ELEVATION_HEIGHT_BY_TERRAIN","DEFAULT_FLOOR_TYPES","terrainType","floorVisualType","description","movementCost","blocksMovement","effects","trigger","BACKGROUND_OPTIONS","DEFAULT_CHARACTERS","position","visionDistance","rotation","visionArc","team","DEFAULT_MAP_OBJECTS","floorTypeId","elevationHeight","zLevel","z","maxHP","hp","hitbox","offsetX","offsetY","scale","toNumber","parsed","Number","isFinite","toPositiveNumber","max","toNonNegativeNumber","normalizeObjectType","normalizeHexColor","raw","normalizeMapAssetKey","normalizeTerrainType","clampZLevel","round","clampHitboxScale","clampLightAxis","normalizeFloorVisualType","normalizeLightingDirection","magnitude","hypot","normalizeLightingSource","normalizeLightSourceType","sourceInput","normalized","_source$worldX","_source$position","_source$worldY","_source$position2","worldX","worldY","direction","normalizeLightingConfig","normalizeFloorTypeID","candidate","normalizeFloorTypeCollection","safeList","byID","visualType","normalizeFloorTypeDefinition","values","getMaxObjectId","resolveElevationInput","_DEFAULT_ELEVATION_HE","height3D","objectHeight","shadowHeight","normalizeMapObject","_hitboxSource$scale","fallbackId","defaultMaxHP","hitboxSource","mapAssetKey","mapKey","mapImageKey","hitboxType","hitboxScale","getObjectBounds","halfWidth","halfHeight","minX","maxX","minY","maxY","radius","isWallObject","wouldWallOverlap","objects","ignoreId","candidateBounds","candidateLevel","ignored","doBoundsOverlap","normalizeCharacter","_source$position3","_source$position4","GameProvider","selectedChar","setSelectedChar","fogEnabled","setFogEnabled","isDM","setIsDM","characters","setCharacters","lastMouse","setLastMouse","camera","zoom","bgImage","mapObjects","setMapObjects","currentMapId","setCurrentMapId","backgroundKey","setBackgroundKey","mapObjectPlacement","setMapObjectPlacement","currentZLevel","setCurrentZLevel","floorTypes","setFloorTypes","lighting","setLighting","nextMapObjectIdRef","mapObjectsRef","ensureNextObjectId","nextId","createMapObject","draft","candidateId","newObject","updated","updateCharacter","characterId","updates","moveCharacter","selectCharacter","toggleFog","handleCharacterAction","find","addMapObject","updateMapObject","numericId","targetIndex","currentObject","safeUpdates","merged","layoutSensitiveKeys","deleteMapObject","replaceAllMapObjects","newObjects","accepted","enforceWallOverlapRules","armMapObjectPlacement","_DEFAULT_ELEVATION_HE2","_ref3","_ref4","_config$elevationHeig","_config$hitbox","_config$hitbox2","_config$hitbox3","_config$hitbox$scale","_config$hitbox4","defaultElevationHeight","clearMapObjectPlacement","replaceFloorTypes","newFloorTypes","setLightingDirection","firstDirectionalIndex","replaceLighting","lightingConfig","addLightSource","lightSource","newSource","updateLightSource","lightId","removeLightSource","placePendingMapObjectAt","overrides","safeOverrides","placed","loadGameSnapshot","snapshot","character","saveMapToDatabase","loadMapFromDatabase","mapId","stepZLevelUp","stepZLevelDown","screenToWorld","camX","camY","worldToScreen","worldMouseCoords","lightPlacement","setLightPlacement","armLightPlacement","_Number","_Number2","clearLightPlacement","placeLightAt","_lighting$sources","substr","backgroundOptions","mapImageOptions","useGame","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","isView","buffer","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","Uint8Array","byteOffset","byteLength","TEXT_ENCODER","chars","lookup","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","len","arraybuffer","bytes","decode","SEPARATOR","createPacketEncoderStream","TransformStream","transform","packet","arrayBuffer","encoded","TextEncoder","encode","encodePacketToBinary","payloadLength","header","DataView","setUint8","setUint16","setBigUint64","BigInt","enqueue","TEXT_DECODER","totalLength","concatChunks","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","args","emitReserved","hasListeners","nextTick","setTimeoutFn","globalThisShim","Function","pick","_len","_key","k","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","useNativeTimers","clearTimeoutFn","str","utf8Length","ceil","randomString","TransportError","Transport","writable","query","socket","forceBase64","open","doOpen","close","doClose","onClose","send","packets","write","onOpen","onData","onPacket","details","pause","onPause","createUri","schema","_hostname","_port","_query","hostname","secure","encodedQuery","Polling","_polling","_poll","total","doPoll","decodePayload","encodedPayload","encodedPackets","decodedPacket","encodePayload","doWrite","uri","timestampRequests","timestampParam","sid","b64","XMLHttpRequest","hasCORS","empty","BaseXHR","isSSL","xd","xhrStatus","pollXhr","Request","createRequest","_opts","_method","_uri","_data","_create","_a","xdomain","xhr","_xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","cookieJar","addCookies","withCredentials","requestTimeout","onreadystatechange","parseCookies","getResponseHeader","_onLoad","_onError","_index","requestsCount","requests","_cleanup","fromError","responseText","unloadHandler","hasXHR2","newRequest","responseType","isReactNative","product","BaseWS","protocols","headers","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","ev","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","transports","websocket","_packet","webtransport","_transport","WebTransport","transportOptions","closed","ready","createBidirectionalStream","stream","decoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","pow","createPacketDecoderStream","MAX_SAFE_INTEGER","reader","readable","pipeThrough","getReader","encoderStream","pipeTo","_writer","getWriter","read","polling","re","parts","exec","host","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","t","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","qry","pairs","pair","_beforeunloadEventListener","transport","_offlineEventListener","_onClose","_cookieJar","createCookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","flush","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","upgrading","_getWritablePackets","payloadSize","_hasPingExpired","hasExpired","msg","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_upgrades","_probe","failed","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","_filterUpgrades","upgrades","filteredUpgrades","Socket","DEFAULT_TRANSPORTS","withNativeFile","File","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","num","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","isObject","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","buf","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","freeze","connect","connect_error","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","auth","_autoConnect","disconnected","subEvents","subs","onpacket","active","_readyState","_b","_c","_len2","_key2","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","isConnected","notifyOutgoingListeners","_this","ackTimeout","withError","emitWithAck","_len4","_key4","arg1","arg2","_this2","tryCount","_len5","responseArgs","_key5","_drainQueue","force","_sendConnectPacket","_pid","pid","_lastOffset","_clearAcks","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","_len6","_key6","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","factor","jitter","attempts","duration","rand","deviation","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","onreconnect","attempt","loc","sameNamespace","forceNew","multiplex","SocketContext","images","imageMap","getImage","baseName","username","setUsername","setPassword","waitForSessionID","timeoutMs","intervalMs","startedAt","poll","cancelled","playerID","localStorage","lastLocation","response","removeItem","autoLogin","_jsxs","backgroundImage","onChange","cleanUsername","errorMessage","alert","userID","userId","resolvedSessionID","tokenResponse","handleStart","handleSettings","handleExit","navigateTo","goToLore","goToCampaign","goToCharacters","SignupScreen","Signup","michelangeloEngine","layers","renderFrame","layer","draw","shouldRedraw","canvas","backgroundLayer","clearRect","fillStyle","fillRect","canvasRatio","imgRatio","drawWidth","drawHeight","drawImage","GRID_SIZE","gridlayer","strokeStyle","lineWidth","worldLeft","worldTop","worldRight","worldBottom","startWorldX","endWorldX","startWorldY","endWorldY","beginPath","moveTo","lineTo","stroke","sideWidth","setSideWidth","dragging","setDragging","contextMenu","setContextMenu","spacePressed","isPanning","popUp","setPopUp","formatSingleCanvas","dpr","devicePixelRatio","rect","getBoundingClientRect","getContext","setTransform","img","Image","layerRefs","useCanvasLayers","bgCanvasRef","grid","gridCanvasRef","fog","fogCanvasRef","resize","canvasRef","CharacterPlaceholder","sprite","visionRange","visiondistance","visionarc","worldMouseCords","isVisible","playerChars","dx","dy","angleDiff","atan2","PI","abs","onMouseUp","bgCanvas","gridCanvas","bgctx","gridctx","raf","loop","requestAnimationFrame","cancelAnimationFrame","resizeCanvas","clientWidth","clientHeight","onMouseMove","mousePosition","newWidth","innerWidth","onKeyDown","onKeyUp","handleAction","charId","onMouseDown","world","foundChar","onWheel","mouseX","mouseY","onContextMenu","isLeft","maxWidth","gridTemplateColumns","toPascalCase","string","camelCase","p1","p2","toCamelCase","mergeClasses","classes","hasA11yProp","defaultAttributes","xmlns","viewBox","fill","strokeWidth","strokeLinecap","strokeLinejoin","Icon","absoluteStrokeWidth","iconNode","attrs","createLucideIcon","iconName","Check","TabContext","Tabs","defaultTab","onTabChange","activeTab","setActiveTab","Nav","Tab","label","completed","hasLabel","activeClasses","disabledClasses","completedClasses","Prev","disabledProp","Next","_ref5","Panels","_ref6","Panel","_ref7","Backpack","ScrollText","Sparkles","cx","cy","Feather","NotebookPen","Users","Settings2","Wrench","didResolve","toTimestamp","getTime","formatDateTime","timestamp","toLocaleString","normalizeSaveCollection","aTime","updatedAt","createdAt","SaveRow","save","activeSaveID","_id","gameID","manualSaves","setManualSaves","autoSaves","setAutoSaves","activeGameSave","setActiveGameSave","loadingSaves","setLoadingSaves","loadingSaveID","setLoadingSaveID","saveStatus","setSaveStatus","saveError","setSaveError","autoSaveLimit","setAutoSaveLimit","cameraSnapshot","_camera$current","_camera$current2","_camera$current3","toFixed","hydrateSaveLists","allSaves","gameSaves","manual","isAutoSave","limit","auto","loadSaveList","campaignID","toLocaleTimeString","loadSave","_response$engineState","_response$gameSave","safeSaveID","gameSaveID","engineState","gameSave","_char$position","_char$position2","clamp","LIGHT_WHEEL_SIZE","LIGHT_WHEEL_INNER_MARGIN","clampDirectionalToUnitDisk","xValue","yValue","_creationDraft$maxHP","_creationDraft$hp","selectedObject","setSelectedObject","creationDraft","setCreationDraft","saveName","setSaveName","saveDescription","setSaveDescription","saving","setSaving","setStatus","setError","selectedLightID","setSelectedLightID","directionWheelDragging","setDirectionWheelDragging","directionWheelRef","selectedPlacementType","placementLabel","_mapObjectPlacement$z","floorTypesByTerrain","byTerrain","terrain","creationFloorTypeOptions","typedList","availableMapImages","available","normalizedLighting","safe","lightSources","_lightSources$","selectedLightSource","selectedLightSourceID","selectedLightType","directionalLightVector","directionalLightTilt","lightWheelRadius","lightWheelKnobOffset","patchLightingGlobal","patchSelectedLight","updateDirectionalFromClientPoint","centerX","centerY","maxDistance","distance","ratio","handleDirectionalWheelMouseDown","applyObjectHPDelta","objectID","amount","sortedObjects","levelDiff","bg","assetKey","armMapStampPlacement","_floorOptions$","floorOptions","defaultFloorTypeId","mapDraft","createDirectionalLight","preset","nextType","tabIndex","nextX","nextY","LIGHT_WHEEL_KNOB_SIZE","withFixedDirectionalX","nextXValue","currentYValue","currentY","sqrt","withFixedDirectionalY","nextYValue","currentXValue","currentX","removeSelectedLight","_prev$maxHP","_prev$hp","defaultHP","armPlacement","quickPlaceAtCursor","metadata","objectCount","makeActive","exportMap","json","blob","createObjectURL","download","click","remove","revokeObjectURL","accept","_event$target$files","file","files","_e$target","readAsText","_obj$zLevel","_obj$hp","_obj$zLevel2","_obj$maxHP","_obj$hp2","_obj$hitbox$scale","_obj$hitbox","PlaceholderPanel","subtitle","hint","GameSidePanel","Admin","MapEditor","LAYER_CONFIG","zIndex","mood","resizeAllCanvases","formatCanvas","_layerRefs$current$co","handleMouseUp","el","renderSelectedInfo","House","LogIn","Github","Linkedin","LogOut","Setting","homeRoute","loggedIn","Home","handleSignOut","Book","Shield","User","Sword","points","x1","x2","y1","y2","Skull","PanelsTopLeft","rx","Header_Menu","sessionRoute","itemClass","sectionHeader","Inbox","RefreshCcw","Search","Star","Paperclip","classNames","xs","UnreadDot","show","Mail_Card","sender","avatarUrl","subject","snippet","unread","flagged","onToggleSelect","initials","_parts$","_parts$2","getInitials","when","getFullYear","getMonth","getDate","hour","minute","toLocaleDateString","day","formatTimestamp","role","alt","Header_Mail","messages","setMessages","setLoading","searchText","setSearchText","selectedMessageID","setSelectedMessageID","busyAction","setBusyAction","loadMailbox","silent","CustomEvent","unreadCount","inviteCount","kind","filteredMessages","_message$from","markMessageRead","messageID","openMessage","handleInviteAction","campaignName","_Fragment","_message$from2","_message$payload","isInvite","invitePending","isBusy","ShieldCheck","Settings","Header_PFP","isAdmin","user","level","actionLink","Mail","CircleUserRound","Header","openPanel","setOpenPanel","setUnreadCount","locate","headerRef","isMenuOpen","isMailOpen","isProfileOpen","togglePanel","panel","refreshUnreadCount","onDocMouseDown","onMailboxUpdated","pageTitle","popoverClasses","isOpen","btnStyle","CircleQuestionMark","Footer","linkClass","HelpCircle","Body","Center","TOPICS","lore","icon","backgrounds","races","spells","items","enemies","TOPIC_ORDER","LoreMenu","topic","safeTopic","baseRoute","activeTopic","ActiveIcon","item","TERRAIN_ORDER","TERRAIN_STYLE","fillAlpha","strokeColor","lineDash","labelColor","FLOOR_EFFECT_STYLE","_Number6","_Number7","getObjectZLevel","getObjectElevationHeight","getObjectRadiusLikeValue","getLowerLevelOpacity","resolveFloorVisualType","floorTypesByID","floorTypeID","floorType","getTerrainSortOrder","_TERRAIN_ORDER$terrai","MAP_IMAGE_CACHE","getCachedMapImage","image","getMapImage","drawShape","objectType","arc","strokeRect","closePath","getObjectSegmentsWorld","circleSegments","segs","buildPolySegs","pts","hw","hh","cos","sin","cross2d","ax","ay","bx","by","raySegmentT","ox","oy","ry","denom","tx","ty","castRayBeyond","maxRange","minT","nearest","computeVisibilityPolygon","lx","ly","ANGLE_EPSILON","bx0","by0","bx1","by1","boundaryCorners","allSegs","angles","pt","angle","hit","castRay","drawDirectionalShadowVolumes","opacity","otherSegs","_Number1","_Number10","lightX","lightY","lightTilt","_Number0","globalAlpha","shadowColor","shadowBlur","restore","shadowDirX","shadowDirY","maxWorldReach","baseAlpha","blurPx","tA","tB","ax2","ay2","bx2","by2","drawRaycastShadowLayer","allSolids","segsByIndex","solid","allSegments","seg","drawPointLightRaycastShadow","_Number8","_Number9","visPoints","shadowAlpha","lsx","lsy","screenRange","drawObjectMultiSourceShadows","_Number11","_Number12","objX","objY","falloff","drawObjectShadowFromPointLight","drawObjectShadowFromDirectionalLight","drawResizeGuides","bounds","getObjectBoundsWorld","topLeft","topRight","bottomLeft","bottomRight","topCenter","heightHandle","setLineDash","drawMapObject","isGhost","showLabel","baseOpacity","isSelected","drawShadows","terrainStyle","getTerrainStyle","terrainLabel","mapImage","isMapImageObject","point","drawRectMapImage","imageSmoothingEnabled","font","textAlign","objectLabel","fillText","drawObjectHPBar","buildMapRenderData","_state$selectedMapObj","buildFloorTypesByID","minVisibleLowerLevel","selectedMapObjectID","zDiff","lowerLevelObjects","activeObjects","lowerLevelFloors","lowerLevelSolids","activeFloors","activeSolids","selectedActiveObject","_obj$id","blockedMovePreview","showResizeHandles","getMapRenderData","mapRenderData","shouldRedrawMapLayer","includeLighting","includeSelection","includeOverlay","mapFloorLayer","renderData","mapSolidsLayer","normalizeDirectionalVector","hexToRgb","hex","parseInt","g","GAME_LAYER_REGISTRY","_Number3","_Number4","_Number5","normalizeLighting","byLevel","solids","ambientAlpha","globalCompositeOperation","drawDirectionalLightContribution","tilt","strength","rgb","overheadLift","sourceDistance","darkX","darkY","gradient","createLinearGradient","maxLift","addColorStop","drawPointLightContribution","createRadialGradient","boxW","boxH","vignette","drawBlockedMovePreview","ZOOM_FACTOR","MIN_ZOOM","findTopMapObjectAt","terrainPriority","_obj$hitbox2","_obj$hitbox3","_obj$hitbox4","p0","area","s1","s2","s3","isPointInsideTriangle","isPointInsideMapObject","toEntityID","isSameEntity","getMapObjectBounds","worldToScreenWithCamera","isTypingTarget","isContentEditable","buildPlacementFromDrag","placementConfig","startWorld","endWorld","_contextMenu$target","_contextMenu$target2","safeSessionID","selectedEntity","setSelectedEntity","dragTarget","setDragTarget","gameContextError","setGameContextError","loadingGameContext","setLoadingGameContext","placementDrag","setPlacementDrag","autoSaveStatus","setAutoSaveStatus","turnNumber","setTurnNumber","infoPanelPosition","setInfoPanelPosition","infoPanelDrag","setInfoPanelDrag","setBlockedMovePreview","resizeTarget","setResizeTarget","layerBindingsRef","prevStateRef","applyingServerStateRef","skipNextAutoSaveRef","syncingWorldRef","autoSavingRef","autoSaveTimerRef","hasAutoSaveBaselineRef","latestSnapshotRef","keysPressed","KeyW","KeyA","KeyS","KeyD","KeyQ","KeyE","runAutoSave","snapshotSource","triggerLabel","scheduleAutoSave","immediate","handleTurnDone","canEdit","_response$permissions","_response$campaign","explicitPermission","permissions","dmID","campaign","dmId","normalizedPlayerID","resolveDMPermission","initialSnapshot","bootstrapGameContext","handleServerWorldUpdate","_payload$engineState","_response$engineState2","statePatch","getWorldFromMouseEvent","findCharacterAt","activeMapObjects","findInteractionTargetAt","characterTarget","mapObjectTarget","selectedEntityData","entity","clampInfoPanelPosition","innerHeight","onResize","binding","registry","bindLayerCanvases","onEscape","selectEntity","fallbackWorld","currentWorld","releaseWorld","endClientX","startClient","endClientY","draggedPlacement","_response$engineState3","handleContextAction","contextWorld","_camera$current5","_character$position","_character$position2","nextTeam","_camera$current6","restoredHP","handleInfoPanelMouseDown","placementPreview","placement","center","screen","getScreenFromMouseEvent","handles","buildResizeHandlesForObject","hitHandle","RESIZE_HANDLE_HIT_RADIUS_PX","findResizeHandleAtScreenPoint","startClientY","startHeight","anchor","handleID","getResizeAnchorForHandle","anchorX","anchorY","objectTarget","_characterTarget$posi","_characterTarget$posi2","_camera$current4","deltaHeight","nextHeight","targetX","targetY","ignoreKey","wouldWallOverlapAtPosition","fillOpacity","strokeDasharray","panelPos","Lock","Globe","Play","Save","Upload","UserX","Eye","IndexCardFolder","formatDateLabel","dateValue","toID","buildCampaignRoster","dmName","players","player","fallbackPlayerLabel","normalizedID","isClickable","clickedElement","Element","closest","Top","Middle","Bottom","Title","Description","_ref8","Actions","_ref9","Detail","_ref0","_settingsModalData$ca","_settingsModalData$ca2","_settingsModalData$ca3","_characterPreviewStat2","_characterPreviewStat3","campaigns","setCampaigns","saveLists","setSaveLists","saveLoading","setSaveLoading","activeSaveMap","setActiveSaveMap","settingsCampaignID","setSettingsCampaignID","descriptionModalCampaignID","setDescriptionModalCampaignID","inviteUsernameByCampaign","setInviteUsernameByCampaign","characterStateByCampaign","setCharacterStateByCampaign","characterPickerState","setCharacterPickerState","lobbyCode","selectedCharacterID","submitting","characterPreviewState","setCharacterPreviewState","assignment","ownerName","lobbyContextMenu","setLobbyContextMenu","loadCampaigns","refreshSaveList","closeContextMenu","isCampaignDM","buildFallbackCharacterState","roster","rosterNameByID","member","assignmentList","characterAssignments","allCharactersByPlayer","playerId","memberID","playerName","assignedCharacterId","characterName","characterLevel","myCharactersResponse","assignments","availableCharacters","canManageAllCharacters","loadedFromFallback","refreshCampaignCharacterState","campaignHint","primaryState","fallbackCampaign","fallbackState","fallbackUsed","getAssignmentsForCampaign","stateEntry","getAvailableCharactersForCampaign","campaignIDs","stateValue","upsertCampaignFromResponse","updatedCampaign","found","existingCampaign","goToGame","handleStartLobby","handleJoinLobby","openCharacterPickerForCampaign","_availableCharacters$","_availableCharacters$2","_campaign$activeLobby","refreshResult","_refreshResult$state","fallbackResponse","characterID","_prev$campaignID","_prev$campaignID2","_prev$campaignID3","firstCharacterID","activeLobby","handleEnterLobbyRequest","_campaign$activeLobby2","_campaign$activeLobby3","_campaign$activeLobby4","hasSelectedCharacter","handleConfirmCharacterSelection","handleOpenCharacterPreview","handleViewCharacterFromPreview","_characterPreviewStat","handleForceRemoveCharacterAssignment","targetPlayerID","confirm","handleLobbyCardContextMenu","handleLeaveCampaign","handleQuickSave","savedAt","toISOString","handleLoadSave","handleLobbyMemberToggle","shouldBeInLobby","_campaign$activeLobby5","_campaign$activeLobby6","currentMembers","members","memberIDs","handleManagePlayer","providedTargetName","targetMember","targetName","actionLabel","handleInvitePlayer","_response$invitedPlay","invitedName","invitedPlayer","alreadyMember","alreadyInvited","descriptionModalCampaign","settingsModalData","_campaign$activeLobby7","rosterByID","nonDmPlayers","bannedPlayers","selectedAssignmentsForDM","selectedPlayerID","lobbyMembers","isSettingsBusy","isManageBusy","isInviteBusy","isForceRemoveBusy","characterPickerCampaign","characterPickerCharacters","_campaign$activeLobby8","_campaign$activeLobby9","_campaign$activeLobby0","_campaign$activeLobby1","_campaign$activeLobby10","lobbyAssignments","saves","isSaveLoading","playerCanEnterLobby","joinCode","memberCount","maxPlayers","isPrivate","setting","assignmentPlayerID","isMine","loadKey","memberIsDM","groupPlayerID","canForceRemove","forceRemoveBusy","assignmentForPreview","setJoinCode","setSubmitting","formattedCode","alreadyJoined","setForm","maxLength","Pen","Trash2","Plus","Heart","Zap","Droplet","CharacterCard","_character$classType","_character$class","_character$race","_character$hp","_character$hp2","_character$hp3","_character$sta","_character$sta2","_character$mp","_character$mp2","classType","class","raceName","race","scrollbarWidth","scrollbarColor","StatBar","sta","mp","stats","_value$total","stat","statValue","getModifier","percentage","isLow","isCritical","red","yellow","blue","modifier","normalizeCharacterForCard","rawCharacter","HP","_baseHP","MP","_baseMP","STA","_baseSTA","fallbackStats","normalizeStats","_baseStats","CharacterMenu","_contextMenu$characte","builtCharacters","setBuiltCharacters","logPrefix","loadInFlightRef","lastLoadKeyRef","menuLoadStartedAt","_listResponse$charact","listStartedAt","listResponse","durationMs","charList","builtMap","buildAllStartedAt","builtChar","errorMsg","buildCharacter","totalDurationMs","loadAndBuildCharacters","_contextMenu$characte2","handleViewCharacter","_contextMenu$characte3","handleEditCharacter","Edit2","handleDeleteCharacter","prevCharacters","normalizedCharacter","handleContextMenu","Skeleton","defaultCharacter","age","years","gender","model","weight","alignment","customization","skinColor","skinColorCustom","eyeColor","eyeColorCustom","hairColor","hairColorCustom","additionalTraits","stories","longStory","personality","ideals","flaws","relationships","subclass","subrace","dex","con","int","wis","cha","luck","abilityScoreMethod","abilityScoreChoices","inv","gp","equipment","legs","feet","arms","hands","weapon","fingers","neck","trinkets","skills","proficiencies","languages","actions","editing","classBaseItemIds","classBaseProficiencies","classEquipmentChoices","classAnyItemSelections","backgroundBaseGp","backgroundBaseItemIds","backgroundBaseProficiencies","backgroundEquipmentChoices","backgroundAnyItemSelections","proficiencyChoices","createDefaultCharacter","structuredClone","GameDataContext","GameDataProvider","gameData","subclasses","subraces","maps","classesById","subclassesById","racesById","subracesById","backgroundsById","itemsByItemId","itemsByMongoId","sc","sr","itemId","arrays","selectors","getClassById","getSubclassById","getRaceById","getSubraceById","getBackgroundById","getItemByMongoId","getItemByItemId","getSubclassesForClass","parentClass","getRacesBySize","useGameData","ArrowBigLeftDash","ArrowBigRightDash","genderOptions","CircleUser","Shuffle","ChevronUp","ChevronDown","CardContext","Card","defaultOpen","setIsOpen","Content","DEFAULT_TAGS","COLOR_OPTIONS","hair","skin","eye","toTagArray","Customization","_character$customizat2","_character$stories2","_character$stories4","_character$stories6","_character$age4","_character$age5","_character$age6","_character$age8","_character$age0","_character$age11","_character$age12","_character$model4","_character$age13","_character$age14","_character$age15","_character$age16","_character$age$years","_character$age17","_character$model5","_character$model6","_character$model7","_character$model8","_character$model9","_character$model0","_character$model1","_character$model10","_character$model11","_character$model12","ageInputRef","prevBodyOverflow","editingHeight","setIsEditingHeight","editingWeight","setIsEditingWeight","customGender","setCustomGender","xAlign","setXAlign","yAlign","setYAlign","labelsX","labelsY","inputRef","genderOptionsList","localCharacter","setLocalCharacter","setRelationships","tagInputs","setTagInputs","additionalTraitTags","_character$customizat","personalityTags","_character$stories","idealTags","_character$stories3","flawTags","_character$stories5","changeRelationships","relationshipFormatting","deepMerge","out","emitPartial","partial","relationshipsObj","formatted","setCharacter","pathOrUpdater","cur","updateTagInput","setCustomization","addTag","currentTags","setTags","incoming","getColorSelectionValue","_character$customizat3","getCustomColorValue","customField","_character$customizat4","_character$customizat5","customValue","legacyValue","updateColorSelection","fallbackCustom","renderTagEditor","inputKey","tags","suggestions","addSuggestedTag","removeTag","birthYear","_character$age","_character$age2","_character$age3","today","year","daysInSelectedMonth","_character$age7","BMI","_character$model","_character$model2","heightInches","weightLbs","_character$age9","dim","stopImmediatePropagation","_prev$age","currRaw","curr","dobDate","_character$age1","_character$age10","dayOfWeek","weekday","genderSelectValue","formatHeight","inches","ft","inch","minHeightIn","maxHeightIn","_character$model3","getHeightBounds","val","randomizeGender","option","relationship","removeRelationship","addRelationship","CORE_ABILITY_KEYS","ABILITY_ALIASES","dexterity","constitution","intelligence","wisdom","charisma","normalizeAbilityKey","rawKey","getModifierValue","modifiers","abilityKey","rawValue","normalizeChoiceMap","rawChoiceMap","getChoiceBonus","choiceMap","sanitizeChoiceMap","chooseCount","safeAmount","maxChoices","allowedOptions","picked","parseAbilityScoreChoiceConfig","choices","rawAbilityChoice","abilityScores","abilityScore","abilityScoreModifiers","chooseMatch","amountMatch","_rawAbilityChoice$cho","_rawAbilityChoice$val","choose","_entity$abilityScoreM","chooseFromBase","fixedKeys","uniqueOptions","filteredOptions","opt","finalOptions","finalChooseCount","finalAmount","ABILITY_LABELS","toTitleCase","sizeMap","tiny","small","medium","large","huge","gargantuan","Race","_values$model","selectedRace","selectedSubrace","selectedSize","selectedRaceObj","filteredRaces","normalizedSize","availableSubraces","subracesForRace","sub","subraceID","selectedSubraceObj","raceChoiceConfig","subraceChoiceConfig","raceChoiceMap","subraceChoiceMap","raceDisplayModifiers","ability","subraceDisplayModifiers","renderChoiceCard","accentClass","selectedCount","atLimit","updateAbilityChoice","normalizedAbility","nextChoices","handleRaceChange","raceId","traits","trait","speed","handleSubraceChange","subraceId","rage001","INTDisable001","BarbEmotion001","madDash001","unarmoredDefense001","muscleMemory001","fastMovement001","BarbAttack001","dangerSense001","BarbMantel001","battleInstinct001","extraAttack001","tribalKnowledge001","feralInstinct001","BarbEmotion002","fastMovement002","undyingFury001","BarbScream001","BarbAttack002","destructiveGlance001","BarbMantel002","rage002","proteinShake","rageAura001","generateUniqueId","startingPacks","burglarsPack","diplomatsPack","dungeoneersPack","entertainersPack","explorersPack","priestsPack","scholarsPack","isStartingPack","itemKey","isAnyItem","lower","addItemsToInventory","itemsArray","inventoryMap","quantity","itemMongoId","uniqueId","equipped","ItemID","weaponLists","toolLists","musicalInstruments","artisansTools","gamingSets","getAnyItemOptions","lowerKey","Class","_selectedClass$choice9","_selectedClass$choice0","_selectedClass$choice1","_selectedClass$choice10","selectedSubclass","selectedClass","availableSubclasses","selectedSubclassObj","classId","fullClassData","previousClassData","baseMods","baseProficiencies","resMods","resourcePoolModifier","fixedItems","baseEquipment","itemStr","applyUpdate","_previousClassData$ch","_previousClassData$ch2","_previousClassData$ch3","_values$skills","_values$inv","_values$inv2","_values$inv3","previousClassBase","previousClassSkillOptions","nextClassBase","armor","weapons","tools","proficienciesMap","currentItems","flatMap","choice","addedIds","updatedItems","handleClassChange","baseStatModifier","res","cat","_values$skills7","skillOptions","skill","_values$skills8","skillName","_selectedClass$choice","_selectedClass$choice2","_values$skills2","_values$skills3","_values$skills4","_values$skills5","currentProficiencies","maxAllowed","currentSkillCount","newProficiencies","updatePayload","_values$skills6","handleSkillToggle","itemName","choiceKey","_values$classEquipmen","_values$classEquipmen2","optionKey","hasAnyItems","handleEquipmentChoice","_selectedClass$choice3","_selectedClass$choice4","_selectedClass$choice5","_values$inv4","previousChoices","previousChoice","previousOptionKey","nextAnySelections","_nextAnySelections$ke","itemsToAdd","qty","itemQty","newInventoryItems","isPack","packItem","pIdx","pName","pQty","_values$classAnyItemS","dropdownOptions","selectionKey","selectionData","currentSelection","handleAnyItemSelection","anyItemKey","selectedItem","_selectedClass$choice6","_selectedClass$choice7","_selectedClass$choice8","_values$inv5","choiceItems","isSwitching","_nextAnySelections$ke2","fixedInventoryItems","previousSelection","selectedInventoryItems","uniqueIds","featuresByLevel","_ref1","features","featureId","feature","classFeatures","_ref11","_ref12","Background","_selectedBackground$c9","_selectedBackground$c0","_selectedBackground$c1","_selectedBackground$c10","selectedBackground","isAnyOption","getAnyOptions","lowerOption","itemOptions","handleProficiencyToggle","category","_selectedBackground$c","_selectedBackground$c2","choiceData","currentChoices","currentCount","newChoices","handleAnyProficiencySelection","anyOption","slotIndex","selectedValue","backgroundId","fullBackgroundData","prof","nextBackgroundBase","previousBackgroundGp","currentGp","nextBackgroundGp","normalizedGp","handleBackgroundChange","featureName","descriptions","desc","slots","selectedValues","availableOptions","_values$backgroundEqu","_values$backgroundEqu2","_selectedBackground$c3","_selectedBackground$c4","_selectedBackground$c5","_values$backgroundAny","_selectedBackground$c6","_selectedBackground$c7","_selectedBackground$c8","CORE_STATS","LABELS","POINT_BUY_COST","MAX_BUY","calcPointCost","_POINT_BUY_COST$value","AbilityScores","_values$abilityScoreC2","_values$abilityScoreC4","selectedRaceId","selectedSubraceId","selectedClassId","_values$abilityScoreC","_values$abilityScoreC3","modifiedStats","raceMods","subraceMods","classMods","bonus","setMethod","currentPointTotal","spent","StatPointBuyRow","clamped","nextVal","decStatBuy","curCost","nextCost","incStatBuy","BaseVsModified","positive","rollWeightedStats","weightedRoll","distribution","totalWeight","sum","_stats$s","updateStat","Summary","_character$abilitySco2","_character$abilitySco4","_character$skills","_character$skills2","_selectedSubrace$lang","_character$inv$gp","_character$inv","_character$inv2","_character$level","_character$HP$current","_character$HP","_character$HP$max","_character$HP2","_character$STA$curren","_character$STA","_character$STA$max","_character$STA2","_character$MP$current","_character$MP","_character$MP$max","_character$MP2","onSave","isSaving","setIsSaving","_character$abilitySco","_character$abilitySco3","baseStats","selectedLanguages","itemCount","saveLabel","currentClassChoices","currentBackgroundChoices","requiredChecklist","complete","completeCount","completionPercent","resolveColorValue","baseKey","customKey","baseValue","appearanceColors","eyes","renderTagGroup","StatRow","isHex","DRAFT_STAT_KEYS","toIdString","_value$_id","$oid","asObject","fromEntries","normalizeProficienciesForDraft","rawProficiencies","output","structuredKeys","entryKey","normalizeLanguagesForDraft","rawLanguages","language","normalizeChoiceMapForDraft","cleanKey","numericValue","normalizeInventoryItemsForDraft","rawItems","itemEntry","entryObject","itemID","normalizeEquipmentForDraft","rawEquipment","slot","asStringArray","normalizeCharacterToDraft","_source$age$years","_source$age","_source$age$month","_source$age2","_source$age$day","_source$age3","_source$model$size","_source$model","_source$model$height","_source$model2","_source$model$weight","_source$model3","_source$customization","_source$stories","_source$stories2","_source$stories3","_source$stories4","sourceStats","normalizedStats","getBaseStatForDraft","statsSource","upperKey","lowerRaw","numericLower","upperRaw","_upperRaw$permMods$ba","_upperRaw$permMods","numericUpper","permMods","sourceInv","sourceSkills","sourceChoices","Test2","isEditMode","characterDraft","setCharacterDraft","loadingDraft","setLoadingDraft","draftError","setDraftError","setGameData","collections","results","completedCount","collection","operation","hasOwn","REPLACE_PATHS","updateDraft","hasPath","setPathValue","getPathValue","contextKey","loadedDraft","characterCreation","_characterDraft$abili","_characterDraft$abili2","_characterDraft$skill","_characterDraft$HP$cu","_characterDraft$HP","_characterDraft$MP$cu","_characterDraft$MP","_characterDraft$STA$c","_characterDraft$STA","_characterDraft$skill2","_characterDraft$skill3","_characterDraft$skill4","getById","arr","cls","STAT_KEYS","finalStats","baseStatsWithChoice","choiceBonus","resourceBase","resourceLevelUp","DEX","WIS","CON","maxSTA","maxMP","langsArr","langsMap","abilityScoreChoicesAppliedToBase","noResponse","EquipmentViewer","expandedSlot","setExpandedSlot","Slot","slotKey","hasItems","isExpanded","accessories","group","InventoryBox","_selectedItem$propert","_selectedItem$propert2","_selectedItem$propert3","inventory","characterWeight","searchTerm","setSearchTerm","setFilter","dbItems","setDbItems","setSelectedItem","allItems","_inventory$inv","invItemsMap","_instance$ItemID","_instance$_id","_template$properties","_template$attributes","_template$properties2","charItemID","template","dbItem","_dbItem$_id","instanceId","properties","rarity","filteredItems","matchesSearch","matchesFilter","damage","uses","EffectsTab","hasEffects","effect","ACTION_TYPE_LABELS","bonusAction","reaction","movement","free","special","ActionsTab","visibleActions","actionType","ProfileCard","experience","currentXP","goalXP","nextLevel","xpPercentage","StoryBox","_character$_id","shortId","StorySection","AppearanceCard","colorEntries","AttributesCard","statEntries","luckStat","LUCK","StatBlock","_data$permMods","fullWidth","VitalsCard","water","food","VitalsBar","glow","tempPercentage","EMPTY_RESOURCE","EMPTY_SURVIVAL_RESOURCE","EQUIPMENT_SLOT_ALIASES","back","fists","waist","face","toFiniteNumber","numeric","normalizeResource","rawResource","builtResource","builtBaseResource","rawStats","builtStats","builtBaseStats","_builtValue$total","_rawValue$total","_builtValue$permMods$","_builtValue$permMods","_rawValue$permMods","builtValue","totalFromBuilt","totalFromRaw","normalizeEquipment","builtEquippedItems","itemById","sourceSlots","slotItems","sourceSlot","itemRef","resolved","normalizeActionType","rawType","toActionId","normalizeActionEntries","normalizeActions","rawActions","builtActions","dedupe","normalizedAction","sourceType","sourceId","cost","requirements","dedupeKey","CharacterViewer","viewContexts","setViewContexts","selectedContextKey","setSelectedContextKey","activeContext","setActiveContext","contextsLoaded","setContextsLoaded","canEditBase","setCanEditBase","_contexts$","fallbackContextKey","defaultKey","defaultContextKey","requestedCampaignID","mergeCharacterForViewer","builtCharacter","_built$subclassType","built","rawInventory","subclassType","statusEffects","equippedItems","selectedContext","isBaseContext","contextLabel","Equipment","setIsConnected","connectionError","setConnectionError","GameWrapper","GameComponent","existingSessionID","stableSessionID","StartScreen","Login","SignUp","Test","ProtectedRoute","HomePage","CharacterCreation","LobbyLayout","LobbyMenu","JoinLobby","CreateLobby","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","getElementById","App","reportWebVitals"],"sourceRoot":""}